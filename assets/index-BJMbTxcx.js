const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-0Ebl-WZV.js","assets/webworkerAll-BFTNIRW6.js","assets/colorToUniform-CyouF4g1.js","assets/WebGPURenderer-BcYJrDxL.js","assets/SharedSystems-VlSw0Q40.js","assets/WebGLRenderer-BVE0x1AO.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function El(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var yu={exports:{}},Cs={},xu={exports:{}},Me={};var Wd;function ly(){if(Wd)return Me;Wd=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(b){return b===null||typeof b!="object"?null:(b=y&&b[y]||b["@@iterator"],typeof b=="function"?b:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,C={};function w(b,z,pe){this.props=b,this.context=z,this.refs=C,this.updater=pe||_}w.prototype.isReactComponent={},w.prototype.setState=function(b,z){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,z,"setState")},w.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function T(){}T.prototype=w.prototype;function A(b,z,pe){this.props=b,this.context=z,this.refs=C,this.updater=pe||_}var R=A.prototype=new T;R.constructor=A,k(R,w.prototype),R.isPureReactComponent=!0;var N=Array.isArray,H=Object.prototype.hasOwnProperty,O={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function ae(b,z,pe){var _e,Q={},de=null,me=null;if(z!=null)for(_e in z.ref!==void 0&&(me=z.ref),z.key!==void 0&&(de=""+z.key),z)H.call(z,_e)&&!G.hasOwnProperty(_e)&&(Q[_e]=z[_e]);var Se=arguments.length-2;if(Se===1)Q.children=pe;else if(1<Se){for(var Pe=Array(Se),Ne=0;Ne<Se;Ne++)Pe[Ne]=arguments[Ne+2];Q.children=Pe}if(b&&b.defaultProps)for(_e in Se=b.defaultProps,Se)Q[_e]===void 0&&(Q[_e]=Se[_e]);return{$$typeof:i,type:b,key:de,ref:me,props:Q,_owner:O.current}}function te(b,z){return{$$typeof:i,type:b.type,key:z,ref:b.ref,props:b.props,_owner:b._owner}}function Z(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function ne(b){var z={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(pe){return z[pe]})}var ve=/\/+/g;function oe(b,z){return typeof b=="object"&&b!==null&&b.key!=null?ne(""+b.key):z.toString(36)}function ke(b,z,pe,_e,Q){var de=typeof b;(de==="undefined"||de==="boolean")&&(b=null);var me=!1;if(b===null)me=!0;else switch(de){case"string":case"number":me=!0;break;case"object":switch(b.$$typeof){case i:case e:me=!0}}if(me)return me=b,Q=Q(me),b=_e===""?"."+oe(me,0):_e,N(Q)?(pe="",b!=null&&(pe=b.replace(ve,"$&/")+"/"),ke(Q,z,pe,"",function(Ne){return Ne})):Q!=null&&(Z(Q)&&(Q=te(Q,pe+(!Q.key||me&&me.key===Q.key?"":(""+Q.key).replace(ve,"$&/")+"/")+b)),z.push(Q)),1;if(me=0,_e=_e===""?".":_e+":",N(b))for(var Se=0;Se<b.length;Se++){de=b[Se];var Pe=_e+oe(de,Se);me+=ke(de,z,pe,Pe,Q)}else if(Pe=v(b),typeof Pe=="function")for(b=Pe.call(b),Se=0;!(de=b.next()).done;)de=de.value,Pe=_e+oe(de,Se++),me+=ke(de,z,pe,Pe,Q);else if(de==="object")throw z=String(b),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return me}function Ee(b,z,pe){if(b==null)return b;var _e=[],Q=0;return ke(b,_e,"","",function(de){return z.call(pe,de,Q++)}),_e}function $(b){if(b._status===-1){var z=b._result;z=z(),z.then(function(pe){(b._status===0||b._status===-1)&&(b._status=1,b._result=pe)},function(pe){(b._status===0||b._status===-1)&&(b._status=2,b._result=pe)}),b._status===-1&&(b._status=0,b._result=z)}if(b._status===1)return b._result.default;throw b._result}var q={current:null},K={transition:null},Y={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:K,ReactCurrentOwner:O};function J(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:Ee,forEach:function(b,z,pe){Ee(b,function(){z.apply(this,arguments)},pe)},count:function(b){var z=0;return Ee(b,function(){z++}),z},toArray:function(b){return Ee(b,function(z){return z})||[]},only:function(b){if(!Z(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Me.Component=w,Me.Fragment=n,Me.Profiler=l,Me.PureComponent=A,Me.StrictMode=s,Me.Suspense=f,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Me.act=J,Me.cloneElement=function(b,z,pe){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var _e=k({},b.props),Q=b.key,de=b.ref,me=b._owner;if(z!=null){if(z.ref!==void 0&&(de=z.ref,me=O.current),z.key!==void 0&&(Q=""+z.key),b.type&&b.type.defaultProps)var Se=b.type.defaultProps;for(Pe in z)H.call(z,Pe)&&!G.hasOwnProperty(Pe)&&(_e[Pe]=z[Pe]===void 0&&Se!==void 0?Se[Pe]:z[Pe])}var Pe=arguments.length-2;if(Pe===1)_e.children=pe;else if(1<Pe){Se=Array(Pe);for(var Ne=0;Ne<Pe;Ne++)Se[Ne]=arguments[Ne+2];_e.children=Se}return{$$typeof:i,type:b.type,key:Q,ref:de,props:_e,_owner:me}},Me.createContext=function(b){return b={$$typeof:c,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:a,_context:b},b.Consumer=b},Me.createElement=ae,Me.createFactory=function(b){var z=ae.bind(null,b);return z.type=b,z},Me.createRef=function(){return{current:null}},Me.forwardRef=function(b){return{$$typeof:h,render:b}},Me.isValidElement=Z,Me.lazy=function(b){return{$$typeof:g,_payload:{_status:-1,_result:b},_init:$}},Me.memo=function(b,z){return{$$typeof:m,type:b,compare:z===void 0?null:z}},Me.startTransition=function(b){var z=K.transition;K.transition={};try{b()}finally{K.transition=z}},Me.unstable_act=J,Me.useCallback=function(b,z){return q.current.useCallback(b,z)},Me.useContext=function(b){return q.current.useContext(b)},Me.useDebugValue=function(){},Me.useDeferredValue=function(b){return q.current.useDeferredValue(b)},Me.useEffect=function(b,z){return q.current.useEffect(b,z)},Me.useId=function(){return q.current.useId()},Me.useImperativeHandle=function(b,z,pe){return q.current.useImperativeHandle(b,z,pe)},Me.useInsertionEffect=function(b,z){return q.current.useInsertionEffect(b,z)},Me.useLayoutEffect=function(b,z){return q.current.useLayoutEffect(b,z)},Me.useMemo=function(b,z){return q.current.useMemo(b,z)},Me.useReducer=function(b,z,pe){return q.current.useReducer(b,z,pe)},Me.useRef=function(b){return q.current.useRef(b)},Me.useState=function(b){return q.current.useState(b)},Me.useSyncExternalStore=function(b,z,pe){return q.current.useSyncExternalStore(b,z,pe)},Me.useTransition=function(){return q.current.useTransition()},Me.version="18.3.1",Me}var Vd;function uc(){return Vd||(Vd=1,xu.exports=ly()),xu.exports}var Hd;function ay(){if(Hd)return Cs;Hd=1;var i=uc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,m){var g,y={},v=null,_=null;m!==void 0&&(v=""+m),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(_=f.ref);for(g in f)s.call(f,g)&&!a.hasOwnProperty(g)&&(y[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)y[g]===void 0&&(y[g]=f[g]);return{$$typeof:e,type:h,key:v,ref:_,props:y,_owner:l.current}}return Cs.Fragment=n,Cs.jsx=c,Cs.jsxs=c,Cs}var $d;function uy(){return $d||($d=1,yu.exports=ay()),yu.exports}var re=uy(),Qe=uc();const cy=El(Qe);var ll={},_u={exports:{}},Lt={},vu={exports:{}},wu={};var Yd;function hy(){return Yd||(Yd=1,(function(i){function e(K,Y){var J=K.length;K.push(Y);e:for(;0<J;){var b=J-1>>>1,z=K[b];if(0<l(z,Y))K[b]=Y,K[J]=z,J=b;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var Y=K[0],J=K.pop();if(J!==Y){K[0]=J;e:for(var b=0,z=K.length,pe=z>>>1;b<pe;){var _e=2*(b+1)-1,Q=K[_e],de=_e+1,me=K[de];if(0>l(Q,J))de<z&&0>l(me,Q)?(K[b]=me,K[de]=J,b=de):(K[b]=Q,K[_e]=J,b=_e);else if(de<z&&0>l(me,J))K[b]=me,K[de]=J,b=de;else break e}}return Y}function l(K,Y){var J=K.sortIndex-Y.sortIndex;return J!==0?J:K.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();i.unstable_now=function(){return c.now()-h}}var f=[],m=[],g=1,y=null,v=3,_=!1,k=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(K){for(var Y=n(m);Y!==null;){if(Y.callback===null)s(m);else if(Y.startTime<=K)s(m),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=n(m)}}function N(K){if(C=!1,R(K),!k)if(n(f)!==null)k=!0,$(H);else{var Y=n(m);Y!==null&&q(N,Y.startTime-K)}}function H(K,Y){k=!1,C&&(C=!1,T(ae),ae=-1),_=!0;var J=v;try{for(R(Y),y=n(f);y!==null&&(!(y.expirationTime>Y)||K&&!ne());){var b=y.callback;if(typeof b=="function"){y.callback=null,v=y.priorityLevel;var z=b(y.expirationTime<=Y);Y=i.unstable_now(),typeof z=="function"?y.callback=z:y===n(f)&&s(f),R(Y)}else s(f);y=n(f)}if(y!==null)var pe=!0;else{var _e=n(m);_e!==null&&q(N,_e.startTime-Y),pe=!1}return pe}finally{y=null,v=J,_=!1}}var O=!1,G=null,ae=-1,te=5,Z=-1;function ne(){return!(i.unstable_now()-Z<te)}function ve(){if(G!==null){var K=i.unstable_now();Z=K;var Y=!0;try{Y=G(!0,K)}finally{Y?oe():(O=!1,G=null)}}else O=!1}var oe;if(typeof A=="function")oe=function(){A(ve)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Ee=ke.port2;ke.port1.onmessage=ve,oe=function(){Ee.postMessage(null)}}else oe=function(){w(ve,0)};function $(K){G=K,O||(O=!0,oe())}function q(K,Y){ae=w(function(){K(i.unstable_now())},Y)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_continueExecution=function(){k||_||(k=!0,$(H))},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return n(f)},i.unstable_next=function(K){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var J=v;v=Y;try{return K()}finally{v=J}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(K,Y){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var J=v;v=K;try{return Y()}finally{v=J}},i.unstable_scheduleCallback=function(K,Y,J){var b=i.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?b+J:b):J=b,K){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=J+z,K={id:g++,callback:Y,priorityLevel:K,startTime:J,expirationTime:z,sortIndex:-1},J>b?(K.sortIndex=J,e(m,K),n(f)===null&&K===n(m)&&(C?(T(ae),ae=-1):C=!0,q(N,J-b))):(K.sortIndex=z,e(f,K),k||_||(k=!0,$(H))),K},i.unstable_shouldYield=ne,i.unstable_wrapCallback=function(K){var Y=v;return function(){var J=v;v=Y;try{return K.apply(this,arguments)}finally{v=J}}}})(wu)),wu}var Xd;function dy(){return Xd||(Xd=1,vu.exports=hy()),vu.exports}var qd;function fy(){if(qd)return Lt;qd=1;var i=uc(),e=dy();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function a(t,r){c(t,r),c(t+"Capture",r)}function c(t,r){for(l[t]=r,t=0;t<r.length;t++)s.add(r[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(t){return f.call(y,t)?!0:f.call(g,t)?!1:m.test(t)?y[t]=!0:(g[t]=!0,!1)}function _(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function k(t,r,o,u){if(r===null||typeof r>"u"||_(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function C(t,r,o,u,d,p,x){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=x}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){w[t]=new C(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];w[r]=new C(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){w[t]=new C(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){w[t]=new C(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){w[t]=new C(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){w[t]=new C(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){w[t]=new C(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){w[t]=new C(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){w[t]=new C(t,5,!1,t.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function A(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(T,A);w[r]=new C(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(T,A);w[r]=new C(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(T,A);w[r]=new C(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){w[t]=new C(t,1,!1,t.toLowerCase(),null,!1,!1)}),w.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){w[t]=new C(t,1,!1,t.toLowerCase(),null,!0,!0)});function R(t,r,o,u){var d=w.hasOwnProperty(r)?w[r]:null;(d!==null?d.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(k(r,o,d,u)&&(o=null),u||d===null?v(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):d.mustUseProperty?t[d.propertyName]=o===null?d.type===3?!1:"":o:(r=d.attributeName,u=d.attributeNamespace,o===null?t.removeAttribute(r):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var N=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),O=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),ne=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Ee=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),K=Symbol.iterator;function Y(t){return t===null||typeof t!="object"?null:(t=K&&t[K]||t["@@iterator"],typeof t=="function"?t:null)}var J=Object.assign,b;function z(t){if(b===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);b=r&&r[1]||""}return`
`+b+t}var pe=!1;function _e(t,r){if(!t||pe)return"";pe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(B){var u=B}Reflect.construct(t,[],r)}else{try{r.call()}catch(B){u=B}t.call(r.prototype)}else{try{throw Error()}catch(B){u=B}t()}}catch(B){if(B&&u&&typeof B.stack=="string"){for(var d=B.stack.split(`
`),p=u.stack.split(`
`),x=d.length-1,S=p.length-1;1<=x&&0<=S&&d[x]!==p[S];)S--;for(;1<=x&&0<=S;x--,S--)if(d[x]!==p[S]){if(x!==1||S!==1)do if(x--,S--,0>S||d[x]!==p[S]){var P=`
`+d[x].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=x&&0<=S);break}}}finally{pe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?z(t):""}function Q(t){switch(t.tag){case 5:return z(t.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return t=_e(t.type,!1),t;case 11:return t=_e(t.type.render,!1),t;case 1:return t=_e(t.type,!0),t;default:return""}}function de(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case O:return"Portal";case te:return"Profiler";case ae:return"StrictMode";case oe:return"Suspense";case ke:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ne:return(t.displayName||"Context")+".Consumer";case Z:return(t._context.displayName||"Context")+".Provider";case ve:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ee:return r=t.displayName||null,r!==null?r:de(t.type)||"Memo";case $:r=t._payload,t=t._init;try{return de(t(r))}catch{}}return null}function me(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(r);case 8:return r===ae?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Se(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pe(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ne(t){var r=Pe(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(x){u=""+x,p.call(this,x)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(x){u=""+x},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function bt(t){t._valueTracker||(t._valueTracker=Ne(t))}function ft(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Pe(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function Xe(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bt(t,r){var o=r.checked;return J({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function $t(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Se(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Xn(t,r){r=r.checked,r!=null&&R(t,"checked",r,!1)}function sn(t,r){Xn(t,r);var o=Se(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Hr(t,r.type,o):r.hasOwnProperty("defaultValue")&&Hr(t,r.type,Se(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function _r(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Hr(t,r,o){(r!=="number"||Xe(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var An=Array.isArray;function En(t,r,o,u){if(t=t.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=r.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Se(o),r=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function $r(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return J({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function on(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(An(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Se(o)}}function zt(t,r){var o=Se(r.value),u=Se(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Ri(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Ii(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qn(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Ii(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yr,pt=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,d){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,d)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Yr=Yr||document.createElement("div"),Yr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Yr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Rn(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var In={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Te=["Webkit","ms","Moz","O"];Object.keys(In).forEach(function(t){Te.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),In[r]=In[t]})});function Dt(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||In.hasOwnProperty(t)&&In[t]?(""+r).trim():r+"px"}function Nn(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,d=Dt(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,d):t[o]=d}}var vn=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ot(t,r){if(r){if(vn[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function Xr(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ni=null;function Li(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vr=null,ee=null,Ln=null;function qr(t){if(t=us(t)){if(typeof vr!="function")throw Error(n(280));var r=t.stateNode;r&&(r=So(r),vr(t.stateNode,t.type,r))}}function Fi(t){ee?Ln?Ln.push(t):Ln=[t]:ee=t}function Bi(){if(ee){var t=ee,r=Ln;if(Ln=ee=null,qr(t),r)for(t=0;t<r.length;t++)qr(r[t])}}function zi(t,r){return t(r)}function Qs(){}var Di=!1;function Ks(t,r,o){if(Di)return t(r,o);Di=!0;try{return zi(t,r,o)}finally{Di=!1,(ee!==null||Ln!==null)&&(Qs(),Bi())}}function wr(t,r){var o=t.stateNode;if(o===null)return null;var u=So(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Oi=!1;if(h)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){Oi=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{Oi=!1}function Gi(t,r,o,u,d,p,x,S,P){var B=Array.prototype.slice.call(arguments,3);try{r.apply(o,B)}catch(j){this.onError(j)}}var Qn=!1,Qr=null,wn=!1,Kr=null,Ui={onError:function(t){Qn=!0,Qr=t}};function Bl(t,r,o,u,d,p,x,S,P){Qn=!1,Qr=null,Gi.apply(Ui,arguments)}function zl(t,r,o,u,d,p,x,S,P){if(Bl.apply(this,arguments),Qn){if(Qn){var B=Qr;Qn=!1,Qr=null}else throw Error(n(198));wn||(wn=!0,Kr=B)}}function ln(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ji(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Zs(t){if(ln(t)!==t)throw Error(n(188))}function Dl(t){var r=t.alternate;if(!r){if(r=ln(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return Zs(d),t;if(p===u)return Zs(d),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=d,u=p;else{for(var x=!1,S=d.child;S;){if(S===o){x=!0,o=d,u=p;break}if(S===u){x=!0,u=d,o=p;break}S=S.sibling}if(!x){for(S=p.child;S;){if(S===o){x=!0,o=p,u=d;break}if(S===u){x=!0,u=p,o=d;break}S=S.sibling}if(!x)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function Js(t){return t=Dl(t),t!==null?Kn(t):null}function Kn(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Kn(t);if(r!==null)return r;t=t.sibling}return null}var Zr=e.unstable_scheduleCallback,eo=e.unstable_cancelCallback,Ol=e.unstable_shouldYield,Gl=e.unstable_requestPaint,We=e.unstable_now,to=e.unstable_getCurrentPriorityLevel,Wi=e.unstable_ImmediatePriority,no=e.unstable_UserBlockingPriority,kr=e.unstable_NormalPriority,Ul=e.unstable_LowPriority,Vi=e.unstable_IdlePriority,Jr=null,Yt=null;function ro(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Jr,t,void 0,(t.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:Sc,io=Math.log,wc=Math.LN2;function Sc(t){return t>>>=0,t===0?32:31-(io(t)/wc|0)|0}var Hi=64,E=4194304;function F(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function D(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,d=t.suspendedLanes,p=t.pingedLanes,x=o&268435455;if(x!==0){var S=x&~d;S!==0?u=F(S):(p&=x,p!==0&&(u=F(p)))}else x=o&~d,x!==0?u=F(x):p!==0&&(u=F(p));if(u===0)return 0;if(r!==0&&r!==u&&(r&d)===0&&(d=u&-u,p=r&-r,d>=p||d===16&&(p&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Tt(r),d=1<<o,u|=t[o],r&=~d;return u}function W(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fe(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes;0<p;){var x=31-Tt(p),S=1<<x,P=d[x];P===-1?((S&o)===0||(S&u)!==0)&&(d[x]=W(S,r)):P<=r&&(t.expiredLanes|=S),p&=~S}}function xe(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function De(){var t=Hi;return Hi<<=1,(Hi&4194240)===0&&(Hi=64),t}function Fe(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function lt(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Tt(r),t[r]=o}function Xt(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var d=31-Tt(o),p=1<<d;r[d]=0,u[d]=-1,t[d]=-1,o&=~p}}function an(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Tt(o),d=1<<u;d&r|t[u]&r&&(t[u]|=r),o&=~d}}var Ce=0;function $i(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var so,Cr,kc,Cc,Pc,jl=!1,oo=[],Zn=null,Jn=null,er=null,Yi=new Map,Xi=new Map,tr=[],Am="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mc(t,r){switch(t){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Yi.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xi.delete(r.pointerId)}}function qi(t,r,o,u,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},r!==null&&(r=us(r),r!==null&&Cr(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function Em(t,r,o,u,d){switch(r){case"focusin":return Zn=qi(Zn,t,r,o,u,d),!0;case"dragenter":return Jn=qi(Jn,t,r,o,u,d),!0;case"mouseover":return er=qi(er,t,r,o,u,d),!0;case"pointerover":var p=d.pointerId;return Yi.set(p,qi(Yi.get(p)||null,t,r,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,Xi.set(p,qi(Xi.get(p)||null,t,r,o,u,d)),!0}return!1}function bc(t){var r=Pr(t.target);if(r!==null){var o=ln(r);if(o!==null){if(r=o.tag,r===13){if(r=ji(o),r!==null){t.blockedOn=r,Pc(t.priority,function(){kc(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lo(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Vl(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Ni=u,o.target.dispatchEvent(u),Ni=null}else return r=us(o),r!==null&&Cr(r),t.blockedOn=o,!1;r.shift()}return!0}function Tc(t,r,o){lo(t)&&o.delete(r)}function Rm(){jl=!1,Zn!==null&&lo(Zn)&&(Zn=null),Jn!==null&&lo(Jn)&&(Jn=null),er!==null&&lo(er)&&(er=null),Yi.forEach(Tc),Xi.forEach(Tc)}function Qi(t,r){t.blockedOn===r&&(t.blockedOn=null,jl||(jl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Rm)))}function Ki(t){function r(d){return Qi(d,t)}if(0<oo.length){Qi(oo[0],t);for(var o=1;o<oo.length;o++){var u=oo[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Zn!==null&&Qi(Zn,t),Jn!==null&&Qi(Jn,t),er!==null&&Qi(er,t),Yi.forEach(r),Xi.forEach(r),o=0;o<tr.length;o++)u=tr[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<tr.length&&(o=tr[0],o.blockedOn===null);)bc(o),o.blockedOn===null&&tr.shift()}var ei=N.ReactCurrentBatchConfig,ao=!0;function Im(t,r,o,u){var d=Ce,p=ei.transition;ei.transition=null;try{Ce=1,Wl(t,r,o,u)}finally{Ce=d,ei.transition=p}}function Nm(t,r,o,u){var d=Ce,p=ei.transition;ei.transition=null;try{Ce=4,Wl(t,r,o,u)}finally{Ce=d,ei.transition=p}}function Wl(t,r,o,u){if(ao){var d=Vl(t,r,o,u);if(d===null)la(t,r,u,uo,o),Mc(t,u);else if(Em(d,t,r,o,u))u.stopPropagation();else if(Mc(t,u),r&4&&-1<Am.indexOf(t)){for(;d!==null;){var p=us(d);if(p!==null&&so(p),p=Vl(t,r,o,u),p===null&&la(t,r,u,uo,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else la(t,r,u,null,o)}}var uo=null;function Vl(t,r,o,u){if(uo=null,t=Li(u),t=Pr(t),t!==null)if(r=ln(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ji(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return uo=t,null}function Ac(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(to()){case Wi:return 1;case no:return 4;case kr:case Ul:return 16;case Vi:return 536870912;default:return 16}default:return 16}}var nr=null,Hl=null,co=null;function Ec(){if(co)return co;var t,r=Hl,o=r.length,u,d="value"in nr?nr.value:nr.textContent,p=d.length;for(t=0;t<o&&r[t]===d[t];t++);var x=o-t;for(u=1;u<=x&&r[o-u]===d[p-u];u++);return co=d.slice(t,1<u?1-u:void 0)}function ho(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function fo(){return!0}function Rc(){return!1}function Gt(t){function r(o,u,d,p,x){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=x,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?fo:Rc,this.isPropagationStopped=Rc,this}return J(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),r}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$l=Gt(ti),Zi=J({},ti,{view:0,detail:0}),Lm=Gt(Zi),Yl,Xl,Ji,po=J({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ql,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ji&&(Ji&&t.type==="mousemove"?(Yl=t.screenX-Ji.screenX,Xl=t.screenY-Ji.screenY):Xl=Yl=0,Ji=t),Yl)},movementY:function(t){return"movementY"in t?t.movementY:Xl}}),Ic=Gt(po),Fm=J({},po,{dataTransfer:0}),Bm=Gt(Fm),zm=J({},Zi,{relatedTarget:0}),ql=Gt(zm),Dm=J({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),Om=Gt(Dm),Gm=J({},ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Um=Gt(Gm),jm=J({},ti,{data:0}),Nc=Gt(jm),Wm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $m(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Hm[t])?!!r[t]:!1}function Ql(){return $m}var Ym=J({},Zi,{key:function(t){if(t.key){var r=Wm[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ho(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ql,charCode:function(t){return t.type==="keypress"?ho(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ho(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xm=Gt(Ym),qm=J({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lc=Gt(qm),Qm=J({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ql}),Km=Gt(Qm),Zm=J({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jm=Gt(Zm),eg=J({},po,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tg=Gt(eg),ng=[9,13,27,32],Kl=h&&"CompositionEvent"in window,es=null;h&&"documentMode"in document&&(es=document.documentMode);var rg=h&&"TextEvent"in window&&!es,Fc=h&&(!Kl||es&&8<es&&11>=es),Bc=" ",zc=!1;function Dc(t,r){switch(t){case"keyup":return ng.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ni=!1;function ig(t,r){switch(t){case"compositionend":return Oc(r);case"keypress":return r.which!==32?null:(zc=!0,Bc);case"textInput":return t=r.data,t===Bc&&zc?null:t;default:return null}}function sg(t,r){if(ni)return t==="compositionend"||!Kl&&Dc(t,r)?(t=Ec(),co=Hl=nr=null,ni=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Fc&&r.locale!=="ko"?null:r.data;default:return null}}var og={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!og[t.type]:r==="textarea"}function Uc(t,r,o,u){Fi(u),r=_o(r,"onChange"),0<r.length&&(o=new $l("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var ts=null,ns=null;function lg(t){sh(t,0)}function mo(t){var r=li(t);if(ft(r))return t}function ag(t,r){if(t==="change")return r}var jc=!1;if(h){var Zl;if(h){var Jl="oninput"in document;if(!Jl){var Wc=document.createElement("div");Wc.setAttribute("oninput","return;"),Jl=typeof Wc.oninput=="function"}Zl=Jl}else Zl=!1;jc=Zl&&(!document.documentMode||9<document.documentMode)}function Vc(){ts&&(ts.detachEvent("onpropertychange",Hc),ns=ts=null)}function Hc(t){if(t.propertyName==="value"&&mo(ns)){var r=[];Uc(r,ns,t,Li(t)),Ks(lg,r)}}function ug(t,r,o){t==="focusin"?(Vc(),ts=r,ns=o,ts.attachEvent("onpropertychange",Hc)):t==="focusout"&&Vc()}function cg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mo(ns)}function hg(t,r){if(t==="click")return mo(r)}function dg(t,r){if(t==="input"||t==="change")return mo(r)}function fg(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var un=typeof Object.is=="function"?Object.is:fg;function rs(t,r){if(un(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!f.call(r,d)||!un(t[d],r[d]))return!1}return!0}function $c(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yc(t,r){var o=$c(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=$c(o)}}function Xc(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Xc(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function qc(){for(var t=window,r=Xe();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Xe(t.document)}return r}function ea(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function pg(t){var r=qc(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Xc(o.ownerDocument.documentElement,o)){if(u!==null&&ea(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var d=o.textContent.length,p=Math.min(u.start,d);u=u.end===void 0?p:Math.min(u.end,d),!t.extend&&p>u&&(d=u,u=p,p=d),d=Yc(o,p);var x=Yc(o,u);d&&x&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==x.node||t.focusOffset!==x.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(x.node,x.offset)):(r.setEnd(x.node,x.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mg=h&&"documentMode"in document&&11>=document.documentMode,ri=null,ta=null,is=null,na=!1;function Qc(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;na||ri==null||ri!==Xe(u)||(u=ri,"selectionStart"in u&&ea(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),is&&rs(is,u)||(is=u,u=_o(ta,"onSelect"),0<u.length&&(r=new $l("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=ri)))}function go(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ii={animationend:go("Animation","AnimationEnd"),animationiteration:go("Animation","AnimationIteration"),animationstart:go("Animation","AnimationStart"),transitionend:go("Transition","TransitionEnd")},ra={},Kc={};h&&(Kc=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);function yo(t){if(ra[t])return ra[t];if(!ii[t])return t;var r=ii[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Kc)return ra[t]=r[o];return t}var Zc=yo("animationend"),Jc=yo("animationiteration"),eh=yo("animationstart"),th=yo("transitionend"),nh=new Map,rh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(t,r){nh.set(t,r),a(r,[t])}for(var ia=0;ia<rh.length;ia++){var sa=rh[ia],gg=sa.toLowerCase(),yg=sa[0].toUpperCase()+sa.slice(1);rr(gg,"on"+yg)}rr(Zc,"onAnimationEnd"),rr(Jc,"onAnimationIteration"),rr(eh,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(th,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ss));function ih(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,zl(u,r,void 0,t),t.currentTarget=null}function sh(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],d=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var x=u.length-1;0<=x;x--){var S=u[x],P=S.instance,B=S.currentTarget;if(S=S.listener,P!==p&&d.isPropagationStopped())break e;ih(d,S,B),p=P}else for(x=0;x<u.length;x++){if(S=u[x],P=S.instance,B=S.currentTarget,S=S.listener,P!==p&&d.isPropagationStopped())break e;ih(d,S,B),p=P}}}if(wn)throw t=Kr,wn=!1,Kr=null,t}function Ue(t,r){var o=r[fa];o===void 0&&(o=r[fa]=new Set);var u=t+"__bubble";o.has(u)||(oh(r,t,2,!1),o.add(u))}function oa(t,r,o){var u=0;r&&(u|=4),oh(o,t,u,r)}var xo="_reactListening"+Math.random().toString(36).slice(2);function os(t){if(!t[xo]){t[xo]=!0,s.forEach(function(o){o!=="selectionchange"&&(xg.has(o)||oa(o,!1,t),oa(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[xo]||(r[xo]=!0,oa("selectionchange",!1,r))}}function oh(t,r,o,u){switch(Ac(r)){case 1:var d=Im;break;case 4:d=Nm;break;default:d=Wl}o=d.bind(null,r,o,t),d=void 0,!Oi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(r,o,{capture:!0,passive:d}):t.addEventListener(r,o,!0):d!==void 0?t.addEventListener(r,o,{passive:d}):t.addEventListener(r,o,!1)}function la(t,r,o,u,d){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var S=u.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(x===4)for(x=u.return;x!==null;){var P=x.tag;if((P===3||P===4)&&(P=x.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;x=x.return}for(;S!==null;){if(x=Pr(S),x===null)return;if(P=x.tag,P===5||P===6){u=p=x;continue e}S=S.parentNode}}u=u.return}Ks(function(){var B=p,j=Li(o),V=[];e:{var U=nh.get(t);if(U!==void 0){var ie=$l,le=t;switch(t){case"keypress":if(ho(o)===0)break e;case"keydown":case"keyup":ie=Xm;break;case"focusin":le="focus",ie=ql;break;case"focusout":le="blur",ie=ql;break;case"beforeblur":case"afterblur":ie=ql;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Km;break;case Zc:case Jc:case eh:ie=Om;break;case th:ie=Jm;break;case"scroll":ie=Lm;break;case"wheel":ie=tg;break;case"copy":case"cut":case"paste":ie=Um;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Lc}var ue=(r&4)!==0,nt=!ue&&t==="scroll",I=ue?U!==null?U+"Capture":null:U;ue=[];for(var M=B,L;M!==null;){L=M;var X=L.stateNode;if(L.tag===5&&X!==null&&(L=X,I!==null&&(X=wr(M,I),X!=null&&ue.push(ls(M,X,L)))),nt)break;M=M.return}0<ue.length&&(U=new ie(U,le,null,o,j),V.push({event:U,listeners:ue}))}}if((r&7)===0){e:{if(U=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",U&&o!==Ni&&(le=o.relatedTarget||o.fromElement)&&(Pr(le)||le[Fn]))break e;if((ie||U)&&(U=j.window===j?j:(U=j.ownerDocument)?U.defaultView||U.parentWindow:window,ie?(le=o.relatedTarget||o.toElement,ie=B,le=le?Pr(le):null,le!==null&&(nt=ln(le),le!==nt||le.tag!==5&&le.tag!==6)&&(le=null)):(ie=null,le=B),ie!==le)){if(ue=Ic,X="onMouseLeave",I="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ue=Lc,X="onPointerLeave",I="onPointerEnter",M="pointer"),nt=ie==null?U:li(ie),L=le==null?U:li(le),U=new ue(X,M+"leave",ie,o,j),U.target=nt,U.relatedTarget=L,X=null,Pr(j)===B&&(ue=new ue(I,M+"enter",le,o,j),ue.target=L,ue.relatedTarget=nt,X=ue),nt=X,ie&&le)t:{for(ue=ie,I=le,M=0,L=ue;L;L=si(L))M++;for(L=0,X=I;X;X=si(X))L++;for(;0<M-L;)ue=si(ue),M--;for(;0<L-M;)I=si(I),L--;for(;M--;){if(ue===I||I!==null&&ue===I.alternate)break t;ue=si(ue),I=si(I)}ue=null}else ue=null;ie!==null&&lh(V,U,ie,ue,!1),le!==null&&nt!==null&&lh(V,nt,le,ue,!0)}}e:{if(U=B?li(B):window,ie=U.nodeName&&U.nodeName.toLowerCase(),ie==="select"||ie==="input"&&U.type==="file")var ce=ag;else if(Gc(U))if(jc)ce=dg;else{ce=cg;var ge=ug}else(ie=U.nodeName)&&ie.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(ce=hg);if(ce&&(ce=ce(t,B))){Uc(V,ce,o,j);break e}ge&&ge(t,U,B),t==="focusout"&&(ge=U._wrapperState)&&ge.controlled&&U.type==="number"&&Hr(U,"number",U.value)}switch(ge=B?li(B):window,t){case"focusin":(Gc(ge)||ge.contentEditable==="true")&&(ri=ge,ta=B,is=null);break;case"focusout":is=ta=ri=null;break;case"mousedown":na=!0;break;case"contextmenu":case"mouseup":case"dragend":na=!1,Qc(V,o,j);break;case"selectionchange":if(mg)break;case"keydown":case"keyup":Qc(V,o,j)}var ye;if(Kl)e:{switch(t){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ni?Dc(t,o)&&(we="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(Fc&&o.locale!=="ko"&&(ni||we!=="onCompositionStart"?we==="onCompositionEnd"&&ni&&(ye=Ec()):(nr=j,Hl="value"in nr?nr.value:nr.textContent,ni=!0)),ge=_o(B,we),0<ge.length&&(we=new Nc(we,t,null,o,j),V.push({event:we,listeners:ge}),ye?we.data=ye:(ye=Oc(o),ye!==null&&(we.data=ye)))),(ye=rg?ig(t,o):sg(t,o))&&(B=_o(B,"onBeforeInput"),0<B.length&&(j=new Nc("onBeforeInput","beforeinput",null,o,j),V.push({event:j,listeners:B}),j.data=ye))}sh(V,r)})}function ls(t,r,o){return{instance:t,listener:r,currentTarget:o}}function _o(t,r){for(var o=r+"Capture",u=[];t!==null;){var d=t,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=wr(t,o),p!=null&&u.unshift(ls(t,p,d)),p=wr(t,r),p!=null&&u.push(ls(t,p,d))),t=t.return}return u}function si(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lh(t,r,o,u,d){for(var p=r._reactName,x=[];o!==null&&o!==u;){var S=o,P=S.alternate,B=S.stateNode;if(P!==null&&P===u)break;S.tag===5&&B!==null&&(S=B,d?(P=wr(o,p),P!=null&&x.unshift(ls(o,P,S))):d||(P=wr(o,p),P!=null&&x.push(ls(o,P,S)))),o=o.return}x.length!==0&&t.push({event:r,listeners:x})}var _g=/\r\n?/g,vg=/\u0000|\uFFFD/g;function ah(t){return(typeof t=="string"?t:""+t).replace(_g,`
`).replace(vg,"")}function vo(t,r,o){if(r=ah(r),ah(t)!==r&&o)throw Error(n(425))}function wo(){}var aa=null,ua=null;function ca(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ha=typeof setTimeout=="function"?setTimeout:void 0,wg=typeof clearTimeout=="function"?clearTimeout:void 0,uh=typeof Promise=="function"?Promise:void 0,Sg=typeof queueMicrotask=="function"?queueMicrotask:typeof uh<"u"?function(t){return uh.resolve(null).then(t).catch(kg)}:ha;function kg(t){setTimeout(function(){throw t})}function da(t,r){var o=r,u=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){t.removeChild(d),Ki(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);Ki(r)}function ir(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function ch(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var oi=Math.random().toString(36).slice(2),Sn="__reactFiber$"+oi,as="__reactProps$"+oi,Fn="__reactContainer$"+oi,fa="__reactEvents$"+oi,Cg="__reactListeners$"+oi,Pg="__reactHandles$"+oi;function Pr(t){var r=t[Sn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[Fn]||o[Sn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=ch(t);t!==null;){if(o=t[Sn])return o;t=ch(t)}return r}t=o,o=t.parentNode}return null}function us(t){return t=t[Sn]||t[Fn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function li(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function So(t){return t[as]||null}var pa=[],ai=-1;function sr(t){return{current:t}}function je(t){0>ai||(t.current=pa[ai],pa[ai]=null,ai--)}function Ge(t,r){ai++,pa[ai]=t.current,t.current=r}var or={},xt=sr(or),At=sr(!1),Mr=or;function ui(t,r){var o=t.type.contextTypes;if(!o)return or;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in o)d[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=d),d}function Et(t){return t=t.childContextTypes,t!=null}function ko(){je(At),je(xt)}function hh(t,r,o){if(xt.current!==or)throw Error(n(168));Ge(xt,r),Ge(At,o)}function dh(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var d in u)if(!(d in r))throw Error(n(108,me(t)||"Unknown",d));return J({},o,u)}function Co(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||or,Mr=xt.current,Ge(xt,t),Ge(At,At.current),!0}function fh(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=dh(t,r,Mr),u.__reactInternalMemoizedMergedChildContext=t,je(At),je(xt),Ge(xt,t)):je(At),Ge(At,o)}var Bn=null,Po=!1,ma=!1;function ph(t){Bn===null?Bn=[t]:Bn.push(t)}function Mg(t){Po=!0,ph(t)}function lr(){if(!ma&&Bn!==null){ma=!0;var t=0,r=Ce;try{var o=Bn;for(Ce=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}Bn=null,Po=!1}catch(d){throw Bn!==null&&(Bn=Bn.slice(t+1)),Zr(Wi,lr),d}finally{Ce=r,ma=!1}}return null}var ci=[],hi=0,Mo=null,bo=0,qt=[],Qt=0,br=null,zn=1,Dn="";function Tr(t,r){ci[hi++]=bo,ci[hi++]=Mo,Mo=t,bo=r}function mh(t,r,o){qt[Qt++]=zn,qt[Qt++]=Dn,qt[Qt++]=br,br=t;var u=zn;t=Dn;var d=32-Tt(u)-1;u&=~(1<<d),o+=1;var p=32-Tt(r)+d;if(30<p){var x=d-d%5;p=(u&(1<<x)-1).toString(32),u>>=x,d-=x,zn=1<<32-Tt(r)+d|o<<d|u,Dn=p+t}else zn=1<<p|o<<d|u,Dn=t}function ga(t){t.return!==null&&(Tr(t,1),mh(t,1,0))}function ya(t){for(;t===Mo;)Mo=ci[--hi],ci[hi]=null,bo=ci[--hi],ci[hi]=null;for(;t===br;)br=qt[--Qt],qt[Qt]=null,Dn=qt[--Qt],qt[Qt]=null,zn=qt[--Qt],qt[Qt]=null}var Ut=null,jt=null,Ve=!1,cn=null;function gh(t,r){var o=en(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function yh(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Ut=t,jt=ir(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Ut=t,jt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=br!==null?{id:zn,overflow:Dn}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=en(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Ut=t,jt=null,!0):!1;default:return!1}}function xa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _a(t){if(Ve){var r=jt;if(r){var o=r;if(!yh(t,r)){if(xa(t))throw Error(n(418));r=ir(o.nextSibling);var u=Ut;r&&yh(t,r)?gh(u,o):(t.flags=t.flags&-4097|2,Ve=!1,Ut=t)}}else{if(xa(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ve=!1,Ut=t}}}function xh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ut=t}function To(t){if(t!==Ut)return!1;if(!Ve)return xh(t),Ve=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!ca(t.type,t.memoizedProps)),r&&(r=jt)){if(xa(t))throw _h(),Error(n(418));for(;r;)gh(t,r),r=ir(r.nextSibling)}if(xh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){jt=ir(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}jt=null}}else jt=Ut?ir(t.stateNode.nextSibling):null;return!0}function _h(){for(var t=jt;t;)t=ir(t.nextSibling)}function di(){jt=Ut=null,Ve=!1}function va(t){cn===null?cn=[t]:cn.push(t)}var bg=N.ReactCurrentBatchConfig;function cs(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var d=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(x){var S=d.refs;x===null?delete S[p]:S[p]=x},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Ao(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function vh(t){var r=t._init;return r(t._payload)}function wh(t){function r(I,M){if(t){var L=I.deletions;L===null?(I.deletions=[M],I.flags|=16):L.push(M)}}function o(I,M){if(!t)return null;for(;M!==null;)r(I,M),M=M.sibling;return null}function u(I,M){for(I=new Map;M!==null;)M.key!==null?I.set(M.key,M):I.set(M.index,M),M=M.sibling;return I}function d(I,M){return I=mr(I,M),I.index=0,I.sibling=null,I}function p(I,M,L){return I.index=L,t?(L=I.alternate,L!==null?(L=L.index,L<M?(I.flags|=2,M):L):(I.flags|=2,M)):(I.flags|=1048576,M)}function x(I){return t&&I.alternate===null&&(I.flags|=2),I}function S(I,M,L,X){return M===null||M.tag!==6?(M=hu(L,I.mode,X),M.return=I,M):(M=d(M,L),M.return=I,M)}function P(I,M,L,X){var ce=L.type;return ce===G?j(I,M,L.props.children,X,L.key):M!==null&&(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===$&&vh(ce)===M.type)?(X=d(M,L.props),X.ref=cs(I,M,L),X.return=I,X):(X=Jo(L.type,L.key,L.props,null,I.mode,X),X.ref=cs(I,M,L),X.return=I,X)}function B(I,M,L,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=du(L,I.mode,X),M.return=I,M):(M=d(M,L.children||[]),M.return=I,M)}function j(I,M,L,X,ce){return M===null||M.tag!==7?(M=Br(L,I.mode,X,ce),M.return=I,M):(M=d(M,L),M.return=I,M)}function V(I,M,L){if(typeof M=="string"&&M!==""||typeof M=="number")return M=hu(""+M,I.mode,L),M.return=I,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case H:return L=Jo(M.type,M.key,M.props,null,I.mode,L),L.ref=cs(I,null,M),L.return=I,L;case O:return M=du(M,I.mode,L),M.return=I,M;case $:var X=M._init;return V(I,X(M._payload),L)}if(An(M)||Y(M))return M=Br(M,I.mode,L,null),M.return=I,M;Ao(I,M)}return null}function U(I,M,L,X){var ce=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return ce!==null?null:S(I,M,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===ce?P(I,M,L,X):null;case O:return L.key===ce?B(I,M,L,X):null;case $:return ce=L._init,U(I,M,ce(L._payload),X)}if(An(L)||Y(L))return ce!==null?null:j(I,M,L,X,null);Ao(I,L)}return null}function ie(I,M,L,X,ce){if(typeof X=="string"&&X!==""||typeof X=="number")return I=I.get(L)||null,S(M,I,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case H:return I=I.get(X.key===null?L:X.key)||null,P(M,I,X,ce);case O:return I=I.get(X.key===null?L:X.key)||null,B(M,I,X,ce);case $:var ge=X._init;return ie(I,M,L,ge(X._payload),ce)}if(An(X)||Y(X))return I=I.get(L)||null,j(M,I,X,ce,null);Ao(M,X)}return null}function le(I,M,L,X){for(var ce=null,ge=null,ye=M,we=M=0,ct=null;ye!==null&&we<L.length;we++){ye.index>we?(ct=ye,ye=null):ct=ye.sibling;var Re=U(I,ye,L[we],X);if(Re===null){ye===null&&(ye=ct);break}t&&ye&&Re.alternate===null&&r(I,ye),M=p(Re,M,we),ge===null?ce=Re:ge.sibling=Re,ge=Re,ye=ct}if(we===L.length)return o(I,ye),Ve&&Tr(I,we),ce;if(ye===null){for(;we<L.length;we++)ye=V(I,L[we],X),ye!==null&&(M=p(ye,M,we),ge===null?ce=ye:ge.sibling=ye,ge=ye);return Ve&&Tr(I,we),ce}for(ye=u(I,ye);we<L.length;we++)ct=ie(ye,I,we,L[we],X),ct!==null&&(t&&ct.alternate!==null&&ye.delete(ct.key===null?we:ct.key),M=p(ct,M,we),ge===null?ce=ct:ge.sibling=ct,ge=ct);return t&&ye.forEach(function(gr){return r(I,gr)}),Ve&&Tr(I,we),ce}function ue(I,M,L,X){var ce=Y(L);if(typeof ce!="function")throw Error(n(150));if(L=ce.call(L),L==null)throw Error(n(151));for(var ge=ce=null,ye=M,we=M=0,ct=null,Re=L.next();ye!==null&&!Re.done;we++,Re=L.next()){ye.index>we?(ct=ye,ye=null):ct=ye.sibling;var gr=U(I,ye,Re.value,X);if(gr===null){ye===null&&(ye=ct);break}t&&ye&&gr.alternate===null&&r(I,ye),M=p(gr,M,we),ge===null?ce=gr:ge.sibling=gr,ge=gr,ye=ct}if(Re.done)return o(I,ye),Ve&&Tr(I,we),ce;if(ye===null){for(;!Re.done;we++,Re=L.next())Re=V(I,Re.value,X),Re!==null&&(M=p(Re,M,we),ge===null?ce=Re:ge.sibling=Re,ge=Re);return Ve&&Tr(I,we),ce}for(ye=u(I,ye);!Re.done;we++,Re=L.next())Re=ie(ye,I,we,Re.value,X),Re!==null&&(t&&Re.alternate!==null&&ye.delete(Re.key===null?we:Re.key),M=p(Re,M,we),ge===null?ce=Re:ge.sibling=Re,ge=Re);return t&&ye.forEach(function(oy){return r(I,oy)}),Ve&&Tr(I,we),ce}function nt(I,M,L,X){if(typeof L=="object"&&L!==null&&L.type===G&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:e:{for(var ce=L.key,ge=M;ge!==null;){if(ge.key===ce){if(ce=L.type,ce===G){if(ge.tag===7){o(I,ge.sibling),M=d(ge,L.props.children),M.return=I,I=M;break e}}else if(ge.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===$&&vh(ce)===ge.type){o(I,ge.sibling),M=d(ge,L.props),M.ref=cs(I,ge,L),M.return=I,I=M;break e}o(I,ge);break}else r(I,ge);ge=ge.sibling}L.type===G?(M=Br(L.props.children,I.mode,X,L.key),M.return=I,I=M):(X=Jo(L.type,L.key,L.props,null,I.mode,X),X.ref=cs(I,M,L),X.return=I,I=X)}return x(I);case O:e:{for(ge=L.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){o(I,M.sibling),M=d(M,L.children||[]),M.return=I,I=M;break e}else{o(I,M);break}else r(I,M);M=M.sibling}M=du(L,I.mode,X),M.return=I,I=M}return x(I);case $:return ge=L._init,nt(I,M,ge(L._payload),X)}if(An(L))return le(I,M,L,X);if(Y(L))return ue(I,M,L,X);Ao(I,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,M!==null&&M.tag===6?(o(I,M.sibling),M=d(M,L),M.return=I,I=M):(o(I,M),M=hu(L,I.mode,X),M.return=I,I=M),x(I)):o(I,M)}return nt}var fi=wh(!0),Sh=wh(!1),Eo=sr(null),Ro=null,pi=null,wa=null;function Sa(){wa=pi=Ro=null}function ka(t){var r=Eo.current;je(Eo),t._currentValue=r}function Ca(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function mi(t,r){Ro=t,wa=pi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Rt=!0),t.firstContext=null)}function Kt(t){var r=t._currentValue;if(wa!==t)if(t={context:t,memoizedValue:r,next:null},pi===null){if(Ro===null)throw Error(n(308));pi=t,Ro.dependencies={lanes:0,firstContext:t}}else pi=pi.next=t;return r}var Ar=null;function Pa(t){Ar===null?Ar=[t]:Ar.push(t)}function kh(t,r,o,u){var d=r.interleaved;return d===null?(o.next=o,Pa(r)):(o.next=d.next,d.next=o),r.interleaved=o,On(t,u)}function On(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var ar=!1;function Ma(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ch(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gn(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function ur(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ae&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,On(t,o)}return d=u.interleaved,d===null?(r.next=r,Pa(u)):(r.next=d.next,d.next=r),u.interleaved=r,On(t,o)}function Io(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,an(t,o)}}function Ph(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var x={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?d=p=x:p=p.next=x,o=o.next}while(o!==null);p===null?d=p=r:p=p.next=r}else d=p=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function No(t,r,o,u){var d=t.updateQueue;ar=!1;var p=d.firstBaseUpdate,x=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var P=S,B=P.next;P.next=null,x===null?p=B:x.next=B,x=P;var j=t.alternate;j!==null&&(j=j.updateQueue,S=j.lastBaseUpdate,S!==x&&(S===null?j.firstBaseUpdate=B:S.next=B,j.lastBaseUpdate=P))}if(p!==null){var V=d.baseState;x=0,j=B=P=null,S=p;do{var U=S.lane,ie=S.eventTime;if((u&U)===U){j!==null&&(j=j.next={eventTime:ie,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var le=t,ue=S;switch(U=r,ie=o,ue.tag){case 1:if(le=ue.payload,typeof le=="function"){V=le.call(ie,V,U);break e}V=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ue.payload,U=typeof le=="function"?le.call(ie,V,U):le,U==null)break e;V=J({},V,U);break e;case 2:ar=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,U=d.effects,U===null?d.effects=[S]:U.push(S))}else ie={eventTime:ie,lane:U,tag:S.tag,payload:S.payload,callback:S.callback,next:null},j===null?(B=j=ie,P=V):j=j.next=ie,x|=U;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;U=S,S=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);if(j===null&&(P=V),d.baseState=P,d.firstBaseUpdate=B,d.lastBaseUpdate=j,r=d.shared.interleaved,r!==null){d=r;do x|=d.lane,d=d.next;while(d!==r)}else p===null&&(d.shared.lanes=0);Ir|=x,t.lanes=x,t.memoizedState=V}}function Mh(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],d=u.callback;if(d!==null){if(u.callback=null,u=o,typeof d!="function")throw Error(n(191,d));d.call(u)}}}var hs={},kn=sr(hs),ds=sr(hs),fs=sr(hs);function Er(t){if(t===hs)throw Error(n(174));return t}function ba(t,r){switch(Ge(fs,r),Ge(ds,t),Ge(kn,hs),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:qn(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=qn(r,t)}je(kn),Ge(kn,r)}function gi(){je(kn),je(ds),je(fs)}function bh(t){Er(fs.current);var r=Er(kn.current),o=qn(r,t.type);r!==o&&(Ge(ds,t),Ge(kn,o))}function Ta(t){ds.current===t&&(je(kn),je(ds))}var He=sr(0);function Lo(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Aa=[];function Ea(){for(var t=0;t<Aa.length;t++)Aa[t]._workInProgressVersionPrimary=null;Aa.length=0}var Fo=N.ReactCurrentDispatcher,Ra=N.ReactCurrentBatchConfig,Rr=0,$e=null,it=null,at=null,Bo=!1,ps=!1,ms=0,Tg=0;function _t(){throw Error(n(321))}function Ia(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!un(t[o],r[o]))return!1;return!0}function Na(t,r,o,u,d,p){if(Rr=p,$e=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Fo.current=t===null||t.memoizedState===null?Ig:Ng,t=o(u,d),ps){p=0;do{if(ps=!1,ms=0,25<=p)throw Error(n(301));p+=1,at=it=null,r.updateQueue=null,Fo.current=Lg,t=o(u,d)}while(ps)}if(Fo.current=Oo,r=it!==null&&it.next!==null,Rr=0,at=it=$e=null,Bo=!1,r)throw Error(n(300));return t}function La(){var t=ms!==0;return ms=0,t}function Cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?$e.memoizedState=at=t:at=at.next=t,at}function Zt(){if(it===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var r=at===null?$e.memoizedState:at.next;if(r!==null)at=r,it=t;else{if(t===null)throw Error(n(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},at===null?$e.memoizedState=at=t:at=at.next=t}return at}function gs(t,r){return typeof r=="function"?r(t):r}function Fa(t){var r=Zt(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=it,d=u.baseQueue,p=o.pending;if(p!==null){if(d!==null){var x=d.next;d.next=p.next,p.next=x}u.baseQueue=d=p,o.pending=null}if(d!==null){p=d.next,u=u.baseState;var S=x=null,P=null,B=p;do{var j=B.lane;if((Rr&j)===j)P!==null&&(P=P.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),u=B.hasEagerState?B.eagerState:t(u,B.action);else{var V={lane:j,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};P===null?(S=P=V,x=u):P=P.next=V,$e.lanes|=j,Ir|=j}B=B.next}while(B!==null&&B!==p);P===null?x=u:P.next=S,un(u,r.memoizedState)||(Rt=!0),r.memoizedState=u,r.baseState=x,r.baseQueue=P,o.lastRenderedState=u}if(t=o.interleaved,t!==null){d=t;do p=d.lane,$e.lanes|=p,Ir|=p,d=d.next;while(d!==t)}else d===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Ba(t){var r=Zt(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,d=o.pending,p=r.memoizedState;if(d!==null){o.pending=null;var x=d=d.next;do p=t(p,x.action),x=x.next;while(x!==d);un(p,r.memoizedState)||(Rt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Th(){}function Ah(t,r){var o=$e,u=Zt(),d=r(),p=!un(u.memoizedState,d);if(p&&(u.memoizedState=d,Rt=!0),u=u.queue,za(Ih.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||at!==null&&at.memoizedState.tag&1){if(o.flags|=2048,ys(9,Rh.bind(null,o,u,d,r),void 0,null),ut===null)throw Error(n(349));(Rr&30)!==0||Eh(o,r,d)}return d}function Eh(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=$e.updateQueue,r===null?(r={lastEffect:null,stores:null},$e.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Rh(t,r,o,u){r.value=o,r.getSnapshot=u,Nh(r)&&Lh(t)}function Ih(t,r,o){return o(function(){Nh(r)&&Lh(t)})}function Nh(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!un(t,o)}catch{return!0}}function Lh(t){var r=On(t,1);r!==null&&pn(r,t,1,-1)}function Fh(t){var r=Cn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:t},r.queue=t,t=t.dispatch=Rg.bind(null,$e,t),[r.memoizedState,t]}function ys(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=$e.updateQueue,r===null?(r={lastEffect:null,stores:null},$e.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Bh(){return Zt().memoizedState}function zo(t,r,o,u){var d=Cn();$e.flags|=t,d.memoizedState=ys(1|r,o,void 0,u===void 0?null:u)}function Do(t,r,o,u){var d=Zt();u=u===void 0?null:u;var p=void 0;if(it!==null){var x=it.memoizedState;if(p=x.destroy,u!==null&&Ia(u,x.deps)){d.memoizedState=ys(r,o,p,u);return}}$e.flags|=t,d.memoizedState=ys(1|r,o,p,u)}function zh(t,r){return zo(8390656,8,t,r)}function za(t,r){return Do(2048,8,t,r)}function Dh(t,r){return Do(4,2,t,r)}function Oh(t,r){return Do(4,4,t,r)}function Gh(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Uh(t,r,o){return o=o!=null?o.concat([t]):null,Do(4,4,Gh.bind(null,r,t),o)}function Da(){}function jh(t,r){var o=Zt();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Ia(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Wh(t,r){var o=Zt();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Ia(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Vh(t,r,o){return(Rr&21)===0?(t.baseState&&(t.baseState=!1,Rt=!0),t.memoizedState=o):(un(o,r)||(o=De(),$e.lanes|=o,Ir|=o,t.baseState=!0),r)}function Ag(t,r){var o=Ce;Ce=o!==0&&4>o?o:4,t(!0);var u=Ra.transition;Ra.transition={};try{t(!1),r()}finally{Ce=o,Ra.transition=u}}function Hh(){return Zt().memoizedState}function Eg(t,r,o){var u=fr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},$h(t))Yh(r,o);else if(o=kh(t,r,o,u),o!==null){var d=Ct();pn(o,t,u,d),Xh(o,r,u)}}function Rg(t,r,o){var u=fr(t),d={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if($h(t))Yh(r,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var x=r.lastRenderedState,S=p(x,o);if(d.hasEagerState=!0,d.eagerState=S,un(S,x)){var P=r.interleaved;P===null?(d.next=d,Pa(r)):(d.next=P.next,P.next=d),r.interleaved=d;return}}catch{}o=kh(t,r,d,u),o!==null&&(d=Ct(),pn(o,t,u,d),Xh(o,r,u))}}function $h(t){var r=t.alternate;return t===$e||r!==null&&r===$e}function Yh(t,r){ps=Bo=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Xh(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,an(t,o)}}var Oo={readContext:Kt,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},Ig={readContext:Kt,useCallback:function(t,r){return Cn().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:zh,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,zo(4194308,4,Gh.bind(null,r,t),o)},useLayoutEffect:function(t,r){return zo(4194308,4,t,r)},useInsertionEffect:function(t,r){return zo(4,2,t,r)},useMemo:function(t,r){var o=Cn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=Cn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=Eg.bind(null,$e,t),[u.memoizedState,t]},useRef:function(t){var r=Cn();return t={current:t},r.memoizedState=t},useState:Fh,useDebugValue:Da,useDeferredValue:function(t){return Cn().memoizedState=t},useTransition:function(){var t=Fh(!1),r=t[0];return t=Ag.bind(null,t[1]),Cn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=$e,d=Cn();if(Ve){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),ut===null)throw Error(n(349));(Rr&30)!==0||Eh(u,r,o)}d.memoizedState=o;var p={value:o,getSnapshot:r};return d.queue=p,zh(Ih.bind(null,u,p,t),[t]),u.flags|=2048,ys(9,Rh.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=Cn(),r=ut.identifierPrefix;if(Ve){var o=Dn,u=zn;o=(u&~(1<<32-Tt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=ms++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Tg++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Ng={readContext:Kt,useCallback:jh,useContext:Kt,useEffect:za,useImperativeHandle:Uh,useInsertionEffect:Dh,useLayoutEffect:Oh,useMemo:Wh,useReducer:Fa,useRef:Bh,useState:function(){return Fa(gs)},useDebugValue:Da,useDeferredValue:function(t){var r=Zt();return Vh(r,it.memoizedState,t)},useTransition:function(){var t=Fa(gs)[0],r=Zt().memoizedState;return[t,r]},useMutableSource:Th,useSyncExternalStore:Ah,useId:Hh,unstable_isNewReconciler:!1},Lg={readContext:Kt,useCallback:jh,useContext:Kt,useEffect:za,useImperativeHandle:Uh,useInsertionEffect:Dh,useLayoutEffect:Oh,useMemo:Wh,useReducer:Ba,useRef:Bh,useState:function(){return Ba(gs)},useDebugValue:Da,useDeferredValue:function(t){var r=Zt();return it===null?r.memoizedState=t:Vh(r,it.memoizedState,t)},useTransition:function(){var t=Ba(gs)[0],r=Zt().memoizedState;return[t,r]},useMutableSource:Th,useSyncExternalStore:Ah,useId:Hh,unstable_isNewReconciler:!1};function hn(t,r){if(t&&t.defaultProps){r=J({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Oa(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:J({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Go={isMounted:function(t){return(t=t._reactInternals)?ln(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=Ct(),d=fr(t),p=Gn(u,d);p.payload=r,o!=null&&(p.callback=o),r=ur(t,p,d),r!==null&&(pn(r,t,d,u),Io(r,t,d))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=Ct(),d=fr(t),p=Gn(u,d);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=ur(t,p,d),r!==null&&(pn(r,t,d,u),Io(r,t,d))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=Ct(),u=fr(t),d=Gn(o,u);d.tag=2,r!=null&&(d.callback=r),r=ur(t,d,u),r!==null&&(pn(r,t,u,o),Io(r,t,u))}};function qh(t,r,o,u,d,p,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,x):r.prototype&&r.prototype.isPureReactComponent?!rs(o,u)||!rs(d,p):!0}function Qh(t,r,o){var u=!1,d=or,p=r.contextType;return typeof p=="object"&&p!==null?p=Kt(p):(d=Et(r)?Mr:xt.current,u=r.contextTypes,p=(u=u!=null)?ui(t,d):or),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Go,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=p),r}function Kh(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&Go.enqueueReplaceState(r,r.state,null)}function Ga(t,r,o,u){var d=t.stateNode;d.props=o,d.state=t.memoizedState,d.refs={},Ma(t);var p=r.contextType;typeof p=="object"&&p!==null?d.context=Kt(p):(p=Et(r)?Mr:xt.current,d.context=ui(t,p)),d.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Oa(t,r,p,o),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Go.enqueueReplaceState(d,d.state,null),No(t,o,d,u),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function yi(t,r){try{var o="",u=r;do o+=Q(u),u=u.return;while(u);var d=o}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:d,digest:null}}function Ua(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function ja(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Fg=typeof WeakMap=="function"?WeakMap:Map;function Zh(t,r,o){o=Gn(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){Yo||(Yo=!0,ru=u),ja(t,r)},o}function Jh(t,r,o){o=Gn(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var d=r.value;o.payload=function(){return u(d)},o.callback=function(){ja(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){ja(t,r),typeof u!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var x=r.stack;this.componentDidCatch(r.value,{componentStack:x!==null?x:""})}),o}function ed(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Fg;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(d.add(o),t=qg.bind(null,t,r,o),r.then(t,t))}function td(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function nd(t,r,o,u,d){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=Gn(-1,1),r.tag=2,ur(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=d,t)}var Bg=N.ReactCurrentOwner,Rt=!1;function kt(t,r,o,u){r.child=t===null?Sh(r,null,o,u):fi(r,t.child,o,u)}function rd(t,r,o,u,d){o=o.render;var p=r.ref;return mi(r,d),u=Na(t,r,o,u,p,d),o=La(),t!==null&&!Rt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,Un(t,r,d)):(Ve&&o&&ga(r),r.flags|=1,kt(t,r,u,d),r.child)}function id(t,r,o,u,d){if(t===null){var p=o.type;return typeof p=="function"&&!cu(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,sd(t,r,p,u,d)):(t=Jo(o.type,null,u,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,(t.lanes&d)===0){var x=p.memoizedProps;if(o=o.compare,o=o!==null?o:rs,o(x,u)&&t.ref===r.ref)return Un(t,r,d)}return r.flags|=1,t=mr(p,u),t.ref=r.ref,t.return=r,r.child=t}function sd(t,r,o,u,d){if(t!==null){var p=t.memoizedProps;if(rs(p,u)&&t.ref===r.ref)if(Rt=!1,r.pendingProps=u=p,(t.lanes&d)!==0)(t.flags&131072)!==0&&(Rt=!0);else return r.lanes=t.lanes,Un(t,r,d)}return Wa(t,r,o,u,d)}function od(t,r,o){var u=r.pendingProps,d=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(_i,Wt),Wt|=o;else{if((o&1073741824)===0)return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Ge(_i,Wt),Wt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,Ge(_i,Wt),Wt|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,Ge(_i,Wt),Wt|=u;return kt(t,r,d,o),r.child}function ld(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Wa(t,r,o,u,d){var p=Et(o)?Mr:xt.current;return p=ui(r,p),mi(r,d),o=Na(t,r,o,u,p,d),u=La(),t!==null&&!Rt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,Un(t,r,d)):(Ve&&u&&ga(r),r.flags|=1,kt(t,r,o,d),r.child)}function ad(t,r,o,u,d){if(Et(o)){var p=!0;Co(r)}else p=!1;if(mi(r,d),r.stateNode===null)jo(t,r),Qh(r,o,u),Ga(r,o,u,d),u=!0;else if(t===null){var x=r.stateNode,S=r.memoizedProps;x.props=S;var P=x.context,B=o.contextType;typeof B=="object"&&B!==null?B=Kt(B):(B=Et(o)?Mr:xt.current,B=ui(r,B));var j=o.getDerivedStateFromProps,V=typeof j=="function"||typeof x.getSnapshotBeforeUpdate=="function";V||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==u||P!==B)&&Kh(r,x,u,B),ar=!1;var U=r.memoizedState;x.state=U,No(r,u,x,d),P=r.memoizedState,S!==u||U!==P||At.current||ar?(typeof j=="function"&&(Oa(r,o,j,u),P=r.memoizedState),(S=ar||qh(r,o,S,u,U,P,B))?(V||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=P),x.props=u,x.state=P,x.context=B,u=S):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{x=r.stateNode,Ch(t,r),S=r.memoizedProps,B=r.type===r.elementType?S:hn(r.type,S),x.props=B,V=r.pendingProps,U=x.context,P=o.contextType,typeof P=="object"&&P!==null?P=Kt(P):(P=Et(o)?Mr:xt.current,P=ui(r,P));var ie=o.getDerivedStateFromProps;(j=typeof ie=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==V||U!==P)&&Kh(r,x,u,P),ar=!1,U=r.memoizedState,x.state=U,No(r,u,x,d);var le=r.memoizedState;S!==V||U!==le||At.current||ar?(typeof ie=="function"&&(Oa(r,o,ie,u),le=r.memoizedState),(B=ar||qh(r,o,B,u,U,le,P)||!1)?(j||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,le,P),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,le,P)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=le),x.props=u,x.state=le,x.context=P,u=B):(typeof x.componentDidUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(r.flags|=1024),u=!1)}return Va(t,r,o,u,p,d)}function Va(t,r,o,u,d,p){ld(t,r);var x=(r.flags&128)!==0;if(!u&&!x)return d&&fh(r,o,!1),Un(t,r,p);u=r.stateNode,Bg.current=r;var S=x&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&x?(r.child=fi(r,t.child,null,p),r.child=fi(r,null,S,p)):kt(t,r,S,p),r.memoizedState=u.state,d&&fh(r,o,!0),r.child}function ud(t){var r=t.stateNode;r.pendingContext?hh(t,r.pendingContext,r.pendingContext!==r.context):r.context&&hh(t,r.context,!1),ba(t,r.containerInfo)}function cd(t,r,o,u,d){return di(),va(d),r.flags|=256,kt(t,r,o,u),r.child}var Ha={dehydrated:null,treeContext:null,retryLane:0};function $a(t){return{baseLanes:t,cachePool:null,transitions:null}}function hd(t,r,o){var u=r.pendingProps,d=He.current,p=!1,x=(r.flags&128)!==0,S;if((S=x)||(S=t!==null&&t.memoizedState===null?!1:(d&2)!==0),S?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),Ge(He,d&1),t===null)return _a(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(x=u.children,t=u.fallback,p?(u=r.mode,p=r.child,x={mode:"hidden",children:x},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=x):p=el(x,u,0,null),t=Br(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=$a(o),r.memoizedState=Ha,t):Ya(r,x));if(d=t.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return zg(t,r,x,u,S,d,o);if(p){p=u.fallback,x=r.mode,d=t.child,S=d.sibling;var P={mode:"hidden",children:u.children};return(x&1)===0&&r.child!==d?(u=r.child,u.childLanes=0,u.pendingProps=P,r.deletions=null):(u=mr(d,P),u.subtreeFlags=d.subtreeFlags&14680064),S!==null?p=mr(S,p):(p=Br(p,x,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,x=t.child.memoizedState,x=x===null?$a(o):{baseLanes:x.baseLanes|o,cachePool:null,transitions:x.transitions},p.memoizedState=x,p.childLanes=t.childLanes&~o,r.memoizedState=Ha,u}return p=t.child,t=p.sibling,u=mr(p,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Ya(t,r){return r=el({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Uo(t,r,o,u){return u!==null&&va(u),fi(r,t.child,null,o),t=Ya(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function zg(t,r,o,u,d,p,x){if(o)return r.flags&256?(r.flags&=-257,u=Ua(Error(n(422))),Uo(t,r,x,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,d=r.mode,u=el({mode:"visible",children:u.children},d,0,null),p=Br(p,d,x,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,(r.mode&1)!==0&&fi(r,t.child,null,x),r.child.memoizedState=$a(x),r.memoizedState=Ha,p);if((r.mode&1)===0)return Uo(t,r,x,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var S=u.dgst;return u=S,p=Error(n(419)),u=Ua(p,u,void 0),Uo(t,r,x,u)}if(S=(x&t.childLanes)!==0,Rt||S){if(u=ut,u!==null){switch(x&-x){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(u.suspendedLanes|x))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,On(t,d),pn(u,t,d,-1))}return uu(),u=Ua(Error(n(421))),Uo(t,r,x,u)}return d.data==="$?"?(r.flags|=128,r.child=t.child,r=Qg.bind(null,t),d._reactRetry=r,null):(t=p.treeContext,jt=ir(d.nextSibling),Ut=r,Ve=!0,cn=null,t!==null&&(qt[Qt++]=zn,qt[Qt++]=Dn,qt[Qt++]=br,zn=t.id,Dn=t.overflow,br=r),r=Ya(r,u.children),r.flags|=4096,r)}function dd(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Ca(t.return,r,o)}function Xa(t,r,o,u,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=d)}function fd(t,r,o){var u=r.pendingProps,d=u.revealOrder,p=u.tail;if(kt(t,r,u.children,o),u=He.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dd(t,o,r);else if(t.tag===19)dd(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(Ge(He,u),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(o=r.child,d=null;o!==null;)t=o.alternate,t!==null&&Lo(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Xa(r,!1,d,o,p);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&Lo(t)===null){r.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}Xa(r,!0,o,null,p);break;case"together":Xa(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function jo(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Un(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ir|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=mr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=mr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Dg(t,r,o){switch(r.tag){case 3:ud(r),di();break;case 5:bh(r);break;case 1:Et(r.type)&&Co(r);break;case 4:ba(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,d=r.memoizedProps.value;Ge(Eo,u._currentValue),u._currentValue=d;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(Ge(He,He.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?hd(t,r,o):(Ge(He,He.current&1),t=Un(t,r,o),t!==null?t.sibling:null);Ge(He,He.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return fd(t,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ge(He,He.current),u)break;return null;case 22:case 23:return r.lanes=0,od(t,r,o)}return Un(t,r,o)}var pd,qa,md,gd;pd=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},qa=function(){},md=function(t,r,o,u){var d=t.memoizedProps;if(d!==u){t=r.stateNode,Er(kn.current);var p=null;switch(o){case"input":d=Bt(t,d),u=Bt(t,u),p=[];break;case"select":d=J({},d,{value:void 0}),u=J({},u,{value:void 0}),p=[];break;case"textarea":d=$r(t,d),u=$r(t,u),p=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=wo)}Ot(o,u);var x;o=null;for(B in d)if(!u.hasOwnProperty(B)&&d.hasOwnProperty(B)&&d[B]!=null)if(B==="style"){var S=d[B];for(x in S)S.hasOwnProperty(x)&&(o||(o={}),o[x]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(l.hasOwnProperty(B)?p||(p=[]):(p=p||[]).push(B,null));for(B in u){var P=u[B];if(S=d?.[B],u.hasOwnProperty(B)&&P!==S&&(P!=null||S!=null))if(B==="style")if(S){for(x in S)!S.hasOwnProperty(x)||P&&P.hasOwnProperty(x)||(o||(o={}),o[x]="");for(x in P)P.hasOwnProperty(x)&&S[x]!==P[x]&&(o||(o={}),o[x]=P[x])}else o||(p||(p=[]),p.push(B,o)),o=P;else B==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(p=p||[]).push(B,P)):B==="children"?typeof P!="string"&&typeof P!="number"||(p=p||[]).push(B,""+P):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(l.hasOwnProperty(B)?(P!=null&&B==="onScroll"&&Ue("scroll",t),p||S===P||(p=[])):(p=p||[]).push(B,P))}o&&(p=p||[]).push("style",o);var B=p;(r.updateQueue=B)&&(r.flags|=4)}},gd=function(t,r,o,u){o!==u&&(r.flags|=4)};function xs(t,r){if(!Ve)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function vt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function Og(t,r,o){var u=r.pendingProps;switch(ya(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(r),null;case 1:return Et(r.type)&&ko(),vt(r),null;case 3:return u=r.stateNode,gi(),je(At),je(xt),Ea(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(To(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,cn!==null&&(ou(cn),cn=null))),qa(t,r),vt(r),null;case 5:Ta(r);var d=Er(fs.current);if(o=r.type,t!==null&&r.stateNode!=null)md(t,r,o,u,d),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return vt(r),null}if(t=Er(kn.current),To(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[Sn]=r,u[as]=p,t=(r.mode&1)!==0,o){case"dialog":Ue("cancel",u),Ue("close",u);break;case"iframe":case"object":case"embed":Ue("load",u);break;case"video":case"audio":for(d=0;d<ss.length;d++)Ue(ss[d],u);break;case"source":Ue("error",u);break;case"img":case"image":case"link":Ue("error",u),Ue("load",u);break;case"details":Ue("toggle",u);break;case"input":$t(u,p),Ue("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},Ue("invalid",u);break;case"textarea":on(u,p),Ue("invalid",u)}Ot(o,p),d=null;for(var x in p)if(p.hasOwnProperty(x)){var S=p[x];x==="children"?typeof S=="string"?u.textContent!==S&&(p.suppressHydrationWarning!==!0&&vo(u.textContent,S,t),d=["children",S]):typeof S=="number"&&u.textContent!==""+S&&(p.suppressHydrationWarning!==!0&&vo(u.textContent,S,t),d=["children",""+S]):l.hasOwnProperty(x)&&S!=null&&x==="onScroll"&&Ue("scroll",u)}switch(o){case"input":bt(u),_r(u,p,!0);break;case"textarea":bt(u),Ri(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=wo)}u=d,r.updateQueue=u,u!==null&&(r.flags|=4)}else{x=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ii(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=x.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=x.createElement(o,{is:u.is}):(t=x.createElement(o),o==="select"&&(x=t,u.multiple?x.multiple=!0:u.size&&(x.size=u.size))):t=x.createElementNS(t,o),t[Sn]=r,t[as]=u,pd(t,r,!1,!1),r.stateNode=t;e:{switch(x=Xr(o,u),o){case"dialog":Ue("cancel",t),Ue("close",t),d=u;break;case"iframe":case"object":case"embed":Ue("load",t),d=u;break;case"video":case"audio":for(d=0;d<ss.length;d++)Ue(ss[d],t);d=u;break;case"source":Ue("error",t),d=u;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),d=u;break;case"details":Ue("toggle",t),d=u;break;case"input":$t(t,u),d=Bt(t,u),Ue("invalid",t);break;case"option":d=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},d=J({},u,{value:void 0}),Ue("invalid",t);break;case"textarea":on(t,u),d=$r(t,u),Ue("invalid",t);break;default:d=u}Ot(o,d),S=d;for(p in S)if(S.hasOwnProperty(p)){var P=S[p];p==="style"?Nn(t,P):p==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&pt(t,P)):p==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&Rn(t,P):typeof P=="number"&&Rn(t,""+P):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(l.hasOwnProperty(p)?P!=null&&p==="onScroll"&&Ue("scroll",t):P!=null&&R(t,p,P,x))}switch(o){case"input":bt(t),_r(t,u,!1);break;case"textarea":bt(t),Ri(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Se(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?En(t,!!u.multiple,p,!1):u.defaultValue!=null&&En(t,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=wo)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return vt(r),null;case 6:if(t&&r.stateNode!=null)gd(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Er(fs.current),Er(kn.current),To(r)){if(u=r.stateNode,o=r.memoizedProps,u[Sn]=r,(p=u.nodeValue!==o)&&(t=Ut,t!==null))switch(t.tag){case 3:vo(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vo(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Sn]=r,r.stateNode=u}return vt(r),null;case 13:if(je(He),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&jt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)_h(),di(),r.flags|=98560,p=!1;else if(p=To(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Sn]=r}else di(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;vt(r),p=!1}else cn!==null&&(ou(cn),cn=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(He.current&1)!==0?st===0&&(st=3):uu())),r.updateQueue!==null&&(r.flags|=4),vt(r),null);case 4:return gi(),qa(t,r),t===null&&os(r.stateNode.containerInfo),vt(r),null;case 10:return ka(r.type._context),vt(r),null;case 17:return Et(r.type)&&ko(),vt(r),null;case 19:if(je(He),p=r.memoizedState,p===null)return vt(r),null;if(u=(r.flags&128)!==0,x=p.rendering,x===null)if(u)xs(p,!1);else{if(st!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(x=Lo(t),x!==null){for(r.flags|=128,xs(p,!1),u=x.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,x=p.alternate,x===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=x.childLanes,p.lanes=x.lanes,p.child=x.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=x.memoizedProps,p.memoizedState=x.memoizedState,p.updateQueue=x.updateQueue,p.type=x.type,t=x.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Ge(He,He.current&1|2),r.child}t=t.sibling}p.tail!==null&&We()>vi&&(r.flags|=128,u=!0,xs(p,!1),r.lanes=4194304)}else{if(!u)if(t=Lo(x),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),xs(p,!0),p.tail===null&&p.tailMode==="hidden"&&!x.alternate&&!Ve)return vt(r),null}else 2*We()-p.renderingStartTime>vi&&o!==1073741824&&(r.flags|=128,u=!0,xs(p,!1),r.lanes=4194304);p.isBackwards?(x.sibling=r.child,r.child=x):(o=p.last,o!==null?o.sibling=x:r.child=x,p.last=x)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=We(),r.sibling=null,o=He.current,Ge(He,u?o&1|2:o&1),r):(vt(r),null);case 22:case 23:return au(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(Wt&1073741824)!==0&&(vt(r),r.subtreeFlags&6&&(r.flags|=8192)):vt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Gg(t,r){switch(ya(r),r.tag){case 1:return Et(r.type)&&ko(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return gi(),je(At),je(xt),Ea(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return Ta(r),null;case 13:if(je(He),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));di()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return je(He),null;case 4:return gi(),null;case 10:return ka(r.type._context),null;case 22:case 23:return au(),null;case 24:return null;default:return null}}var Wo=!1,wt=!1,Ug=typeof WeakSet=="function"?WeakSet:Set,se=null;function xi(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){qe(t,r,u)}else o.current=null}function Qa(t,r,o){try{o()}catch(u){qe(t,r,u)}}var yd=!1;function jg(t,r){if(aa=ao,t=qc(),ea(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var x=0,S=-1,P=-1,B=0,j=0,V=t,U=null;t:for(;;){for(var ie;V!==o||d!==0&&V.nodeType!==3||(S=x+d),V!==p||u!==0&&V.nodeType!==3||(P=x+u),V.nodeType===3&&(x+=V.nodeValue.length),(ie=V.firstChild)!==null;)U=V,V=ie;for(;;){if(V===t)break t;if(U===o&&++B===d&&(S=x),U===p&&++j===u&&(P=x),(ie=V.nextSibling)!==null)break;V=U,U=V.parentNode}V=ie}o=S===-1||P===-1?null:{start:S,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(ua={focusedElem:t,selectionRange:o},ao=!1,se=r;se!==null;)if(r=se,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,se=t;else for(;se!==null;){r=se;try{var le=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ue=le.memoizedProps,nt=le.memoizedState,I=r.stateNode,M=I.getSnapshotBeforeUpdate(r.elementType===r.type?ue:hn(r.type,ue),nt);I.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var L=r.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(X){qe(r,r.return,X)}if(t=r.sibling,t!==null){t.return=r.return,se=t;break}se=r.return}return le=yd,yd=!1,le}function _s(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&t)===t){var p=d.destroy;d.destroy=void 0,p!==void 0&&Qa(r,o,p)}d=d.next}while(d!==u)}}function Vo(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Ka(t){var r=t.ref;if(r!==null){var o=t.stateNode;t.tag,t=o,typeof r=="function"?r(t):r.current=t}}function xd(t){var r=t.alternate;r!==null&&(t.alternate=null,xd(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Sn],delete r[as],delete r[fa],delete r[Cg],delete r[Pg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _d(t){return t.tag===5||t.tag===3||t.tag===4}function vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_d(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Za(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=wo));else if(u!==4&&(t=t.child,t!==null))for(Za(t,r,o),t=t.sibling;t!==null;)Za(t,r,o),t=t.sibling}function Ja(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Ja(t,r,o),t=t.sibling;t!==null;)Ja(t,r,o),t=t.sibling}var mt=null,dn=!1;function cr(t,r,o){for(o=o.child;o!==null;)wd(t,r,o),o=o.sibling}function wd(t,r,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Jr,o)}catch{}switch(o.tag){case 5:wt||xi(o,r);case 6:var u=mt,d=dn;mt=null,cr(t,r,o),mt=u,dn=d,mt!==null&&(dn?(t=mt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):mt.removeChild(o.stateNode));break;case 18:mt!==null&&(dn?(t=mt,o=o.stateNode,t.nodeType===8?da(t.parentNode,o):t.nodeType===1&&da(t,o),Ki(t)):da(mt,o.stateNode));break;case 4:u=mt,d=dn,mt=o.stateNode.containerInfo,dn=!0,cr(t,r,o),mt=u,dn=d;break;case 0:case 11:case 14:case 15:if(!wt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var p=d,x=p.destroy;p=p.tag,x!==void 0&&((p&2)!==0||(p&4)!==0)&&Qa(o,r,x),d=d.next}while(d!==u)}cr(t,r,o);break;case 1:if(!wt&&(xi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(S){qe(o,r,S)}cr(t,r,o);break;case 21:cr(t,r,o);break;case 22:o.mode&1?(wt=(u=wt)||o.memoizedState!==null,cr(t,r,o),wt=u):cr(t,r,o);break;default:cr(t,r,o)}}function Sd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Ug),r.forEach(function(u){var d=Kg.bind(null,t,u);o.has(u)||(o.add(u),u.then(d,d))})}}function fn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];try{var p=t,x=r,S=x;e:for(;S!==null;){switch(S.tag){case 5:mt=S.stateNode,dn=!1;break e;case 3:mt=S.stateNode.containerInfo,dn=!0;break e;case 4:mt=S.stateNode.containerInfo,dn=!0;break e}S=S.return}if(mt===null)throw Error(n(160));wd(p,x,d),mt=null,dn=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(B){qe(d,r,B)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)kd(r,t),r=r.sibling}function kd(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fn(r,t),Pn(t),u&4){try{_s(3,t,t.return),Vo(3,t)}catch(ue){qe(t,t.return,ue)}try{_s(5,t,t.return)}catch(ue){qe(t,t.return,ue)}}break;case 1:fn(r,t),Pn(t),u&512&&o!==null&&xi(o,o.return);break;case 5:if(fn(r,t),Pn(t),u&512&&o!==null&&xi(o,o.return),t.flags&32){var d=t.stateNode;try{Rn(d,"")}catch(ue){qe(t,t.return,ue)}}if(u&4&&(d=t.stateNode,d!=null)){var p=t.memoizedProps,x=o!==null?o.memoizedProps:p,S=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{S==="input"&&p.type==="radio"&&p.name!=null&&Xn(d,p),Xr(S,x);var B=Xr(S,p);for(x=0;x<P.length;x+=2){var j=P[x],V=P[x+1];j==="style"?Nn(d,V):j==="dangerouslySetInnerHTML"?pt(d,V):j==="children"?Rn(d,V):R(d,j,V,B)}switch(S){case"input":sn(d,p);break;case"textarea":zt(d,p);break;case"select":var U=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var ie=p.value;ie!=null?En(d,!!p.multiple,ie,!1):U!==!!p.multiple&&(p.defaultValue!=null?En(d,!!p.multiple,p.defaultValue,!0):En(d,!!p.multiple,p.multiple?[]:"",!1))}d[as]=p}catch(ue){qe(t,t.return,ue)}}break;case 6:if(fn(r,t),Pn(t),u&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,p=t.memoizedProps;try{d.nodeValue=p}catch(ue){qe(t,t.return,ue)}}break;case 3:if(fn(r,t),Pn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ki(r.containerInfo)}catch(ue){qe(t,t.return,ue)}break;case 4:fn(r,t),Pn(t);break;case 13:fn(r,t),Pn(t),d=t.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(nu=We())),u&4&&Sd(t);break;case 22:if(j=o!==null&&o.memoizedState!==null,t.mode&1?(wt=(B=wt)||j,fn(r,t),wt=B):fn(r,t),Pn(t),u&8192){if(B=t.memoizedState!==null,(t.stateNode.isHidden=B)&&!j&&(t.mode&1)!==0)for(se=t,j=t.child;j!==null;){for(V=se=j;se!==null;){switch(U=se,ie=U.child,U.tag){case 0:case 11:case 14:case 15:_s(4,U,U.return);break;case 1:xi(U,U.return);var le=U.stateNode;if(typeof le.componentWillUnmount=="function"){u=U,o=U.return;try{r=u,le.props=r.memoizedProps,le.state=r.memoizedState,le.componentWillUnmount()}catch(ue){qe(u,o,ue)}}break;case 5:xi(U,U.return);break;case 22:if(U.memoizedState!==null){Md(V);continue}}ie!==null?(ie.return=U,se=ie):Md(V)}j=j.sibling}e:for(j=null,V=t;;){if(V.tag===5){if(j===null){j=V;try{d=V.stateNode,B?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(S=V.stateNode,P=V.memoizedProps.style,x=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=Dt("display",x))}catch(ue){qe(t,t.return,ue)}}}else if(V.tag===6){if(j===null)try{V.stateNode.nodeValue=B?"":V.memoizedProps}catch(ue){qe(t,t.return,ue)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===t)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===t)break e;for(;V.sibling===null;){if(V.return===null||V.return===t)break e;j===V&&(j=null),V=V.return}j===V&&(j=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:fn(r,t),Pn(t),u&4&&Sd(t);break;case 21:break;default:fn(r,t),Pn(t)}}function Pn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(_d(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(Rn(d,""),u.flags&=-33);var p=vd(t);Ja(t,p,d);break;case 3:case 4:var x=u.stateNode.containerInfo,S=vd(t);Za(t,S,x);break;default:throw Error(n(161))}}catch(P){qe(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Wg(t,r,o){se=t,Cd(t)}function Cd(t,r,o){for(var u=(t.mode&1)!==0;se!==null;){var d=se,p=d.child;if(d.tag===22&&u){var x=d.memoizedState!==null||Wo;if(!x){var S=d.alternate,P=S!==null&&S.memoizedState!==null||wt;S=Wo;var B=wt;if(Wo=x,(wt=P)&&!B)for(se=d;se!==null;)x=se,P=x.child,x.tag===22&&x.memoizedState!==null?bd(d):P!==null?(P.return=x,se=P):bd(d);for(;p!==null;)se=p,Cd(p),p=p.sibling;se=d,Wo=S,wt=B}Pd(t)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,se=p):Pd(t)}}function Pd(t){for(;se!==null;){var r=se;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:wt||Vo(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!wt)if(o===null)u.componentDidMount();else{var d=r.elementType===r.type?o.memoizedProps:hn(r.type,o.memoizedProps);u.componentDidUpdate(d,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Mh(r,p,u);break;case 3:var x=r.updateQueue;if(x!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Mh(r,x,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var B=r.alternate;if(B!==null){var j=B.memoizedState;if(j!==null){var V=j.dehydrated;V!==null&&Ki(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}wt||r.flags&512&&Ka(r)}catch(U){qe(r,r.return,U)}}if(r===t){se=null;break}if(o=r.sibling,o!==null){o.return=r.return,se=o;break}se=r.return}}function Md(t){for(;se!==null;){var r=se;if(r===t){se=null;break}var o=r.sibling;if(o!==null){o.return=r.return,se=o;break}se=r.return}}function bd(t){for(;se!==null;){var r=se;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Vo(4,r)}catch(P){qe(r,o,P)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var d=r.return;try{u.componentDidMount()}catch(P){qe(r,d,P)}}var p=r.return;try{Ka(r)}catch(P){qe(r,p,P)}break;case 5:var x=r.return;try{Ka(r)}catch(P){qe(r,x,P)}}}catch(P){qe(r,r.return,P)}if(r===t){se=null;break}var S=r.sibling;if(S!==null){S.return=r.return,se=S;break}se=r.return}}var Vg=Math.ceil,Ho=N.ReactCurrentDispatcher,eu=N.ReactCurrentOwner,Jt=N.ReactCurrentBatchConfig,Ae=0,ut=null,rt=null,gt=0,Wt=0,_i=sr(0),st=0,vs=null,Ir=0,$o=0,tu=0,ws=null,It=null,nu=0,vi=1/0,jn=null,Yo=!1,ru=null,hr=null,Xo=!1,dr=null,qo=0,Ss=0,iu=null,Qo=-1,Ko=0;function Ct(){return(Ae&6)!==0?We():Qo!==-1?Qo:Qo=We()}function fr(t){return(t.mode&1)===0?1:(Ae&2)!==0&&gt!==0?gt&-gt:bg.transition!==null?(Ko===0&&(Ko=De()),Ko):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:Ac(t.type)),t)}function pn(t,r,o,u){if(50<Ss)throw Ss=0,iu=null,Error(n(185));lt(t,o,u),((Ae&2)===0||t!==ut)&&(t===ut&&((Ae&2)===0&&($o|=o),st===4&&pr(t,gt)),Nt(t,u),o===1&&Ae===0&&(r.mode&1)===0&&(vi=We()+500,Po&&lr()))}function Nt(t,r){var o=t.callbackNode;fe(t,r);var u=D(t,t===ut?gt:0);if(u===0)o!==null&&eo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&eo(o),r===1)t.tag===0?Mg(Ad.bind(null,t)):ph(Ad.bind(null,t)),Sg(function(){(Ae&6)===0&&lr()}),o=null;else{switch($i(u)){case 1:o=Wi;break;case 4:o=no;break;case 16:o=kr;break;case 536870912:o=Vi;break;default:o=kr}o=zd(o,Td.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Td(t,r){if(Qo=-1,Ko=0,(Ae&6)!==0)throw Error(n(327));var o=t.callbackNode;if(wi()&&t.callbackNode!==o)return null;var u=D(t,t===ut?gt:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=Zo(t,u);else{r=u;var d=Ae;Ae|=2;var p=Rd();(ut!==t||gt!==r)&&(jn=null,vi=We()+500,Lr(t,r));do try{Yg();break}catch(S){Ed(t,S)}while(!0);Sa(),Ho.current=p,Ae=d,rt!==null?r=0:(ut=null,gt=0,r=st)}if(r!==0){if(r===2&&(d=xe(t),d!==0&&(u=d,r=su(t,d))),r===1)throw o=vs,Lr(t,0),pr(t,u),Nt(t,We()),o;if(r===6)pr(t,u);else{if(d=t.current.alternate,(u&30)===0&&!Hg(d)&&(r=Zo(t,u),r===2&&(p=xe(t),p!==0&&(u=p,r=su(t,p))),r===1))throw o=vs,Lr(t,0),pr(t,u),Nt(t,We()),o;switch(t.finishedWork=d,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Fr(t,It,jn);break;case 3:if(pr(t,u),(u&130023424)===u&&(r=nu+500-We(),10<r)){if(D(t,0)!==0)break;if(d=t.suspendedLanes,(d&u)!==u){Ct(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=ha(Fr.bind(null,t,It,jn),r);break}Fr(t,It,jn);break;case 4:if(pr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,d=-1;0<u;){var x=31-Tt(u);p=1<<x,x=r[x],x>d&&(d=x),u&=~p}if(u=d,u=We()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Vg(u/1960))-u,10<u){t.timeoutHandle=ha(Fr.bind(null,t,It,jn),u);break}Fr(t,It,jn);break;case 5:Fr(t,It,jn);break;default:throw Error(n(329))}}}return Nt(t,We()),t.callbackNode===o?Td.bind(null,t):null}function su(t,r){var o=ws;return t.current.memoizedState.isDehydrated&&(Lr(t,r).flags|=256),t=Zo(t,r),t!==2&&(r=It,It=o,r!==null&&ou(r)),t}function ou(t){It===null?It=t:It.push.apply(It,t)}function Hg(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!un(p(),d))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function pr(t,r){for(r&=~tu,r&=~$o,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Tt(r),u=1<<o;t[o]=-1,r&=~u}}function Ad(t){if((Ae&6)!==0)throw Error(n(327));wi();var r=D(t,0);if((r&1)===0)return Nt(t,We()),null;var o=Zo(t,r);if(t.tag!==0&&o===2){var u=xe(t);u!==0&&(r=u,o=su(t,u))}if(o===1)throw o=vs,Lr(t,0),pr(t,r),Nt(t,We()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Fr(t,It,jn),Nt(t,We()),null}function lu(t,r){var o=Ae;Ae|=1;try{return t(r)}finally{Ae=o,Ae===0&&(vi=We()+500,Po&&lr())}}function Nr(t){dr!==null&&dr.tag===0&&(Ae&6)===0&&wi();var r=Ae;Ae|=1;var o=Jt.transition,u=Ce;try{if(Jt.transition=null,Ce=1,t)return t()}finally{Ce=u,Jt.transition=o,Ae=r,(Ae&6)===0&&lr()}}function au(){Wt=_i.current,je(_i)}function Lr(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,wg(o)),rt!==null)for(o=rt.return;o!==null;){var u=o;switch(ya(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&ko();break;case 3:gi(),je(At),je(xt),Ea();break;case 5:Ta(u);break;case 4:gi();break;case 13:je(He);break;case 19:je(He);break;case 10:ka(u.type._context);break;case 22:case 23:au()}o=o.return}if(ut=t,rt=t=mr(t.current,null),gt=Wt=r,st=0,vs=null,tu=$o=Ir=0,It=ws=null,Ar!==null){for(r=0;r<Ar.length;r++)if(o=Ar[r],u=o.interleaved,u!==null){o.interleaved=null;var d=u.next,p=o.pending;if(p!==null){var x=p.next;p.next=d,u.next=x}o.pending=u}Ar=null}return t}function Ed(t,r){do{var o=rt;try{if(Sa(),Fo.current=Oo,Bo){for(var u=$e.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}Bo=!1}if(Rr=0,at=it=$e=null,ps=!1,ms=0,eu.current=null,o===null||o.return===null){st=1,vs=r,rt=null;break}e:{var p=t,x=o.return,S=o,P=r;if(r=gt,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var B=P,j=S,V=j.tag;if((j.mode&1)===0&&(V===0||V===11||V===15)){var U=j.alternate;U?(j.updateQueue=U.updateQueue,j.memoizedState=U.memoizedState,j.lanes=U.lanes):(j.updateQueue=null,j.memoizedState=null)}var ie=td(x);if(ie!==null){ie.flags&=-257,nd(ie,x,S,p,r),ie.mode&1&&ed(p,B,r),r=ie,P=B;var le=r.updateQueue;if(le===null){var ue=new Set;ue.add(P),r.updateQueue=ue}else le.add(P);break e}else{if((r&1)===0){ed(p,B,r),uu();break e}P=Error(n(426))}}else if(Ve&&S.mode&1){var nt=td(x);if(nt!==null){(nt.flags&65536)===0&&(nt.flags|=256),nd(nt,x,S,p,r),va(yi(P,S));break e}}p=P=yi(P,S),st!==4&&(st=2),ws===null?ws=[p]:ws.push(p),p=x;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var I=Zh(p,P,r);Ph(p,I);break e;case 1:S=P;var M=p.type,L=p.stateNode;if((p.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(hr===null||!hr.has(L)))){p.flags|=65536,r&=-r,p.lanes|=r;var X=Jh(p,S,r);Ph(p,X);break e}}p=p.return}while(p!==null)}Nd(o)}catch(ce){r=ce,rt===o&&o!==null&&(rt=o=o.return);continue}break}while(!0)}function Rd(){var t=Ho.current;return Ho.current=Oo,t===null?Oo:t}function uu(){(st===0||st===3||st===2)&&(st=4),ut===null||(Ir&268435455)===0&&($o&268435455)===0||pr(ut,gt)}function Zo(t,r){var o=Ae;Ae|=2;var u=Rd();(ut!==t||gt!==r)&&(jn=null,Lr(t,r));do try{$g();break}catch(d){Ed(t,d)}while(!0);if(Sa(),Ae=o,Ho.current=u,rt!==null)throw Error(n(261));return ut=null,gt=0,st}function $g(){for(;rt!==null;)Id(rt)}function Yg(){for(;rt!==null&&!Ol();)Id(rt)}function Id(t){var r=Bd(t.alternate,t,Wt);t.memoizedProps=t.pendingProps,r===null?Nd(t):rt=r,eu.current=null}function Nd(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=Og(o,r,Wt),o!==null){rt=o;return}}else{if(o=Gg(o,r),o!==null){o.flags&=32767,rt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,rt=null;return}}if(r=r.sibling,r!==null){rt=r;return}rt=r=t}while(r!==null);st===0&&(st=5)}function Fr(t,r,o){var u=Ce,d=Jt.transition;try{Jt.transition=null,Ce=1,Xg(t,r,o,u)}finally{Jt.transition=d,Ce=u}return null}function Xg(t,r,o,u){do wi();while(dr!==null);if((Ae&6)!==0)throw Error(n(327));o=t.finishedWork;var d=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(Xt(t,p),t===ut&&(rt=ut=null,gt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Xo||(Xo=!0,zd(kr,function(){return wi(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=Jt.transition,Jt.transition=null;var x=Ce;Ce=1;var S=Ae;Ae|=4,eu.current=null,jg(t,o),kd(o,t),pg(ua),ao=!!aa,ua=aa=null,t.current=o,Wg(o),Gl(),Ae=S,Ce=x,Jt.transition=p}else t.current=o;if(Xo&&(Xo=!1,dr=t,qo=d),p=t.pendingLanes,p===0&&(hr=null),ro(o.stateNode),Nt(t,We()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)d=r[o],u(d.value,{componentStack:d.stack,digest:d.digest});if(Yo)throw Yo=!1,t=ru,ru=null,t;return(qo&1)!==0&&t.tag!==0&&wi(),p=t.pendingLanes,(p&1)!==0?t===iu?Ss++:(Ss=0,iu=t):Ss=0,lr(),null}function wi(){if(dr!==null){var t=$i(qo),r=Jt.transition,o=Ce;try{if(Jt.transition=null,Ce=16>t?16:t,dr===null)var u=!1;else{if(t=dr,dr=null,qo=0,(Ae&6)!==0)throw Error(n(331));var d=Ae;for(Ae|=4,se=t.current;se!==null;){var p=se,x=p.child;if((se.flags&16)!==0){var S=p.deletions;if(S!==null){for(var P=0;P<S.length;P++){var B=S[P];for(se=B;se!==null;){var j=se;switch(j.tag){case 0:case 11:case 15:_s(8,j,p)}var V=j.child;if(V!==null)V.return=j,se=V;else for(;se!==null;){j=se;var U=j.sibling,ie=j.return;if(xd(j),j===B){se=null;break}if(U!==null){U.return=ie,se=U;break}se=ie}}}var le=p.alternate;if(le!==null){var ue=le.child;if(ue!==null){le.child=null;do{var nt=ue.sibling;ue.sibling=null,ue=nt}while(ue!==null)}}se=p}}if((p.subtreeFlags&2064)!==0&&x!==null)x.return=p,se=x;else e:for(;se!==null;){if(p=se,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:_s(9,p,p.return)}var I=p.sibling;if(I!==null){I.return=p.return,se=I;break e}se=p.return}}var M=t.current;for(se=M;se!==null;){x=se;var L=x.child;if((x.subtreeFlags&2064)!==0&&L!==null)L.return=x,se=L;else e:for(x=M;se!==null;){if(S=se,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Vo(9,S)}}catch(ce){qe(S,S.return,ce)}if(S===x){se=null;break e}var X=S.sibling;if(X!==null){X.return=S.return,se=X;break e}se=S.return}}if(Ae=d,lr(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Jr,t)}catch{}u=!0}return u}finally{Ce=o,Jt.transition=r}}return!1}function Ld(t,r,o){r=yi(o,r),r=Zh(t,r,1),t=ur(t,r,1),r=Ct(),t!==null&&(lt(t,1,r),Nt(t,r))}function qe(t,r,o){if(t.tag===3)Ld(t,t,o);else for(;r!==null;){if(r.tag===3){Ld(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(hr===null||!hr.has(u))){t=yi(o,t),t=Jh(r,t,1),r=ur(r,t,1),t=Ct(),r!==null&&(lt(r,1,t),Nt(r,t));break}}r=r.return}}function qg(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=Ct(),t.pingedLanes|=t.suspendedLanes&o,ut===t&&(gt&o)===o&&(st===4||st===3&&(gt&130023424)===gt&&500>We()-nu?Lr(t,0):tu|=o),Nt(t,r)}function Fd(t,r){r===0&&((t.mode&1)===0?r=1:(r=E,E<<=1,(E&130023424)===0&&(E=4194304)));var o=Ct();t=On(t,r),t!==null&&(lt(t,r,o),Nt(t,o))}function Qg(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Fd(t,o)}function Kg(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),Fd(t,o)}var Bd;Bd=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||At.current)Rt=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return Rt=!1,Dg(t,r,o);Rt=(t.flags&131072)!==0}else Rt=!1,Ve&&(r.flags&1048576)!==0&&mh(r,bo,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;jo(t,r),t=r.pendingProps;var d=ui(r,xt.current);mi(r,o),d=Na(null,r,u,t,d,o);var p=La();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Et(u)?(p=!0,Co(r)):p=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ma(r),d.updater=Go,r.stateNode=d,d._reactInternals=r,Ga(r,u,t,o),r=Va(null,r,u,!0,p,o)):(r.tag=0,Ve&&p&&ga(r),kt(null,r,d,o),r=r.child),r;case 16:u=r.elementType;e:{switch(jo(t,r),t=r.pendingProps,d=u._init,u=d(u._payload),r.type=u,d=r.tag=Jg(u),t=hn(u,t),d){case 0:r=Wa(null,r,u,t,o);break e;case 1:r=ad(null,r,u,t,o);break e;case 11:r=rd(null,r,u,t,o);break e;case 14:r=id(null,r,u,hn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:hn(u,d),Wa(t,r,u,d,o);case 1:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:hn(u,d),ad(t,r,u,d,o);case 3:e:{if(ud(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,d=p.element,Ch(t,r),No(r,u,null,o);var x=r.memoizedState;if(u=x.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){d=yi(Error(n(423)),r),r=cd(t,r,u,o,d);break e}else if(u!==d){d=yi(Error(n(424)),r),r=cd(t,r,u,o,d);break e}else for(jt=ir(r.stateNode.containerInfo.firstChild),Ut=r,Ve=!0,cn=null,o=Sh(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(di(),u===d){r=Un(t,r,o);break e}kt(t,r,u,o)}r=r.child}return r;case 5:return bh(r),t===null&&_a(r),u=r.type,d=r.pendingProps,p=t!==null?t.memoizedProps:null,x=d.children,ca(u,d)?x=null:p!==null&&ca(u,p)&&(r.flags|=32),ld(t,r),kt(t,r,x,o),r.child;case 6:return t===null&&_a(r),null;case 13:return hd(t,r,o);case 4:return ba(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=fi(r,null,u,o):kt(t,r,u,o),r.child;case 11:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:hn(u,d),rd(t,r,u,d,o);case 7:return kt(t,r,r.pendingProps,o),r.child;case 8:return kt(t,r,r.pendingProps.children,o),r.child;case 12:return kt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,d=r.pendingProps,p=r.memoizedProps,x=d.value,Ge(Eo,u._currentValue),u._currentValue=x,p!==null)if(un(p.value,x)){if(p.children===d.children&&!At.current){r=Un(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var S=p.dependencies;if(S!==null){x=p.child;for(var P=S.firstContext;P!==null;){if(P.context===u){if(p.tag===1){P=Gn(-1,o&-o),P.tag=2;var B=p.updateQueue;if(B!==null){B=B.shared;var j=B.pending;j===null?P.next=P:(P.next=j.next,j.next=P),B.pending=P}}p.lanes|=o,P=p.alternate,P!==null&&(P.lanes|=o),Ca(p.return,o,r),S.lanes|=o;break}P=P.next}}else if(p.tag===10)x=p.type===r.type?null:p.child;else if(p.tag===18){if(x=p.return,x===null)throw Error(n(341));x.lanes|=o,S=x.alternate,S!==null&&(S.lanes|=o),Ca(x,o,r),x=p.sibling}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===r){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}kt(t,r,d.children,o),r=r.child}return r;case 9:return d=r.type,u=r.pendingProps.children,mi(r,o),d=Kt(d),u=u(d),r.flags|=1,kt(t,r,u,o),r.child;case 14:return u=r.type,d=hn(u,r.pendingProps),d=hn(u.type,d),id(t,r,u,d,o);case 15:return sd(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:hn(u,d),jo(t,r),r.tag=1,Et(u)?(t=!0,Co(r)):t=!1,mi(r,o),Qh(r,u,d),Ga(r,u,d,o),Va(null,r,u,!0,t,o);case 19:return fd(t,r,o);case 22:return od(t,r,o)}throw Error(n(156,r.tag))};function zd(t,r){return Zr(t,r)}function Zg(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(t,r,o,u){return new Zg(t,r,o,u)}function cu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jg(t){if(typeof t=="function")return cu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ve)return 11;if(t===Ee)return 14}return 2}function mr(t,r){var o=t.alternate;return o===null?(o=en(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Jo(t,r,o,u,d,p){var x=2;if(u=t,typeof t=="function")cu(t)&&(x=1);else if(typeof t=="string")x=5;else e:switch(t){case G:return Br(o.children,d,p,r);case ae:x=8,d|=8;break;case te:return t=en(12,o,r,d|2),t.elementType=te,t.lanes=p,t;case oe:return t=en(13,o,r,d),t.elementType=oe,t.lanes=p,t;case ke:return t=en(19,o,r,d),t.elementType=ke,t.lanes=p,t;case q:return el(o,d,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:x=10;break e;case ne:x=9;break e;case ve:x=11;break e;case Ee:x=14;break e;case $:x=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=en(x,o,r,d),r.elementType=t,r.type=u,r.lanes=p,r}function Br(t,r,o,u){return t=en(7,t,u,r),t.lanes=o,t}function el(t,r,o,u){return t=en(22,t,u,r),t.elementType=q,t.lanes=o,t.stateNode={isHidden:!1},t}function hu(t,r,o){return t=en(6,t,null,r),t.lanes=o,t}function du(t,r,o){return r=en(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function ey(t,r,o,u,d){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fe(0),this.expirationTimes=Fe(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fe(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function fu(t,r,o,u,d,p,x,S,P){return t=new ey(t,r,o,S,P),r===1?(r=1,p===!0&&(r|=8)):r=0,p=en(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(p),t}function ty(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Dd(t){if(!t)return or;t=t._reactInternals;e:{if(ln(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Et(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Et(o))return dh(t,o,r)}return r}function Od(t,r,o,u,d,p,x,S,P){return t=fu(o,u,!0,t,d,p,x,S,P),t.context=Dd(null),o=t.current,u=Ct(),d=fr(o),p=Gn(u,d),p.callback=r??null,ur(o,p,d),t.current.lanes=d,lt(t,d,u),Nt(t,u),t}function tl(t,r,o,u){var d=r.current,p=Ct(),x=fr(d);return o=Dd(o),r.context===null?r.context=o:r.pendingContext=o,r=Gn(p,x),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=ur(d,r,x),t!==null&&(pn(t,d,x,p),Io(t,d,x)),x}function nl(t){return t=t.current,t.child?(t.child.tag===5,t.child.stateNode):null}function Gd(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function pu(t,r){Gd(t,r),(t=t.alternate)&&Gd(t,r)}function ny(){return null}var Ud=typeof reportError=="function"?reportError:function(t){console.error(t)};function mu(t){this._internalRoot=t}rl.prototype.render=mu.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));tl(t,r,null,null)},rl.prototype.unmount=mu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Nr(function(){tl(null,t,null,null)}),r[Fn]=null}};function rl(t){this._internalRoot=t}rl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Cc();t={blockedOn:null,target:t,priority:r};for(var o=0;o<tr.length&&r!==0&&r<tr[o].priority;o++);tr.splice(o,0,t),o===0&&bc(t)}};function gu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function il(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jd(){}function ry(t,r,o,u,d){if(d){if(typeof u=="function"){var p=u;u=function(){var B=nl(x);p.call(B)}}var x=Od(r,u,t,0,null,!1,!1,"",jd);return t._reactRootContainer=x,t[Fn]=x.current,os(t.nodeType===8?t.parentNode:t),Nr(),x}for(;d=t.lastChild;)t.removeChild(d);if(typeof u=="function"){var S=u;u=function(){var B=nl(P);S.call(B)}}var P=fu(t,0,!1,null,null,!1,!1,"",jd);return t._reactRootContainer=P,t[Fn]=P.current,os(t.nodeType===8?t.parentNode:t),Nr(function(){tl(r,P,o,u)}),P}function sl(t,r,o,u,d){var p=o._reactRootContainer;if(p){var x=p;if(typeof d=="function"){var S=d;d=function(){var P=nl(x);S.call(P)}}tl(r,x,t,d)}else x=ry(o,r,t,d,u);return nl(x)}so=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=F(r.pendingLanes);o!==0&&(an(r,o|1),Nt(r,We()),(Ae&6)===0&&(vi=We()+500,lr()))}break;case 13:Nr(function(){var u=On(t,1);if(u!==null){var d=Ct();pn(u,t,1,d)}}),pu(t,1)}},Cr=function(t){if(t.tag===13){var r=On(t,134217728);if(r!==null){var o=Ct();pn(r,t,134217728,o)}pu(t,134217728)}},kc=function(t){if(t.tag===13){var r=fr(t),o=On(t,r);if(o!==null){var u=Ct();pn(o,t,r,u)}pu(t,r)}},Cc=function(){return Ce},Pc=function(t,r){var o=Ce;try{return Ce=t,r()}finally{Ce=o}},vr=function(t,r,o){switch(r){case"input":if(sn(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var d=So(u);if(!d)throw Error(n(90));ft(u),sn(u,d)}}}break;case"textarea":zt(t,o);break;case"select":r=o.value,r!=null&&En(t,!!o.multiple,r,!1)}},zi=lu,Qs=Nr;var iy={usingClientEntryPoint:!1,Events:[us,li,So,Fi,Bi,lu]},ks={findFiberByHostInstance:Pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sy={bundleType:ks.bundleType,version:ks.version,rendererPackageName:ks.rendererPackageName,rendererConfig:ks.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Js(t),t===null?null:t.stateNode},findFiberByHostInstance:ks.findFiberByHostInstance||ny,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{Jr=ol.inject(sy),Yt=ol}catch{}}return Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iy,Lt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gu(r))throw Error(n(200));return ty(t,r,null,o)},Lt.createRoot=function(t,r){if(!gu(t))throw Error(n(299));var o=!1,u="",d=Ud;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=fu(t,1,!1,null,null,o,!1,u,d),t[Fn]=r.current,os(t.nodeType===8?t.parentNode:t),new mu(r)},Lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Js(r),t=t===null?null:t.stateNode,t},Lt.flushSync=function(t){return Nr(t)},Lt.hydrate=function(t,r,o){if(!il(r))throw Error(n(200));return sl(null,t,r,!0,o)},Lt.hydrateRoot=function(t,r,o){if(!gu(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,d=!1,p="",x=Ud;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),r=Od(r,null,t,1,o??null,d,!1,p,x),t[Fn]=r.current,os(t),u)for(t=0;t<u.length;t++)o=u[t],d=o._getVersion,d=d(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,d]:r.mutableSourceEagerHydrationData.push(o,d);return new rl(r)},Lt.render=function(t,r,o){if(!il(r))throw Error(n(200));return sl(null,t,r,!1,o)},Lt.unmountComponentAtNode=function(t){if(!il(t))throw Error(n(40));return t._reactRootContainer?(Nr(function(){sl(null,null,t,!1,function(){t._reactRootContainer=null,t[Fn]=null})}),!0):!1},Lt.unstable_batchedUpdates=lu,Lt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!il(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return sl(t,r,o,!1,u)},Lt.version="18.3.1-next-f1338f8080-20240426",Lt}var Qd;function py(){if(Qd)return _u.exports;Qd=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),_u.exports=fy(),_u.exports}var Kd;function my(){if(Kd)return ll;Kd=1;var i=py();return ll.createRoot=i.createRoot,ll.hydrateRoot=i.hydrateRoot,ll}var gy=my();const yy=El(gy),xy="modulepreload",_y=function(i){return"/chickenMobile2/"+i},Zd={},Pl=function(e,n,s){let l=Promise.resolve();if(n&&n.length>0){let f=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");l=f(n.map(m=>{if(m=_y(m),m in Zd)return;Zd[m]=!0;const g=m.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":xy,g||(v.as="script"),v.crossOrigin="",v.href=m,h&&v.setAttribute("nonce",h),document.head.appendChild(v),g)return new Promise((_,k)=>{v.addEventListener("load",_),v.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return l.then(c=>{for(const h of c||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})};var Le=(i=>(i.Application="application",i.WebGLPipes="webgl-pipes",i.WebGLPipesAdaptor="webgl-pipes-adaptor",i.WebGLSystem="webgl-system",i.WebGPUPipes="webgpu-pipes",i.WebGPUPipesAdaptor="webgpu-pipes-adaptor",i.WebGPUSystem="webgpu-system",i.CanvasSystem="canvas-system",i.CanvasPipesAdaptor="canvas-pipes-adaptor",i.CanvasPipes="canvas-pipes",i.Asset="asset",i.LoadParser="load-parser",i.ResolveParser="resolve-parser",i.CacheParser="cache-parser",i.DetectionParser="detection-parser",i.MaskEffect="mask-effect",i.BlendMode="blend-mode",i.TextureSource="texture-source",i.Environment="environment",i.ShapeBuilder="shape-builder",i.Batcher="batcher",i))(Le||{});const Hu=i=>{if(typeof i=="function"||typeof i=="object"&&i.extension){if(!i.extension)throw new Error("Extension class must have an extension object");i={...typeof i.extension!="object"?{type:i.extension}:i.extension,ref:i}}if(typeof i=="object")i={...i};else throw new Error("Invalid extension type");return typeof i.type=="string"&&(i.type=[i.type]),i},al=(i,e)=>Hu(i).priority??e,rn={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...i){return i.map(Hu).forEach(e=>{e.type.forEach(n=>this._removeHandlers[n]?.(e))}),this},add(...i){return i.map(Hu).forEach(e=>{e.type.forEach(n=>{const s=this._addHandlers,l=this._queue;s[n]?s[n]?.(e):(l[n]=l[n]||[],l[n]?.push(e))})}),this},handle(i,e,n){const s=this._addHandlers,l=this._removeHandlers;if(s[i]||l[i])throw new Error(`Extension type ${i} already has a handler`);s[i]=e,l[i]=n;const a=this._queue;return a[i]&&(a[i]?.forEach(c=>e(c)),delete a[i]),this},handleByMap(i,e){return this.handle(i,n=>{n.name&&(e[n.name]=n.ref)},n=>{n.name&&delete e[n.name]})},handleByNamedList(i,e,n=-1){return this.handle(i,s=>{e.findIndex(a=>a.name===s.name)>=0||(e.push({name:s.name,value:s.ref}),e.sort((a,c)=>al(c.value,n)-al(a.value,n)))},s=>{const l=e.findIndex(a=>a.name===s.name);l!==-1&&e.splice(l,1)})},handleByList(i,e,n=-1){return this.handle(i,s=>{e.includes(s.ref)||(e.push(s.ref),e.sort((l,a)=>al(a,n)-al(l,n)))},s=>{const l=e.indexOf(s.ref);l!==-1&&e.splice(l,1)})},mixin(i,...e){for(const n of e)Object.defineProperties(i.prototype,Object.getOwnPropertyDescriptors(n))}},vy={extension:{type:Le.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Pl(()=>import("./browserAll-0Ebl-WZV.js"),__vite__mapDeps([0,1,2]))}},wy={extension:{type:Le.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Pl(()=>import("./webworkerAll-BFTNIRW6.js"),__vite__mapDeps([1,2]))}};class yt{constructor(e,n,s){this._x=n||0,this._y=s||0,this._observer=e}clone(e){return new yt(e??this._observer,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var Su={exports:{}},Jd;function Sy(){return Jd||(Jd=1,(function(i){var e=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function l(f,m,g){this.fn=f,this.context=m,this.once=g||!1}function a(f,m,g,y,v){if(typeof g!="function")throw new TypeError("The listener must be a function");var _=new l(g,y||f,v),k=n?n+m:m;return f._events[k]?f._events[k].fn?f._events[k]=[f._events[k],_]:f._events[k].push(_):(f._events[k]=_,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new s:delete f._events[m]}function h(){this._events=new s,this._eventsCount=0}h.prototype.eventNames=function(){var m=[],g,y;if(this._eventsCount===0)return m;for(y in g=this._events)e.call(g,y)&&m.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},h.prototype.listeners=function(m){var g=n?n+m:m,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var v=0,_=y.length,k=new Array(_);v<_;v++)k[v]=y[v].fn;return k},h.prototype.listenerCount=function(m){var g=n?n+m:m,y=this._events[g];return y?y.fn?1:y.length:0},h.prototype.emit=function(m,g,y,v,_,k){var C=n?n+m:m;if(!this._events[C])return!1;var w=this._events[C],T=arguments.length,A,R;if(w.fn){switch(w.once&&this.removeListener(m,w.fn,void 0,!0),T){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,g),!0;case 3:return w.fn.call(w.context,g,y),!0;case 4:return w.fn.call(w.context,g,y,v),!0;case 5:return w.fn.call(w.context,g,y,v,_),!0;case 6:return w.fn.call(w.context,g,y,v,_,k),!0}for(R=1,A=new Array(T-1);R<T;R++)A[R-1]=arguments[R];w.fn.apply(w.context,A)}else{var N=w.length,H;for(R=0;R<N;R++)switch(w[R].once&&this.removeListener(m,w[R].fn,void 0,!0),T){case 1:w[R].fn.call(w[R].context);break;case 2:w[R].fn.call(w[R].context,g);break;case 3:w[R].fn.call(w[R].context,g,y);break;case 4:w[R].fn.call(w[R].context,g,y,v);break;default:if(!A)for(H=1,A=new Array(T-1);H<T;H++)A[H-1]=arguments[H];w[R].fn.apply(w[R].context,A)}}return!0},h.prototype.on=function(m,g,y){return a(this,m,g,y,!1)},h.prototype.once=function(m,g,y){return a(this,m,g,y,!0)},h.prototype.removeListener=function(m,g,y,v){var _=n?n+m:m;if(!this._events[_])return this;if(!g)return c(this,_),this;var k=this._events[_];if(k.fn)k.fn===g&&(!v||k.once)&&(!y||k.context===y)&&c(this,_);else{for(var C=0,w=[],T=k.length;C<T;C++)(k[C].fn!==g||v&&!k[C].once||y&&k[C].context!==y)&&w.push(k[C]);w.length?this._events[_]=w.length===1?w[0]:w:c(this,_)}return this},h.prototype.removeAllListeners=function(m){var g;return m?(g=n?n+m:m,this._events[g]&&c(this,g)):(this._events=new s,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=n,h.EventEmitter=h,i.exports=h})(Su)),Su.exports}var ky=Sy();const Tn=El(ky),Cy=Math.PI*2,Py=180/Math.PI,My=Math.PI/180;class St{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new St(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return ku.x=0,ku.y=0,ku}}const ku=new St;class be{constructor(e=1,n=0,s=0,l=1,a=0,c=0){this.array=null,this.a=e,this.b=n,this.c=s,this.d=l,this.tx=a,this.ty=c}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,s,l,a,c){return this.a=e,this.b=n,this.c=s,this.d=l,this.tx=a,this.ty=c,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const s=n||this.array;return e?(s[0]=this.a,s[1]=this.b,s[2]=0,s[3]=this.c,s[4]=this.d,s[5]=0,s[6]=this.tx,s[7]=this.ty,s[8]=1):(s[0]=this.a,s[1]=this.c,s[2]=this.tx,s[3]=this.b,s[4]=this.d,s[5]=this.ty,s[6]=0,s[7]=0,s[8]=1),s}apply(e,n){n=n||new St;const s=e.x,l=e.y;return n.x=this.a*s+this.c*l+this.tx,n.y=this.b*s+this.d*l+this.ty,n}applyInverse(e,n){n=n||new St;const s=this.a,l=this.b,a=this.c,c=this.d,h=this.tx,f=this.ty,m=1/(s*c+a*-l),g=e.x,y=e.y;return n.x=c*m*g+-a*m*y+(f*a-h*c)*m,n.y=s*m*y+-l*m*g+(-f*s+h*l)*m,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),s=Math.sin(e),l=this.a,a=this.c,c=this.tx;return this.a=l*n-this.b*s,this.b=l*s+this.b*n,this.c=a*n-this.d*s,this.d=a*s+this.d*n,this.tx=c*n-this.ty*s,this.ty=c*s+this.ty*n,this}append(e){const n=this.a,s=this.b,l=this.c,a=this.d;return this.a=e.a*n+e.b*l,this.b=e.a*s+e.b*a,this.c=e.c*n+e.d*l,this.d=e.c*s+e.d*a,this.tx=e.tx*n+e.ty*l+this.tx,this.ty=e.tx*s+e.ty*a+this.ty,this}appendFrom(e,n){const s=e.a,l=e.b,a=e.c,c=e.d,h=e.tx,f=e.ty,m=n.a,g=n.b,y=n.c,v=n.d;return this.a=s*m+l*y,this.b=s*g+l*v,this.c=a*m+c*y,this.d=a*g+c*v,this.tx=h*m+f*y+n.tx,this.ty=h*g+f*v+n.ty,this}setTransform(e,n,s,l,a,c,h,f,m){return this.a=Math.cos(h+m)*a,this.b=Math.sin(h+m)*a,this.c=-Math.sin(h-f)*c,this.d=Math.cos(h-f)*c,this.tx=e-(s*this.a+l*this.c),this.ty=n-(s*this.b+l*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const s=this.a,l=this.c;this.a=s*e.a+this.b*e.c,this.b=s*e.b+this.b*e.d,this.c=l*e.a+this.d*e.c,this.d=l*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,s=this.b,l=this.c,a=this.d,c=e.pivot,h=-Math.atan2(-l,a),f=Math.atan2(s,n),m=Math.abs(h+f);return m<1e-5||Math.abs(Cy-m)<1e-5?(e.rotation=f,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=h,e.skew.y=f),e.scale.x=Math.sqrt(n*n+s*s),e.scale.y=Math.sqrt(l*l+a*a),e.position.x=this.tx+(c.x*n+c.y*l),e.position.y=this.ty+(c.x*s+c.y*a),e}invert(){const e=this.a,n=this.b,s=this.c,l=this.d,a=this.tx,c=e*l-n*s;return this.a=l/c,this.b=-n/c,this.c=-s/c,this.d=e/c,this.tx=(s*this.ty-l*a)/c,this.ty=-(e*this.ty-n*a)/c,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new be;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return Ty.identity()}static get shared(){return by.identity()}}const by=new be,Ty=new be,Or=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Gr=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ur=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],jr=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],$u=[],dp=[],ul=Math.sign;function Ay(){for(let i=0;i<16;i++){const e=[];$u.push(e);for(let n=0;n<16;n++){const s=ul(Or[i]*Or[n]+Ur[i]*Gr[n]),l=ul(Gr[i]*Or[n]+jr[i]*Gr[n]),a=ul(Or[i]*Ur[n]+Ur[i]*jr[n]),c=ul(Gr[i]*Ur[n]+jr[i]*jr[n]);for(let h=0;h<16;h++)if(Or[h]===s&&Gr[h]===l&&Ur[h]===a&&jr[h]===c){e.push(h);break}}}for(let i=0;i<16;i++){const e=new be;e.set(Or[i],Gr[i],Ur[i],jr[i],0,0),dp.push(e)}}Ay();const Oe={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:i=>Or[i],uY:i=>Gr[i],vX:i=>Ur[i],vY:i=>jr[i],inv:i=>i&8?i&15:-i&7,add:(i,e)=>$u[i][e],sub:(i,e)=>$u[i][Oe.inv(e)],rotate180:i=>i^4,isVertical:i=>(i&3)===2,byDirection:(i,e)=>Math.abs(i)*2<=Math.abs(e)?e>=0?Oe.S:Oe.N:Math.abs(e)*2<=Math.abs(i)?i>0?Oe.E:Oe.W:e>0?i>0?Oe.SE:Oe.SW:i>0?Oe.NE:Oe.NW,matrixAppendRotationInv:(i,e,n=0,s=0)=>{const l=dp[Oe.inv(e)];l.tx=n,l.ty=s,i.append(l)},transformRectCoords:(i,e,n,s)=>{const{x:l,y:a,width:c,height:h}=i,{x:f,y:m,width:g,height:y}=e;return n===Oe.E?(s.set(l+f,a+m,c,h),s):n===Oe.S?s.set(g-a-h+f,l+m,h,c):n===Oe.W?s.set(g-l-c+f,y-a-h+m,c,h):n===Oe.N?s.set(a+f,y-l-c+m,h,c):s.set(l+f,a+m,c,h)}},cl=[new St,new St,new St,new St];class et{constructor(e=0,n=0,s=0,l=0){this.type="rectangle",this.x=Number(e),this.y=Number(n),this.width=Number(s),this.height=Number(l)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new et(0,0,0,0)}clone(){return new et(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}strokeContains(e,n,s,l=.5){const{width:a,height:c}=this;if(a<=0||c<=0)return!1;const h=this.x,f=this.y,m=s*(1-l),g=s-m,y=h-m,v=h+a+m,_=f-m,k=f+c+m,C=h+g,w=h+a-g,T=f+g,A=f+c-g;return e>=y&&e<=v&&n>=_&&n<=k&&!(e>C&&e<w&&n>T&&n<A)}intersects(e,n){if(!n){const ae=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=ae)return!1;const Z=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>Z}const s=this.left,l=this.right,a=this.top,c=this.bottom;if(l<=s||c<=a)return!1;const h=cl[0].set(e.left,e.top),f=cl[1].set(e.left,e.bottom),m=cl[2].set(e.right,e.top),g=cl[3].set(e.right,e.bottom);if(m.x<=h.x||f.y<=h.y)return!1;const y=Math.sign(n.a*n.d-n.b*n.c);if(y===0||(n.apply(h,h),n.apply(f,f),n.apply(m,m),n.apply(g,g),Math.max(h.x,f.x,m.x,g.x)<=s||Math.min(h.x,f.x,m.x,g.x)>=l||Math.max(h.y,f.y,m.y,g.y)<=a||Math.min(h.y,f.y,m.y,g.y)>=c))return!1;const v=y*(f.y-h.y),_=y*(h.x-f.x),k=v*s+_*a,C=v*l+_*a,w=v*s+_*c,T=v*l+_*c;if(Math.max(k,C,w,T)<=v*h.x+_*h.y||Math.min(k,C,w,T)>=v*g.x+_*g.y)return!1;const A=y*(h.y-m.y),R=y*(m.x-h.x),N=A*s+R*a,H=A*l+R*a,O=A*s+R*c,G=A*l+R*c;return!(Math.max(N,H,O,G)<=A*h.x+R*h.y||Math.min(N,H,O,G)>=A*g.x+R*g.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),s=Math.min(this.x+this.width,e.x+e.width),l=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(s-n,0),this.y=l,this.height=Math.max(a-l,0),this}ceil(e=1,n=.001){const s=Math.ceil((this.x+this.width-n)*e)/e,l=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=s-this.x,this.height=l-this.y,this}scale(e,n=e){return this.x*=e,this.y*=n,this.width*=e,this.height*=n,this}enlarge(e){const n=Math.min(this.x,e.x),s=Math.max(this.x+this.width,e.x+e.width),l=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=s-n,this.y=l,this.height=a-l,this}getBounds(e){return e||(e=new et),e.copyFrom(this),e}containsRect(e){if(this.width<=0||this.height<=0)return!1;const n=e.x,s=e.y,l=e.x+e.width,a=e.y+e.height;return n>=this.x&&n<this.x+this.width&&s>=this.y&&s<this.y+this.height&&l>=this.x&&l<this.x+this.width&&a>=this.y&&a<this.y+this.height}set(e,n,s,l){return this.x=e,this.y=n,this.width=s,this.height=l,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Cu={default:-1};function tt(i="default"){return Cu[i]===void 0&&(Cu[i]=-1),++Cu[i]}const ef=new Set,Je="8.0.0",Ey="8.3.4",bi={quiet:!1,noColor:!1},Ie=(i,e,n=3)=>{if(bi.quiet||ef.has(e))return;let s=new Error().stack;const l=`${e}
Deprecated since v${i}`,a=typeof console.groupCollapsed=="function"&&!bi.noColor;typeof s>"u"?console.warn("PixiJS Deprecation Warning: ",l):(s=s.split(`
`).splice(n).join(`
`),a?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",l),console.warn(s),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",l),console.warn(s))),ef.add(e)};Object.defineProperties(Ie,{quiet:{get:()=>bi.quiet,set:i=>{bi.quiet=i},enumerable:!0,configurable:!1},noColor:{get:()=>bi.noColor,set:i=>{bi.noColor=i},enumerable:!0,configurable:!1}});const fp=()=>{};function Ti(i){return i+=i===0?1:0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1}function tf(i){return!(i&i-1)&&!!i}function pp(i){const e={};for(const n in i)i[n]!==void 0&&(e[n]=i[n]);return e}const nf=Object.create(null);function Ry(i){const e=nf[i];return e===void 0&&(nf[i]=tt("resource")),e}const mp=class gp extends Tn{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...gp.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){Ie(Je,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this._sharedResourceId=null,this.emit("change",this)}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=Ry(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};mp.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let Ml=mp;const yp=class xp extends Tn{constructor(e={}){super(),this.options=e,this._gpuData=Object.create(null),this._gcLastUsed=-1,this.uid=tt("textureSource"),this._resourceType="textureSource",this._resourceId=tt("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...xp.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new Ml(pp(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){this.style!==e&&(this._style?.off("change",this._onStyleChange,this),this._style=e,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(e){this._style.maxAnisotropy=e}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.unload(),this.emit("destroy",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=tt("resource"),this.emit("change",this),this.emit("unload",this);for(const e in this._gpuData)this._gpuData[e]?.destroy?.();this._gpuData=Object.create(null)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,n,s){s||(s=this._resolution),e||(e=this.width),n||(n=this.height);const l=Math.round(e*s),a=Math.round(n*s);return this.width=l/s,this.height=a/s,this._resolution=s,this.pixelWidth===l&&this.pixelHeight===a?!1:(this._refreshPOT(),this.pixelWidth=l,this.pixelHeight=a,this.emit("resize",this),this._resourceId=tt("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=tf(this.pixelWidth)&&tf(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};yp.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let xn=yp;class cc extends xn{constructor(e){const n=e.resource||new Float32Array(e.width*e.height*4);let s=e.format;s||(n instanceof Float32Array?s="rgba32float":n instanceof Int32Array||n instanceof Uint32Array?s="rgba32uint":n instanceof Int16Array||n instanceof Uint16Array?s="rgba16uint":(n instanceof Int8Array,s="bgra8unorm")),super({...e,resource:n,format:s}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}cc.extension=Le.TextureSource;const rf=new be;class Iy{constructor(e,n){this.mapCoord=new be,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof n>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=n,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){this.texture!==e&&(this._texture?.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,n){n===void 0&&(n=e);const s=this.mapCoord;for(let l=0;l<e.length;l+=2){const a=e[l],c=e[l+1];n[l]=a*s.a+c*s.c+s.tx,n[l+1]=a*s.b+c*s.d+s.ty}return n}update(){const e=this._texture;this._updateID++;const n=e.uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const s=e.orig,l=e.trim;l&&(rf.set(s.width/l.width,0,0,s.height/l.height,-l.x/l.width,-l.y/l.height),this.mapCoord.append(rf));const a=e.source,c=this.uClampFrame,h=this.clampMargin/a._resolution,f=this.clampOffset/a._resolution;return c[0]=(e.frame.x+h+f)/a.width,c[1]=(e.frame.y+h+f)/a.height,c[2]=(e.frame.x+e.frame.width-h+f)/a.width,c[3]=(e.frame.y+e.frame.height-h+f)/a.height,this.uClampOffset[0]=this.clampOffset/a.pixelWidth,this.uClampOffset[1]=this.clampOffset/a.pixelHeight,this.isSimple=e.frame.width===a.width&&e.frame.height===a.height&&e.rotate===0,!0}}class ze extends Tn{constructor({source:e,label:n,frame:s,orig:l,trim:a,defaultAnchor:c,defaultBorders:h,rotate:f,dynamic:m}={}){if(super(),this.uid=tt("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new et,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=n,this.source=e?.source??new xn,this.noFrame=!s,s)this.frame.copyFrom(s);else{const{width:g,height:y}=this._source;this.frame.width=g,this.frame.height=y}this.orig=l||this.frame,this.trim=a,this.rotate=f??0,this.defaultAnchor=c,this.defaultBorders=h,this.destroyed=!1,this.dynamic=m||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new Iy(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:n}=this,{width:s,height:l}=this._source,a=n.x/s,c=n.y/l,h=n.width/s,f=n.height/l;let m=this.rotate;if(m){const g=h/2,y=f/2,v=a+g,_=c+y;m=Oe.add(m,Oe.NW),e.x0=v+g*Oe.uX(m),e.y0=_+y*Oe.uY(m),m=Oe.add(m,2),e.x1=v+g*Oe.uX(m),e.y1=_+y*Oe.uY(m),m=Oe.add(m,2),e.x2=v+g*Oe.uX(m),e.y2=_+y*Oe.uY(m),m=Oe.add(m,2),e.x3=v+g*Oe.uX(m),e.y3=_+y*Oe.uY(m)}else e.x0=a,e.y0=c,e.x1=a+h,e.y1=c,e.x2=a+h,e.y2=c+f,e.x3=a,e.y3=c+f}destroy(e=!1){this._source&&(this._source.off("resize",this.update,this),e&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return Ie(Je,"Texture.baseTexture is now Texture.source"),this._source}}ze.EMPTY=new ze({label:"EMPTY",source:new xn({label:"EMPTY"})});ze.EMPTY.destroy=fp;ze.WHITE=new ze({source:new cc({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});ze.WHITE.destroy=fp;function Ny(i,e,n){const{width:s,height:l}=n.orig,a=n.trim;if(a){const c=a.width,h=a.height;i.minX=a.x-e._x*s,i.maxX=i.minX+c,i.minY=a.y-e._y*l,i.maxY=i.minY+h}else i.minX=-e._x*s,i.maxX=i.minX+s,i.minY=-e._y*l,i.maxY=i.minY+l}const sf=new be;class yn{constructor(e=1/0,n=1/0,s=-1/0,l=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=sf,this.minX=e,this.minY=n,this.maxX=s,this.maxY=l}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new et);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=sf,this}set(e,n,s,l){this.minX=e,this.minY=n,this.maxX=s,this.maxY=l}addFrame(e,n,s,l,a){a||(a=this.matrix);const c=a.a,h=a.b,f=a.c,m=a.d,g=a.tx,y=a.ty;let v=this.minX,_=this.minY,k=this.maxX,C=this.maxY,w=c*e+f*n+g,T=h*e+m*n+y;w<v&&(v=w),T<_&&(_=T),w>k&&(k=w),T>C&&(C=T),w=c*s+f*n+g,T=h*s+m*n+y,w<v&&(v=w),T<_&&(_=T),w>k&&(k=w),T>C&&(C=T),w=c*e+f*l+g,T=h*e+m*l+y,w<v&&(v=w),T<_&&(_=T),w>k&&(k=w),T>C&&(C=T),w=c*s+f*l+g,T=h*s+m*l+y,w<v&&(v=w),T<_&&(_=T),w>k&&(k=w),T>C&&(C=T),this.minX=v,this.minY=_,this.maxX=k,this.maxY=C}addRect(e,n){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,n)}addBounds(e,n){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,n)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const n=this.minX,s=this.minY,l=this.maxX,a=this.maxY,{a:c,b:h,c:f,d:m,tx:g,ty:y}=e;let v=c*n+f*s+g,_=h*n+m*s+y;this.minX=v,this.minY=_,this.maxX=v,this.maxY=_,v=c*l+f*s+g,_=h*l+m*s+y,this.minX=v<this.minX?v:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=_>this.maxY?_:this.maxY,v=c*n+f*a+g,_=h*n+m*a+y,this.minX=v<this.minX?v:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=_>this.maxY?_:this.maxY,v=c*l+f*a+g,_=h*l+m*a+y,this.minX=v<this.minX?v:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=_>this.maxY?_:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,n,s,l){return this.minX<e&&(this.minX=e),this.maxX>n&&(this.maxX=n),this.minY<s&&(this.minY=s),this.maxY>l&&(this.maxY=l),this}pad(e,n=e){return this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new yn(this.minX,this.minY,this.maxX,this.maxY)}scale(e,n=e){return this.minX*=e,this.minY*=n,this.maxX*=e,this.maxY*=n,this}get x(){return this.minX}set x(e){const n=this.maxX-this.minX;this.minX=e,this.maxX=e+n}get y(){return this.minY}set y(e){const n=this.maxY-this.minY;this.minY=e,this.maxY=e+n}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,n,s,l){let a=this.minX,c=this.minY,h=this.maxX,f=this.maxY;l||(l=this.matrix);const m=l.a,g=l.b,y=l.c,v=l.d,_=l.tx,k=l.ty;for(let C=n;C<s;C+=2){const w=e[C],T=e[C+1],A=m*w+y*T+_,R=g*w+v*T+k;a=A<a?A:a,c=R<c?R:c,h=A>h?A:h,f=R>f?R:f}this.minX=a,this.minY=c,this.maxX=h,this.maxY=f}containsPoint(e,n){return this.minX<=e&&this.minY<=n&&this.maxX>=e&&this.maxY>=n}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}var Ly={grad:.9,turn:360,rad:360/(2*Math.PI)},Wn=function(i){return typeof i=="string"?i.length>0:typeof i=="number"},dt=function(i,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*i)/n+0},tn=function(i,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),i>n?n:i>e?i:e},_p=function(i){return(i=isFinite(i)?i%360:0)>0?i:i+360},of=function(i){return{r:tn(i.r,0,255),g:tn(i.g,0,255),b:tn(i.b,0,255),a:tn(i.a)}},Pu=function(i){return{r:dt(i.r),g:dt(i.g),b:dt(i.b),a:dt(i.a,3)}},Fy=/^#([0-9a-f]{3,8})$/i,hl=function(i){var e=i.toString(16);return e.length<2?"0"+e:e},vp=function(i){var e=i.r,n=i.g,s=i.b,l=i.a,a=Math.max(e,n,s),c=a-Math.min(e,n,s),h=c?a===e?(n-s)/c:a===n?2+(s-e)/c:4+(e-n)/c:0;return{h:60*(h<0?h+6:h),s:a?c/a*100:0,v:a/255*100,a:l}},wp=function(i){var e=i.h,n=i.s,s=i.v,l=i.a;e=e/360*6,n/=100,s/=100;var a=Math.floor(e),c=s*(1-n),h=s*(1-(e-a)*n),f=s*(1-(1-e+a)*n),m=a%6;return{r:255*[s,h,c,c,f,s][m],g:255*[f,s,s,h,c,c][m],b:255*[c,c,f,s,s,h][m],a:l}},lf=function(i){return{h:_p(i.h),s:tn(i.s,0,100),l:tn(i.l,0,100),a:tn(i.a)}},af=function(i){return{h:dt(i.h),s:dt(i.s),l:dt(i.l),a:dt(i.a,3)}},uf=function(i){return wp((n=(e=i).s,{h:e.h,s:(n*=((s=e.l)<50?s:100-s)/100)>0?2*n/(s+n)*100:0,v:s+n,a:e.a}));var e,n,s},Ds=function(i){return{h:(e=vp(i)).h,s:(l=(200-(n=e.s))*(s=e.v)/100)>0&&l<200?n*s/100/(l<=100?l:200-l)*100:0,l:l/2,a:e.a};var e,n,s,l},By=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,zy=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Dy=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Oy=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Yu={string:[[function(i){var e=Fy.exec(i);return e?(i=e[1]).length<=4?{r:parseInt(i[0]+i[0],16),g:parseInt(i[1]+i[1],16),b:parseInt(i[2]+i[2],16),a:i.length===4?dt(parseInt(i[3]+i[3],16)/255,2):1}:i.length===6||i.length===8?{r:parseInt(i.substr(0,2),16),g:parseInt(i.substr(2,2),16),b:parseInt(i.substr(4,2),16),a:i.length===8?dt(parseInt(i.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(i){var e=Dy.exec(i)||Oy.exec(i);return e?e[2]!==e[4]||e[4]!==e[6]?null:of({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(i){var e=By.exec(i)||zy.exec(i);if(!e)return null;var n,s,l=lf({h:(n=e[1],s=e[2],s===void 0&&(s="deg"),Number(n)*(Ly[s]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return uf(l)},"hsl"]],object:[[function(i){var e=i.r,n=i.g,s=i.b,l=i.a,a=l===void 0?1:l;return Wn(e)&&Wn(n)&&Wn(s)?of({r:Number(e),g:Number(n),b:Number(s),a:Number(a)}):null},"rgb"],[function(i){var e=i.h,n=i.s,s=i.l,l=i.a,a=l===void 0?1:l;if(!Wn(e)||!Wn(n)||!Wn(s))return null;var c=lf({h:Number(e),s:Number(n),l:Number(s),a:Number(a)});return uf(c)},"hsl"],[function(i){var e=i.h,n=i.s,s=i.v,l=i.a,a=l===void 0?1:l;if(!Wn(e)||!Wn(n)||!Wn(s))return null;var c=(function(h){return{h:_p(h.h),s:tn(h.s,0,100),v:tn(h.v,0,100),a:tn(h.a)}})({h:Number(e),s:Number(n),v:Number(s),a:Number(a)});return wp(c)},"hsv"]]},cf=function(i,e){for(var n=0;n<e.length;n++){var s=e[n][0](i);if(s)return[s,e[n][1]]}return[null,void 0]},Gy=function(i){return typeof i=="string"?cf(i.trim(),Yu.string):typeof i=="object"&&i!==null?cf(i,Yu.object):[null,void 0]},Mu=function(i,e){var n=Ds(i);return{h:n.h,s:tn(n.s+100*e,0,100),l:n.l,a:n.a}},bu=function(i){return(299*i.r+587*i.g+114*i.b)/1e3/255},hf=function(i,e){var n=Ds(i);return{h:n.h,s:n.s,l:tn(n.l+100*e,0,100),a:n.a}},Xu=(function(){function i(e){this.parsed=Gy(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return i.prototype.isValid=function(){return this.parsed!==null},i.prototype.brightness=function(){return dt(bu(this.rgba),2)},i.prototype.isDark=function(){return bu(this.rgba)<.5},i.prototype.isLight=function(){return bu(this.rgba)>=.5},i.prototype.toHex=function(){return e=Pu(this.rgba),n=e.r,s=e.g,l=e.b,c=(a=e.a)<1?hl(dt(255*a)):"","#"+hl(n)+hl(s)+hl(l)+c;var e,n,s,l,a,c},i.prototype.toRgb=function(){return Pu(this.rgba)},i.prototype.toRgbString=function(){return e=Pu(this.rgba),n=e.r,s=e.g,l=e.b,(a=e.a)<1?"rgba("+n+", "+s+", "+l+", "+a+")":"rgb("+n+", "+s+", "+l+")";var e,n,s,l,a},i.prototype.toHsl=function(){return af(Ds(this.rgba))},i.prototype.toHslString=function(){return e=af(Ds(this.rgba)),n=e.h,s=e.s,l=e.l,(a=e.a)<1?"hsla("+n+", "+s+"%, "+l+"%, "+a+")":"hsl("+n+", "+s+"%, "+l+"%)";var e,n,s,l,a},i.prototype.toHsv=function(){return e=vp(this.rgba),{h:dt(e.h),s:dt(e.s),v:dt(e.v),a:dt(e.a,3)};var e},i.prototype.invert=function(){return Mn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},i.prototype.saturate=function(e){return e===void 0&&(e=.1),Mn(Mu(this.rgba,e))},i.prototype.desaturate=function(e){return e===void 0&&(e=.1),Mn(Mu(this.rgba,-e))},i.prototype.grayscale=function(){return Mn(Mu(this.rgba,-1))},i.prototype.lighten=function(e){return e===void 0&&(e=.1),Mn(hf(this.rgba,e))},i.prototype.darken=function(e){return e===void 0&&(e=.1),Mn(hf(this.rgba,-e))},i.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},i.prototype.alpha=function(e){return typeof e=="number"?Mn({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):dt(this.rgba.a,3);var n},i.prototype.hue=function(e){var n=Ds(this.rgba);return typeof e=="number"?Mn({h:e,s:n.s,l:n.l,a:n.a}):dt(n.h)},i.prototype.isEqual=function(e){return this.toHex()===Mn(e).toHex()},i})(),Mn=function(i){return i instanceof Xu?i:new Xu(i)},df=[],Uy=function(i){i.forEach(function(e){df.indexOf(e)<0&&(e(Xu,Yu),df.push(e))})};function jy(i,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},s={};for(var l in n)s[n[l]]=l;var a={};i.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var h,f,m=s[this.toHex()];if(m)return m;if(c?.closest){var g=this.toRgb(),y=1/0,v="black";if(!a.length)for(var _ in n)a[_]=new i(n[_]).toRgb();for(var k in n){var C=(h=g,f=a[k],Math.pow(h.r-f.r,2)+Math.pow(h.g-f.g,2)+Math.pow(h.b-f.b,2));C<y&&(y=C,v=k)}return v}},e.string.push([function(c){var h=c.toLowerCase(),f=h==="transparent"?"#0000":n[h];return f?new i(f).toRgb():null},"name"])}Uy([jy]);const Ai=class Ls{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Ls)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,n){const s=typeof e;if(s!==typeof n)return!1;if(s==="number"||s==="string"||e instanceof Number)return e===n;if(Array.isArray(e)&&Array.isArray(n)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(n))return e.length!==n.length?!1:e.every((a,c)=>a===n[c]);if(e!==null&&n!==null){const a=Object.keys(e),c=Object.keys(n);return a.length!==c.length?!1:a.every(h=>e[h]===n[h])}return e===n}toRgba(){const[e,n,s,l]=this._components;return{r:e,g:n,b:s,a:l}}toRgb(){const[e,n,s]=this._components;return{r:e,g:n,b:s}}toRgbaString(){const[e,n,s]=this.toUint8RgbArray();return`rgba(${e},${n},${s},${this.alpha})`}toUint8RgbArray(e){const[n,s,l]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(n*255),e[1]=Math.round(s*255),e[2]=Math.round(l*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[n,s,l,a]=this._components;return e[0]=n,e[1]=s,e[2]=l,e[3]=a,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[n,s,l]=this._components;return e[0]=n,e[1]=s,e[2]=l,e}toNumber(){return this._int}toBgrNumber(){const[e,n,s]=this.toUint8RgbArray();return(s<<16)+(n<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[n,s,l,a]=Ls._temp.setValue(e)._components;return this._components[0]*=n,this._components[1]*=s,this._components[2]*=l,this._components[3]*=a,this._refreshInt(),this._value=null,this}premultiply(e,n=!0){return n&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,n=!0){if(e===1)return(255<<24)+this._int;if(e===0)return n?0:this._int;let s=this._int>>16&255,l=this._int>>8&255,a=this._int&255;return n&&(s=s*e+.5|0,l=l*e+.5|0,a=a*e+.5|0),(e*255<<24)+(s<<16)+(l<<8)+a}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const n=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-n.length)+n}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let n,s,l,a;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const c=e;n=(c>>16&255)/255,s=(c>>8&255)/255,l=(c&255)/255,a=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[n,s,l,a=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[n,s,l,a=255]=e,n/=255,s/=255,l/=255,a/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const h=Ls.HEX_PATTERN.exec(e);h&&(e=`#${h[2]}`)}const c=Mn(e);c.isValid()&&({r:n,g:s,b:l,a}=c.rgba,n/=255,s/=255,l/=255)}if(n!==void 0)this._components[0]=n,this._components[1]=s,this._components[2]=l,this._components[3]=a,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,n,s]=this._components;this._int=(e*255<<16)+(n*255<<8)+(s*255|0)}_clamp(e,n=0,s=1){return typeof e=="number"?Math.min(Math.max(e,n),s):(e.forEach((l,a)=>{e[a]=Math.min(Math.max(l,n),s)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof Ls||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};Ai.shared=new Ai;Ai._temp=new Ai;Ai.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let ot=Ai;const Wy={cullArea:null,cullable:!1,cullableChildren:!0};let Tu=0;const ff=500;function Mt(...i){Tu!==ff&&(Tu++,Tu===ff?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...i))}const qs={_registeredResources:new Set,register(i){this._registeredResources.add(i)},unregister(i){this._registeredResources.delete(i)},release(){this._registeredResources.forEach(i=>i.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(i){return this._registeredResources.has(i)},reset(){this._registeredResources.clear()}};class Vy{constructor(e,n){this._pool=[],this._count=0,this._index=0,this._classType=e,n&&this.prepopulate(n)}prepopulate(e){for(let n=0;n<e;n++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){let n;return this._index>0?n=this._pool[--this._index]:(n=new this._classType,this._count++),n.init?.(e),n}return(e){e.reset?.(),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let e=0;e<this._index;e++)this._pool[e].destroy();this._pool.length=0,this._count=0,this._index=0}}class Hy{constructor(){this._poolsByClass=new Map}prepopulate(e,n){this.getPool(e).prepopulate(n)}get(e,n){return this.getPool(e).get(n)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new Vy(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(n=>{const s=e[n._classType.name]?n._classType.name+n._classType.ID:n._classType.name;e[s]={free:n.totalFree,used:n.totalUsed,size:n.totalSize}}),e}clear(){this._poolsByClass.forEach(e=>e.clear()),this._poolsByClass.clear()}}const nn=new Hy;qs.register(nn);const $y={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(i){typeof i=="boolean"&&i===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(i===!0?{}:i))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(i){Ie("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(i)}};function Yy(i,e,n){const s=i.length;let l;if(e>=s||n===0)return;n=e+n>s?s-e:n;const a=s-n;for(l=e;l<a;++l)i[l]=i[l+n];i.length=a}const Xy={allowChildren:!0,removeChildren(i=0,e){const n=e??this.children.length,s=n-i,l=[];if(s>0&&s<=n){for(let c=n-1;c>=i;c--){const h=this.children[c];h&&(l.push(h),h.parent=null)}Yy(this.children,i,n);const a=this.renderGroup||this.parentRenderGroup;a&&a.removeChildren(l);for(let c=0;c<l.length;++c){const h=l[c];h.parentRenderLayer?.detach(h),this.emit("childRemoved",h,this,c),l[c].emit("removed",this)}return l.length>0&&this._didViewChangeTick++,l}else if(s===0&&this.children.length===0)return l;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(i){const e=this.getChildAt(i);return this.removeChild(e)},getChildAt(i){if(i<0||i>=this.children.length)throw new Error(`getChildAt: Index (${i}) does not exist.`);return this.children[i]},setChildIndex(i,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(i),this.addChildAt(i,e)},getChildIndex(i){const e=this.children.indexOf(i);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(i,e){this.allowChildren||Ie(Je,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:n}=this;if(e<0||e>n.length)throw new Error(`${i}addChildAt: The index ${e} supplied is out of bounds ${n.length}`);if(i.parent){const l=i.parent.children.indexOf(i);if(i.parent===this&&l===e)return i;l!==-1&&i.parent.children.splice(l,1)}e===n.length?n.push(i):n.splice(e,0,i),i.parent=this,i.didChange=!0,i._updateFlags=15;const s=this.renderGroup||this.parentRenderGroup;return s&&s.addChild(i),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",i,this,e),i.emit("added",this),i},swapChildren(i,e){if(i===e)return;const n=this.getChildIndex(i),s=this.getChildIndex(e);this.children[n]=e,this.children[s]=i;const l=this.renderGroup||this.parentRenderGroup;l&&(l.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...i){return i.length===1?this.reparentChildAt(i[0],this.children.length):(i.forEach(e=>this.reparentChildAt(e,this.children.length)),i[0])},reparentChildAt(i,e){if(i.parent===this)return this.setChildIndex(i,e),i;const n=i.worldTransform.clone();i.removeFromParent(),this.addChildAt(i,e);const s=this.worldTransform.clone();return s.invert(),n.prepend(s),i.setFromMatrix(n),i},replaceChild(i,e){i.updateLocalTransform(),this.addChildAt(e,this.getChildIndex(i)),e.setFromMatrix(i.localTransform),e.updateLocalTransform(),this.removeChild(i)}},qy={collectRenderables(i,e,n){this.parentRenderLayer&&this.parentRenderLayer!==n||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(i,e,n):this.renderGroup?e.renderPipes.renderGroup.addRenderGroup(this.renderGroup,i):this.collectRenderablesWithEffects(i,e,n))},collectRenderablesSimple(i,e,n){const s=this.children,l=s.length;for(let a=0;a<l;a++)s[a].collectRenderables(i,e,n)},collectRenderablesWithEffects(i,e,n){const{renderPipes:s}=e;for(let l=0;l<this.effects.length;l++){const a=this.effects[l];s[a.pipe].push(a,this,i)}this.collectRenderablesSimple(i,e,n);for(let l=this.effects.length-1;l>=0;l--){const a=this.effects[l];s[a.pipe].pop(a,this,i)}}};class pf{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class Qy{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let n=0;n<this._tests.length;n++){const s=this._tests[n];if(s.test(e))return nn.get(s.maskClass,e)}return e}returnMaskEffect(e){nn.return(e)}}const qu=new Qy;rn.handleByList(Le.MaskEffect,qu._effectClasses);const Ky={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const i=this.renderGroup||this.parentRenderGroup;i&&(i.structureDidChange=!0)},addEffect(i){this.effects.indexOf(i)===-1&&(this.effects.push(i),this.effects.sort((n,s)=>n.priority-s.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(i){const e=this.effects.indexOf(i);e!==-1&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(i){const e=this._maskEffect;e?.mask!==i&&(e&&(this.removeEffect(e),qu.returnMaskEffect(e),this._maskEffect=null),i!=null&&(this._maskEffect=qu.getMaskEffect(i),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(i){this._maskOptions={...this._maskOptions,...i},i.mask&&(this.mask=i.mask),this._markStructureAsChanged()},set filters(i){!Array.isArray(i)&&i&&(i=[i]);const e=this._filterEffect||(this._filterEffect=new pf);i=i;const n=i?.length>0,s=e.filters?.length>0,l=n!==s;i=Array.isArray(i)?i.slice(0):i,e.filters=Object.freeze(i),l&&(n?this.addEffect(e):(this.removeEffect(e),e.filters=i??null))},get filters(){return this._filterEffect?.filters},set filterArea(i){this._filterEffect||(this._filterEffect=new pf),this._filterEffect.filterArea=i},get filterArea(){return this._filterEffect?.filterArea}},Zy={label:null,get name(){return Ie(Je,"Container.name property has been removed, use Container.label instead"),this.label},set name(i){Ie(Je,"Container.name property has been removed, use Container.label instead"),this.label=i},getChildByName(i,e=!1){return this.getChildByLabel(i,e)},getChildByLabel(i,e=!1){const n=this.children;for(let s=0;s<n.length;s++){const l=n[s];if(l.label===i||i instanceof RegExp&&i.test(l.label))return l}if(e)for(let s=0;s<n.length;s++){const a=n[s].getChildByLabel(i,!0);if(a)return a}return null},getChildrenByLabel(i,e=!1,n=[]){const s=this.children;for(let l=0;l<s.length;l++){const a=s[l];(a.label===i||i instanceof RegExp&&i.test(a.label))&&n.push(a)}if(e)for(let l=0;l<s.length;l++)s[l].getChildrenByLabel(i,!0,n);return n}},Pt=nn.getPool(be),Hn=nn.getPool(yn),Jy=new be,e0={getFastGlobalBounds(i,e){e||(e=new yn),e.clear(),this._getGlobalBoundsRecursive(!!i,e,this.parentRenderLayer),e.isValid||e.set(0,0,0,0);const n=this.renderGroup||this.parentRenderGroup;return e.applyMatrix(n.worldTransform),e},_getGlobalBoundsRecursive(i,e,n){let s=e;if(i&&this.parentRenderLayer&&this.parentRenderLayer!==n||this.localDisplayStatus!==7||!this.measurable)return;const l=!!this.effects.length;if((this.renderGroup||l)&&(s=Hn.get().clear()),this.boundsArea)e.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const c=this.bounds;s.addFrame(c.minX,c.minY,c.maxX,c.maxY,this.groupTransform)}const a=this.children;for(let c=0;c<a.length;c++)a[c]._getGlobalBoundsRecursive(i,s,n)}if(l){let a=!1;const c=this.renderGroup||this.parentRenderGroup;for(let h=0;h<this.effects.length;h++)this.effects[h].addBounds&&(a||(a=!0,s.applyMatrix(c.worldTransform)),this.effects[h].addBounds(s,!0));a&&s.applyMatrix(c.worldTransform.copyTo(Jy).invert()),e.addBounds(s),Hn.return(s)}else this.renderGroup&&(e.addBounds(s,this.relativeGroupTransform),Hn.return(s))}};function Sp(i,e,n){n.clear();let s,l;return i.parent?e?s=i.parent.worldTransform:(l=Pt.get().identity(),s=hc(i,l)):s=be.IDENTITY,kp(i,n,s,e),l&&Pt.return(l),n.isValid||n.set(0,0,0,0),n}function kp(i,e,n,s){if(!i.visible||!i.measurable)return;let l;s?l=i.worldTransform:(i.updateLocalTransform(),l=Pt.get(),l.appendFrom(i.localTransform,n));const a=e,c=!!i.effects.length;if(c&&(e=Hn.get().clear()),i.boundsArea)e.addRect(i.boundsArea,l);else{const h=i.bounds;h&&!h.isEmpty()&&(e.matrix=l,e.addBounds(h));for(let f=0;f<i.children.length;f++)kp(i.children[f],e,l,s)}if(c){for(let h=0;h<i.effects.length;h++)i.effects[h].addBounds?.(e);a.addBounds(e,be.IDENTITY),Hn.return(e)}s||Pt.return(l)}function hc(i,e){const n=i.parent;return n&&(hc(n,e),n.updateLocalTransform(),e.append(n.localTransform)),e}function Cp(i,e){if(i===16777215||!e)return e;if(e===16777215||!i)return i;const n=i>>16&255,s=i>>8&255,l=i&255,a=e>>16&255,c=e>>8&255,h=e&255,f=n*a/255|0,m=s*c/255|0,g=l*h/255|0;return(f<<16)+(m<<8)+g}const mf=16777215;function gf(i,e){return i===mf?e:e===mf?i:Cp(i,e)}function kl(i){return((i&255)<<16)+(i&65280)+(i>>16&255)}const t0={getGlobalAlpha(i){if(i)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,n=this.parent;for(;n;)e*=n.alpha,n=n.parent;return e},getGlobalTransform(i=new be,e){if(e)return i.copyFrom(this.worldTransform);this.updateLocalTransform();const n=hc(this,Pt.get().identity());return i.appendFrom(this.localTransform,n),Pt.return(n),i},getGlobalTint(i){if(i)return this.renderGroup?kl(this.renderGroup.worldColor):this.parentRenderGroup?kl(gf(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,n=this.parent;for(;n;)e=gf(e,n.localColor),n=n.parent;return kl(e)}};function Pp(i,e,n){return e.clear(),n||(n=be.IDENTITY),Mp(i,e,n,i,!0),e.isValid||e.set(0,0,0,0),e}function Mp(i,e,n,s,l){let a;if(l)a=Pt.get(),a=n.copyTo(a);else{if(!i.visible||!i.measurable)return;i.updateLocalTransform();const f=i.localTransform;a=Pt.get(),a.appendFrom(f,n)}const c=e,h=!!i.effects.length;if(h&&(e=Hn.get().clear()),i.boundsArea)e.addRect(i.boundsArea,a);else{i.renderPipeId&&(e.matrix=a,e.addBounds(i.bounds));const f=i.children;for(let m=0;m<f.length;m++)Mp(f[m],e,a,s,!1)}if(h){for(let f=0;f<i.effects.length;f++)i.effects[f].addLocalBounds?.(e,s);c.addBounds(e,be.IDENTITY),Hn.return(e)}Pt.return(a)}function bp(i,e){const n=i.children;for(let s=0;s<n.length;s++){const l=n[s],a=l.uid,c=(l._didViewChangeTick&65535)<<16|l._didContainerChangeTick&65535,h=e.index;(e.data[h]!==a||e.data[h+1]!==c)&&(e.data[e.index]=a,e.data[e.index+1]=c,e.didChange=!0),e.index=h+2,l.children.length&&bp(l,e)}return e.didChange}const n0=new be,r0={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(i,e){const n=Math.sign(this.scale.x)||1;e!==0?this.scale.x=i/e*n:this.scale.x=n},_setHeight(i,e){const n=Math.sign(this.scale.y)||1;e!==0?this.scale.y=i/e*n:this.scale.y=n},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new yn});const i=this._localBoundsCacheData;return i.index=1,i.didChange=!1,i.data[0]!==this._didViewChangeTick&&(i.didChange=!0,i.data[0]=this._didViewChangeTick),bp(this,i),i.didChange&&Pp(this,i.localBounds,n0),i.localBounds},getBounds(i,e){return Sp(this,i,e||new yn)}},i0={_onRender:null,set onRender(i){const e=this.renderGroup||this.parentRenderGroup;if(!i){this._onRender&&e?.removeOnRender(this),this._onRender=null;return}this._onRender||e?.addOnRender(this),this._onRender=i},get onRender(){return this._onRender}},s0={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(i){this._zIndex!==i&&(this._zIndex=i,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(o0))}};function o0(i,e){return i._zIndex-e._zIndex}const l0={getGlobalPosition(i=new St,e=!1){return this.parent?this.parent.toGlobal(this._position,i,e):(i.x=this._position.x,i.y=this._position.y),i},toGlobal(i,e,n=!1){const s=this.getGlobalTransform(Pt.get(),n);return e=s.apply(i,e),Pt.return(s),e},toLocal(i,e,n,s){e&&(i=e.toGlobal(i,n,s));const l=this.getGlobalTransform(Pt.get(),s);return n=l.applyInverse(i,n),Pt.return(l),n}};class Tp{constructor(){this.uid=tt("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let a0=0;class u0{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this.textureStyle=new Ml(this.textureOptions)}createTexture(e,n,s){const l=new xn({...this.textureOptions,width:e,height:n,resolution:1,antialias:s,autoGarbageCollect:!1});return new ze({source:l,label:`texturePool_${a0++}`})}getOptimalTexture(e,n,s=1,l){let a=Math.ceil(e*s-1e-6),c=Math.ceil(n*s-1e-6);a=Ti(a),c=Ti(c);const h=(a<<17)+(c<<1)+(l?1:0);this._texturePool[h]||(this._texturePool[h]=[]);let f=this._texturePool[h].pop();return f||(f=this.createTexture(a,c,l)),f.source._resolution=s,f.source.width=a/s,f.source.height=c/s,f.source.pixelWidth=a,f.source.pixelHeight=c,f.frame.x=0,f.frame.y=0,f.frame.width=e,f.frame.height=n,f.updateUvs(),this._poolKeyHash[f.uid]=h,f}getSameSizeTexture(e,n=!1){const s=e.source;return this.getOptimalTexture(e.width,e.height,s._resolution,n)}returnTexture(e,n=!1){const s=this._poolKeyHash[e.uid];n&&(e.source.style=this.textureStyle),this._texturePool[s].push(e)}clear(e){if(e=e!==!1,e)for(const n in this._texturePool){const s=this._texturePool[n];if(s)for(let l=0;l<s.length;l++)s[l].destroy(!0)}this._texturePool={}}}const Ap=new u0;qs.register(Ap);class c0{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new be,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new Tp,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const n=e.children;for(let s=0;s<n.length;s++){const l=n[s];l._updateFlags=15,this.addChild(l)}}enableCacheAsTexture(e={}){this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(Ap.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const e=this._parentCacheAsTextureRenderGroup;e&&!e.textureNeedsUpdate&&e.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const n=this.childrenToUpdate[e];n.list.fill(null),n.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const n=this.renderGroupChildren.indexOf(e);n>-1&&this.renderGroupChildren.splice(n,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const n=e.children;for(let s=0;s<n.length;s++)this.addChild(n[s])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const n=e.children;for(let s=0;s<n.length;s++)this.removeChild(n[s])}removeChildren(e){for(let n=0;n<e.length;n++)this.removeChild(e[n])}onChildUpdate(e){let n=this.childrenToUpdate[e.relativeRenderGroupDepth];n||(n=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),n.list[n.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(e){for(let n=0;n<this._onRenderContainers.length;n++)this._onRenderContainers[n]._onRender(e)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const n=this.root.children;for(let s=0;s<n.length;s++)this._getChildren(n[s],e);return e}_getChildren(e,n=[]){if(n.push(e),e.renderGroup)return n;const s=e.children;for(let l=0;l<s.length;l++)this._getChildren(s[l],n);return n}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new be),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new be),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new be),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function h0(i,e,n={}){for(const s in e)!n[s]&&e[s]!==void 0&&(i[s]=e[s])}const Au=new yt(null),dl=new yt(null),Eu=new yt(null,1,1),fl=new yt(null),yf=1,d0=2,Ru=4;class Be extends Tn{constructor(e={}){super(),this.uid=tt("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new be,this.relativeGroupTransform=new be,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new yt(this,0,0),this._scale=Eu,this._pivot=dl,this._origin=fl,this._skew=Au,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],h0(this,e,{children:!0,parent:!0,effects:!0}),e.children?.forEach(n=>this.addChild(n)),e.parent?.addChild(this)}static mixin(e){Ie("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),rn.mixin(Be,e)}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||Ie(Je,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let l=0;l<e.length;l++)this.addChild(e[l]);return e[0]}const n=e[0],s=this.renderGroup||this.parentRenderGroup;return n.parent===this?(this.children.splice(this.children.indexOf(n),1),this.children.push(n),s&&(s.structureDidChange=!0),n):(n.parent&&n.parent.removeChild(n),this.children.push(n),this.sortableChildren&&(this.sortDirty=!0),n.parent=this,n.didChange=!0,n._updateFlags=15,s&&s.addChild(n),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this),this._didViewChangeTick++,n._zIndex!==0&&n.depthOfChildModified(),n)}removeChild(...e){if(e.length>1){for(let l=0;l<e.length;l++)this.removeChild(e[l]);return e[0]}const n=e[0],s=this.children.indexOf(n);return s>-1&&(this._didViewChangeTick++,this.children.splice(s,1),this.renderGroup?this.renderGroup.removeChild(n):this.parentRenderGroup&&this.parentRenderGroup.removeChild(n),n.parentRenderLayer&&n.parentRenderLayer.detach(n),n.parent=null,this.emit("childRemoved",n,this,s),n.emit("removed",this)),n}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e?.removeChild(this),this.renderGroup=nn.get(c0,this),this.groupTransform=be.IDENTITY,e?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e?.removeChild(this),nn.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new be),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*Py}set angle(e){this.rotation=e*My}get pivot(){return this._pivot===dl&&(this._pivot=new yt(this,0,0)),this._pivot}set pivot(e){this._pivot===dl&&(this._pivot=new yt(this,0,0),this._origin!==fl&&Mt("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===Au&&(this._skew=new yt(this,0,0)),this._skew}set skew(e){this._skew===Au&&(this._skew=new yt(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===Eu&&(this._scale=new yt(this,1,1)),this._scale}set scale(e){this._scale===Eu&&(this._scale=new yt(this,0,0)),typeof e=="string"&&(e=parseFloat(e)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get origin(){return this._origin===fl&&(this._origin=new yt(this,0,0)),this._origin}set origin(e){this._origin===fl&&(this._origin=new yt(this,0,0),this._pivot!==dl&&Mt("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._origin.set(e):this._origin.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const n=this.getLocalBounds().width;this._setWidth(e,n)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const n=this.getLocalBounds().height;this._setHeight(e,n)}getSize(e){e||(e={});const n=this.getLocalBounds();return e.width=Math.abs(this.scale.x*n.width),e.height=Math.abs(this.scale.y*n.height),e}setSize(e,n){const s=this.getLocalBounds();typeof e=="object"?(n=e.height??e.width,e=e.width):n??(n=e),e!==void 0&&this._setWidth(e,s.width),n!==void 0&&this._setHeight(n,s.height)}_updateSkew(){const e=this._rotation,n=this._skew;this._cx=Math.cos(e+n._y),this._sx=Math.sin(e+n._y),this._cy=-Math.sin(e-n._x),this._sy=Math.cos(e-n._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this.origin.set(typeof e.originX=="number"?e.originX:this.origin.x,typeof e.originY=="number"?e.originY:this.origin.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const n=this.localTransform,s=this._scale,l=this._pivot,a=this._origin,c=this._position,h=s._x,f=s._y,m=l._x,g=l._y,y=-a._x,v=-a._y;n.a=this._cx*h,n.b=this._sx*h,n.c=this._cy*f,n.d=this._sy*f,n.tx=c._x-(m*n.a+g*n.c)+(y*n.a+v*n.c)-y,n.ty=c._y-(m*n.b+g*n.d)+(y*n.b+v*n.d)-v}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=yf,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const s=ot.shared.setValue(e??16777215).toBgrNumber();s!==this.localColor&&(this.localColor=s,this._updateFlags|=yf,this._onUpdate())}get tint(){return kl(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=d0,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const n=e?2:0;(this.localDisplayStatus&2)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Ru,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const n=e?0:4;(this.localDisplayStatus&4)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Ru,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const n=e?1:0;(this.localDisplayStatus&1)!==n&&(this._updateFlags|=Ru,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){if(this.destroyed)return;this.destroyed=!0;let n;if(this.children.length&&(n=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e?.children)&&n)for(let l=0;l<n.length;++l)n[l].destroy(e);this.renderGroup?.destroy(),this.renderGroup=null}}rn.mixin(Be,Xy,e0,l0,i0,r0,Ky,Zy,s0,Wy,$y,t0,qy);class dc extends Be{constructor(e){super(e),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this._bounds=new yn(0,1,0,0),this._boundsDirty=!0,this.autoGarbageCollect=e.autoGarbageCollect??!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const n=this.bounds,{x:s,y:l}=e;return s>=n.minX&&s<=n.maxX&&l>=n.minY&&l<=n.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}unload(){this.emit("unload",this);for(const e in this._gpuData)this._gpuData[e]?.destroy();this._gpuData=Object.create(null),this.onViewUpdate()}destroy(e){this.unload(),super.destroy(e),this._bounds=null}collectRenderablesSimple(e,n,s){const{renderPipes:l}=n;l.blendMode.pushBlendMode(this,this.groupBlendMode,e),l[this.renderPipeId].addRenderable(this,e),this.didViewUpdate=!1;const c=this.children,h=c.length;for(let f=0;f<h;f++)c[f].collectRenderables(e,n,s);l.blendMode.popBlendMode(e)}}class js extends dc{constructor(e=ze.EMPTY){e instanceof ze&&(e={texture:e});const{texture:n=ze.EMPTY,anchor:s,roundPixels:l,width:a,height:c,...h}=e;super({label:"Sprite",...h}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new yt({_onUpdate:()=>{this.onViewUpdate()}}),s?this.anchor=s:n.defaultAnchor&&(this.anchor=n.defaultAnchor),this.texture=n,this.allowChildren=!1,this.roundPixels=l??!1,a!==void 0&&(this.width=a),c!==void 0&&(this.height=c)}static from(e,n=!1){return e instanceof ze?new js(e):new js(ze.from(e,n))}set texture(e){e||(e=ze.EMPTY);const n=this._texture;n!==e&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return Ny(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return Ie("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,n=this._texture,s=this._bounds,{width:l,height:a}=n.orig;s.minX=-e._x*l,s.maxX=s.minX+l,s.minY=-e._y*a,s.maxY=s.minY+a}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e?.texture){const s=typeof e=="boolean"?e:e?.textureSource;this._texture.destroy(s)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,n){typeof e=="object"?(n=e.height??e.width,e=e.width):n??(n=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),n!==void 0&&this._setHeight(n,this._texture.orig.height)}}const f0=new yn;function Ep(i,e,n){const s=f0;i.measurable=!0,Sp(i,n,s),e.addBoundsMask(s),i.measurable=!1}function Rp(i,e,n){const s=Hn.get();i.measurable=!0;const l=Pt.get().identity(),a=Ip(i,n,l);Pp(i,s,a),i.measurable=!1,e.addBoundsMask(s),Pt.return(l),Hn.return(s)}function Ip(i,e,n){return i?(i!==e&&(Ip(i.parent,e,n),i.updateLocalTransform(),n.append(i.localTransform)),n):(Mt("Mask bounds, renderable is not inside the root container"),n)}class Np{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof js),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(e,n){this.inverse||Ep(this.mask,e,n)}addLocalBounds(e,n){Rp(this.mask,e,n)}containsPoint(e,n){const s=this.mask;return n(s,e)}destroy(){this.reset()}static test(e){return e instanceof js}}Np.extension=Le.MaskEffect;class Lp{constructor(e){this.priority=0,this.pipe="colorMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}Lp.extension=Le.MaskEffect;class Fp{constructor(e){this.priority=0,this.pipe="stencilMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(e,n){Ep(this.mask,e,n)}addLocalBounds(e,n){Rp(this.mask,e,n)}containsPoint(e,n){const s=this.mask;return n(s,e)}destroy(){this.reset()}static test(e){return e instanceof Be}}Fp.extension=Le.MaskEffect;const p0={createCanvas:(i,e)=>{const n=document.createElement("canvas");return n.width=i,n.height=e,n},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(i,e)=>fetch(i,e),parseXML:i=>new DOMParser().parseFromString(i,"text/xml")};let xf=p0;const Ht={get(){return xf},set(i){xf=i}};class Bp extends xn{constructor(e){e.resource||(e.resource=Ht.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,n=this.height,s=this._resolution){const l=super.resize(e,n,s);return l&&this.resizeCanvas(),l}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}Bp.extension=Le.TextureSource;class bl extends xn{constructor(e){super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}bl.extension=Le.TextureSource;var Qu=(i=>(i[i.INTERACTION=50]="INTERACTION",i[i.HIGH=25]="HIGH",i[i.NORMAL=0]="NORMAL",i[i.LOW=-25]="LOW",i[i.UTILITY=-50]="UTILITY",i))(Qu||{});class Iu{constructor(e,n=null,s=0,l=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=n,this.priority=s,this._once=l}match(e,n=null){return this._fn===e&&this._context===n}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const n=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const zp=class Vt{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Iu(null,null,1/0),this.deltaMS=1/Vt.targetFPMS,this.elapsedMS=1/Vt.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,n,s=Qu.NORMAL){return this._addListener(new Iu(e,n,s))}addOnce(e,n,s=Qu.NORMAL){return this._addListener(new Iu(e,n,s,!0))}_addListener(e){let n=this._head.next,s=this._head;if(!n)e.connect(s);else{for(;n;){if(e.priority>n.priority){e.connect(s);break}s=n,n=n.next}e.previous||e.connect(s)}return this._startIfPossible(),this}remove(e,n){let s=this._head.next;for(;s;)s.match(e,n)?s=s.destroy():s=s.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,n=this._head;for(;n=n.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let n;if(e>this.lastTime){if(n=this.elapsedMS=e-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){const a=e-this._lastFrame|0;if(a<this._minElapsedMS)return;this._lastFrame=e-a%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*Vt.targetFPMS;const s=this._head;let l=s.next;for(;l;)l=l.emit(this);s.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const n=Math.min(this.maxFPS,e),s=Math.min(Math.max(0,n)/1e3,Vt.targetFPMS);this._maxElapsedMS=1/s}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const n=Math.max(this.minFPS,e);this._minElapsedMS=1/(n/1e3)}}static get shared(){if(!Vt._shared){const e=Vt._shared=new Vt;e.autoStart=!0,e._protected=!0}return Vt._shared}static get system(){if(!Vt._system){const e=Vt._system=new Vt;e.autoStart=!0,e._protected=!0}return Vt._system}};zp.targetFPMS=.06;let pl=zp,Nu;async function m0(){return Nu??(Nu=(async()=>{const e=Ht.get().createCanvas(1,1).getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const n=await new Promise(c=>{const h=document.createElement("video");h.onloadeddata=()=>c(h),h.onerror=()=>c(null),h.autoplay=!1,h.crossOrigin="anonymous",h.preload="auto",h.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",h.load()});if(!n)return"premultiply-alpha-on-upload";const s=e.createTexture();e.bindTexture(e.TEXTURE_2D,s);const l=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,l),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,s,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n);const a=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,a),e.deleteFramebuffer(l),e.deleteTexture(s),e.getExtension("WEBGL_lose_context")?.loseContext(),a[0]<=a[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Nu}const Rl=class Dp extends xn{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...Dp.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=pl.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,n=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(n.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await m0(),this._load=new Promise((s,l)=>{this.isValid?s(this):(this._resolve=s,this._reject=l,n.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${n.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(pl.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(pl.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(pl.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};Rl.extension=Le.TextureSource;Rl.defaultOptions={...xn.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Rl.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let g0=Rl;const ki=(i,e,n=!1)=>(Array.isArray(i)||(i=[i]),e?i.map(s=>typeof s=="string"||n?e(s):s):i);class y0{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||Mt(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const s=ki(e);let l;for(let f=0;f<this.parsers.length;f++){const m=this.parsers[f];if(m.test(n)){l=m.getCacheableAssets(s,n);break}}const a=new Map(Object.entries(l||{}));l||s.forEach(f=>{a.set(f,n)});const c=[...a.keys()],h={cacheKeys:c,keys:s};s.forEach(f=>{this._cacheMap.set(f,h)}),c.forEach(f=>{const m=l?l[f]:n;this._cache.has(f)&&this._cache.get(f)!==m&&Mt("[Cache] already has key:",f),this._cache.set(f,a.get(f))})}remove(e){if(!this._cacheMap.has(e)){Mt(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(l=>{this._cache.delete(l)}),n.keys.forEach(l=>{this._cacheMap.delete(l)})}get parsers(){return this._parsers}}const Ci=new y0,Ku=[];rn.handleByList(Le.TextureSource,Ku);function Op(i={}){const e=i&&i.resource,n=e?i.resource:i,s=e?i:{resource:i};for(let l=0;l<Ku.length;l++){const a=Ku[l];if(a.test(n))return new a(s)}throw new Error(`Could not find a source type for resource: ${s.resource}`)}function x0(i={},e=!1){const n=i&&i.resource,s=n?i.resource:i,l=n?i:{resource:i};if(!e&&Ci.has(s))return Ci.get(s);const a=new ze({source:Op(l)});return a.on("destroy",()=>{Ci.has(s)&&Ci.remove(s)}),e||Ci.set(s,a),a}function _0(i,e=!1){return typeof i=="string"?Ci.get(i):i instanceof xn?new ze({source:i}):x0(i,e)}ze.from=_0;xn.from=Op;rn.add(Np,Lp,Fp,g0,bl,Bp,cc);var Gp=(i=>(i[i.Low=0]="Low",i[i.Normal=1]="Normal",i[i.High=2]="High",i))(Gp||{});function mn(i){if(typeof i!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(i)}`)}function Ps(i){return i.split("?")[0].split("#")[0]}function v0(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w0(i,e,n){return i.replace(new RegExp(v0(e),"g"),n)}function S0(i,e){let n="",s=0,l=-1,a=0,c=-1;for(let h=0;h<=i.length;++h){if(h<i.length)c=i.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(l===h-1||a===1))if(l!==h-1&&a===2){if(n.length<2||s!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const f=n.lastIndexOf("/");if(f!==n.length-1){f===-1?(n="",s=0):(n=n.slice(0,f),s=n.length-1-n.lastIndexOf("/")),l=h,a=0;continue}}else if(n.length===2||n.length===1){n="",s=0,l=h,a=0;continue}}}else n.length>0?n+=`/${i.slice(l+1,h)}`:n=i.slice(l+1,h),s=h-l-1;l=h,a=0}else c===46&&a!==-1?++a:a=-1}return n}const Ws={toPosix(i){return w0(i,"\\","/")},isUrl(i){return/^https?:/.test(this.toPosix(i))},isDataUrl(i){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(i)},isBlobUrl(i){return i.startsWith("blob:")},hasProtocol(i){return/^[^/:]+:/.test(this.toPosix(i))},getProtocol(i){mn(i),i=this.toPosix(i);const e=/^file:\/\/\//.exec(i);if(e)return e[0];const n=/^[^/:]+:\/{0,2}/.exec(i);return n?n[0]:""},toAbsolute(i,e,n){if(mn(i),this.isDataUrl(i)||this.isBlobUrl(i))return i;const s=Ps(this.toPosix(e??Ht.get().getBaseUrl())),l=Ps(this.toPosix(n??this.rootname(s)));return i=this.toPosix(i),i.startsWith("/")?Ws.join(l,i.slice(1)):this.isAbsolute(i)?i:this.join(s,i)},normalize(i){if(mn(i),i.length===0)return".";if(this.isDataUrl(i)||this.isBlobUrl(i))return i;i=this.toPosix(i);let e="";const n=i.startsWith("/");this.hasProtocol(i)&&(e=this.rootname(i),i=i.slice(e.length));const s=i.endsWith("/");return i=S0(i),i.length>0&&s&&(i+="/"),n?`/${i}`:e+i},isAbsolute(i){return mn(i),i=this.toPosix(i),this.hasProtocol(i)?!0:i.startsWith("/")},join(...i){if(i.length===0)return".";let e;for(let n=0;n<i.length;++n){const s=i[n];if(mn(s),s.length>0)if(e===void 0)e=s;else{const l=i[n-1]??"";this.joinExtensions.includes(this.extname(l).toLowerCase())?e+=`/../${s}`:e+=`/${s}`}}return e===void 0?".":this.normalize(e)},dirname(i){if(mn(i),i.length===0)return".";i=this.toPosix(i);let e=i.charCodeAt(0);const n=e===47;let s=-1,l=!0;const a=this.getProtocol(i),c=i;i=i.slice(a.length);for(let h=i.length-1;h>=1;--h)if(e=i.charCodeAt(h),e===47){if(!l){s=h;break}}else l=!1;return s===-1?n?"/":this.isUrl(c)?a+i:a:n&&s===1?"//":a+i.slice(0,s)},rootname(i){mn(i),i=this.toPosix(i);let e="";if(i.startsWith("/")?e="/":e=this.getProtocol(i),this.isUrl(i)){const n=i.indexOf("/",e.length);n!==-1?e=i.slice(0,n):e=i,e.endsWith("/")||(e+="/")}return e},basename(i,e){mn(i),e&&mn(e),i=Ps(this.toPosix(i));let n=0,s=-1,l=!0,a;if(e!==void 0&&e.length>0&&e.length<=i.length){if(e.length===i.length&&e===i)return"";let c=e.length-1,h=-1;for(a=i.length-1;a>=0;--a){const f=i.charCodeAt(a);if(f===47){if(!l){n=a+1;break}}else h===-1&&(l=!1,h=a+1),c>=0&&(f===e.charCodeAt(c)?--c===-1&&(s=a):(c=-1,s=h))}return n===s?s=h:s===-1&&(s=i.length),i.slice(n,s)}for(a=i.length-1;a>=0;--a)if(i.charCodeAt(a)===47){if(!l){n=a+1;break}}else s===-1&&(l=!1,s=a+1);return s===-1?"":i.slice(n,s)},extname(i){mn(i),i=Ps(this.toPosix(i));let e=-1,n=0,s=-1,l=!0,a=0;for(let c=i.length-1;c>=0;--c){const h=i.charCodeAt(c);if(h===47){if(!l){n=c+1;break}continue}s===-1&&(l=!1,s=c+1),h===46?e===-1?e=c:a!==1&&(a=1):e!==-1&&(a=-1)}return e===-1||s===-1||a===0||a===1&&e===s-1&&e===n+1?"":i.slice(e,s)},parse(i){mn(i);const e={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return e;i=Ps(this.toPosix(i));let n=i.charCodeAt(0);const s=this.isAbsolute(i);let l;e.root=this.rootname(i),s||this.hasProtocol(i)?l=1:l=0;let a=-1,c=0,h=-1,f=!0,m=i.length-1,g=0;for(;m>=l;--m){if(n=i.charCodeAt(m),n===47){if(!f){c=m+1;break}continue}h===-1&&(f=!1,h=m+1),n===46?a===-1?a=m:g!==1&&(g=1):a!==-1&&(g=-1)}return a===-1||h===-1||g===0||g===1&&a===h-1&&a===c+1?h!==-1&&(c===0&&s?e.base=e.name=i.slice(1,h):e.base=e.name=i.slice(c,h)):(c===0&&s?(e.name=i.slice(1,a),e.base=i.slice(1,h)):(e.name=i.slice(c,a),e.base=i.slice(c,h)),e.ext=i.slice(a,h)),e.dir=this.dirname(i),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function Up(i,e,n,s,l){const a=e[n];for(let c=0;c<a.length;c++){const h=a[c];n<e.length-1?Up(i.replace(s[n],h),e,n+1,s,l):l.push(i.replace(s[n],h))}}function k0(i){const e=/\{(.*?)\}/g,n=i.match(e),s=[];if(n){const l=[];n.forEach(a=>{const c=a.substring(1,a.length-1).split(",");l.push(c)}),Up(i,l,0,n,s)}else s.push(i);return s}const _f=i=>!Array.isArray(i);class jp{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(n[s])}`).join("&")}}getAlias(e){const{alias:n,src:s}=e;return ki(n||s,a=>typeof a=="string"?a:Array.isArray(a)?a.map(c=>c?.src??c):a?.src?a.src:a,!0)}addManifest(e){this._manifest&&Mt("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const s=[];let l=n;Array.isArray(n)||(l=Object.entries(n).map(([a,c])=>typeof c=="string"||Array.isArray(c)?{alias:a,src:c}:{alias:a,...c})),l.forEach(a=>{const c=a.src,h=a.alias;let f;if(typeof h=="string"){const m=this._createBundleAssetId(e,h);s.push(m),f=[h,m]}else{const m=h.map(g=>this._createBundleAssetId(e,g));s.push(...m),f=[...h,...m]}this.add({...a,alias:f,src:c})}),this._bundles[e]=s}add(e){const n=[];Array.isArray(e)?n.push(...e):n.push(e);let s;s=a=>{this.hasKey(a)&&Mt(`[Resolver] already has key: ${a} overwriting`)},ki(n).forEach(a=>{const{src:c}=a;let{data:h,format:f,loadParser:m,parser:g}=a;const y=ki(c).map(C=>typeof C=="string"?k0(C):Array.isArray(C)?C:[C]),v=this.getAlias(a);Array.isArray(v)?v.forEach(s):s(v);const _=[],k=C=>({...this._parsers.find(T=>T.test(C))?.parse(C),src:C});y.forEach(C=>{C.forEach(w=>{let T={};if(typeof w!="object"?T=k(w):(h=w.data??h,f=w.format??f,(w.loadParser||w.parser)&&(m=w.loadParser??m,g=w.parser??g),T={...k(w.src),...w}),!v)throw new Error(`[Resolver] alias is undefined for this asset: ${T.src}`);T=this._buildResolvedAsset(T,{aliases:v,data:h,format:f,loadParser:m,parser:g,progressSize:a.progressSize}),_.push(T)})}),v.forEach(C=>{this._assetMap[C]=_})})}resolveBundle(e){const n=_f(e);e=ki(e);const s={};return e.forEach(l=>{const a=this._bundles[l];if(a){const c=this.resolve(a),h={};for(const f in c){const m=c[f];h[this._extractAssetIdFromBundle(l,f)]=m}s[l]=h}}),n?s[e[0]]:s}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const s={};for(const l in n)s[l]=n[l].src;return s}return n.src}resolve(e){const n=_f(e);e=ki(e);const s={};return e.forEach(l=>{if(!this._resolverHash[l])if(this._assetMap[l]){let a=this._assetMap[l];const c=this._getPreferredOrder(a);c?.priority.forEach(h=>{c.params[h].forEach(f=>{const m=a.filter(g=>g[h]?g[h]===f:!1);m.length&&(a=m)})}),this._resolverHash[l]=a[0]}else this._resolverHash[l]=this._buildResolvedAsset({alias:[l],src:l},{});s[l]=this._resolverHash[l]}),n?s[e[0]]:s}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const s=e[n],l=this._preferredOrder.find(a=>a.params.format.includes(s.format));if(l)return l}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}_buildResolvedAsset(e,n){const{aliases:s,data:l,loadParser:a,parser:c,format:h,progressSize:f}=n;return(this._basePath||this._rootPath)&&(e.src=Ws.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=s??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...l||{},...e.data},e.loadParser=a??e.loadParser,e.parser=c??e.parser,e.format=h??e.format??C0(e.src),f!==void 0&&(e.progressSize=f),e}}jp.RETINA_PREFIX=/@([0-9\.]+)x/;function C0(i){return i.split(".").pop().split("?").shift().split("#").shift()}const vf=(i,e)=>{const n=e.split("?")[1];return n&&(i+=`?${n}`),i},Wp=class Fs{constructor(e,n){this.linkedSheets=[];let s=e;e?.source instanceof xn&&(s={texture:e,data:n});const{texture:l,data:a,cachePrefix:c=""}=s;this.cachePrefix=c,this._texture=l instanceof ze?l:null,this.textureSource=l.source,this.textures={},this.animations={},this.data=a;const h=parseFloat(a.meta.scale);h?(this.resolution=h,l.source.resolution=this.resolution):this.resolution=l.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Fs.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let n=e;const s=Fs.BATCH_SIZE;for(;n-e<s&&n<this._frameKeys.length;){const l=this._frameKeys[n],a=this._frames[l],c=a.frame;if(c){let h=null,f=null;const m=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,g=new et(0,0,Math.floor(m.w)/this.resolution,Math.floor(m.h)/this.resolution);a.rotated?h=new et(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):h=new et(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(f=new et(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[l]=new ze({source:this.textureSource,frame:h,orig:g,trim:f,rotate:a.rotated?2:0,defaultAnchor:a.anchor,defaultBorders:a.borders,label:l.toString()})}n++}}_processAnimations(){const e=this.data.animations||{};for(const n in e){this.animations[n]=[];for(let s=0;s<e[n].length;s++){const l=e[n][s];this.animations[n].push(this.textures[l])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Fs.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Fs.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};Wp.BATCH_SIZE=1e3;let wf=Wp;const P0=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function Vp(i,e,n){const s={};if(i.forEach(l=>{s[l]=e}),Object.keys(e.textures).forEach(l=>{s[`${e.cachePrefix}${l}`]=e.textures[l]}),!n){const l=Ws.dirname(i[0]);e.linkedSheets.forEach((a,c)=>{const h=Vp([`${l}/${e.data.meta.related_multi_packs[c]}`],a,!0);Object.assign(s,h)})}return s}const M0={extension:Le.Asset,cache:{test:i=>i instanceof wf,getCacheableAssets:(i,e)=>Vp(i,e,!1)},resolver:{extension:{type:Le.ResolveParser,name:"resolveSpritesheet"},test:i=>{const n=i.split("?")[0].split("."),s=n.pop(),l=n.pop();return s==="json"&&P0.includes(l)},parse:i=>{const e=i.split(".");return{resolution:parseFloat(jp.RETINA_PREFIX.exec(i)?.[1]??"1"),format:e[e.length-2],src:i}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:Le.LoadParser,priority:Gp.Normal,name:"spritesheetLoader"},async testParse(i,e){return Ws.extname(e.src).toLowerCase()===".json"&&!!i.frames},async parse(i,e,n){const{texture:s,imageFilename:l,textureOptions:a,cachePrefix:c}=e?.data??{};let h=Ws.dirname(e.src);h&&h.lastIndexOf("/")!==h.length-1&&(h+="/");let f;if(s instanceof ze)f=s;else{const y=vf(h+(l??i.meta.image),e.src);f=(await n.load([{src:y,data:a}]))[y]}const m=new wf({texture:f.source,data:i,cachePrefix:c});await m.parse();const g=i?.meta?.related_multi_packs;if(Array.isArray(g)){const y=[];for(const _ of g){if(typeof _!="string")continue;let k=h+_;e.data?.ignoreMultiPack||(k=vf(k,e.src),y.push(n.load({src:k,data:{textureOptions:a,ignoreMultiPack:!0}})))}const v=await Promise.all(y);m.linkedSheets=v,v.forEach(_=>{_.linkedSheets=[m].concat(m.linkedSheets.filter(k=>k!==_))})}return m},async unload(i,e,n){await n.unload(i.textureSource._sourceOrigin),i.destroy(!1)}}};rn.add(M0);const Lu=Object.create(null),Sf=Object.create(null);function fc(i,e){let n=Sf[i];return n===void 0&&(Lu[e]===void 0&&(Lu[e]=1),Sf[i]=n=Lu[e]++),n}let ml;function Hp(){return(!ml||ml?.isContextLost())&&(ml=Ht.get().createCanvas().getContext("webgl",{})),ml}let gl;function b0(){if(!gl){gl="mediump";const i=Hp();i&&i.getShaderPrecisionFormat&&(gl=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision?"highp":"mediump")}return gl}function T0(i,e,n){return e?i:n?(i=i.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${i}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${i}
        `}function A0(i,e,n){const s=n?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(i.substring(0,9)!=="precision"){let l=n?e.requestedFragmentPrecision:e.requestedVertexPrecision;return l==="highp"&&s!=="highp"&&(l="mediump"),`precision ${l} float;
${i}`}else if(s!=="highp"&&i.substring(0,15)==="precision highp")return i.replace("precision highp","precision mediump");return i}function E0(i,e){return e?`#version 300 es
${i}`:i}const R0={},I0={};function N0(i,{name:e="pixi-program"},n=!0){e=e.replace(/\s+/g,"-"),e+=n?"-fragment":"-vertex";const s=n?R0:I0;return s[e]?(s[e]++,e+=`-${s[e]}`):s[e]=1,i.indexOf("#define SHADER_NAME")!==-1?i:`${`#define SHADER_NAME ${e}`}
${i}`}function L0(i,e){return e?i.replace("#version 300 es",""):i}const Fu={stripVersion:L0,ensurePrecision:A0,addProgramDefines:T0,setProgramName:N0,insertVersion:E0},Ms=Object.create(null),$p=class Zu{constructor(e){e={...Zu.defaultOptions,...e};const n=e.fragment.indexOf("#version 300 es")!==-1,s={stripVersion:n,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:b0()},setProgramName:{name:e.name},addProgramDefines:n,insertVersion:n};let l=e.fragment,a=e.vertex;Object.keys(Fu).forEach(c=>{const h=s[c];l=Fu[c](l,h,!0),a=Fu[c](a,h,!1)}),this.fragment=l,this.vertex=a,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=fc(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,Ms[this._cacheKey]=null}static from(e){const n=`${e.vertex}:${e.fragment}`;return Ms[n]||(Ms[n]=new Zu(e),Ms[n]._cacheKey=n),Ms[n]}};$p.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let Yp=$p;const kf={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function F0(i){return kf[i]??kf.float32}const B0={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function z0({source:i,entryPoint:e}){const n={},s=i.indexOf(`fn ${e}`);if(s!==-1){const l=i.indexOf("->",s);if(l!==-1){const a=i.substring(s,l),c=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let h;for(;(h=c.exec(a))!==null;){const f=B0[h[3]]??"float32";n[h[2]]={location:parseInt(h[1],10),format:f,stride:F0(f).stride,offset:0,instance:!1,start:0}}}}return n}function Bu(i){const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,n=/@group\((\d+)\)/,s=/@binding\((\d+)\)/,l=/var(<[^>]+>)? (\w+)/,a=/:\s*(\w+)/,c=/struct\s+(\w+)\s*{([^}]+)}/g,h=/(\w+)\s*:\s*([\w\<\>]+)/g,f=/struct\s+(\w+)/,m=i.match(e)?.map(y=>({group:parseInt(y.match(n)[1],10),binding:parseInt(y.match(s)[1],10),name:y.match(l)[2],isUniform:y.match(l)[1]==="<uniform>",type:y.match(a)[1]}));if(!m)return{groups:[],structs:[]};const g=i.match(c)?.map(y=>{const v=y.match(f)[1],_=y.match(h).reduce((k,C)=>{const[w,T]=C.split(":");return k[w.trim()]=T.trim(),k},{});return _?{name:v,members:_}:null}).filter(({name:y})=>m.some(v=>v.type===y))??[];return{groups:m,structs:g}}var Bs=(i=>(i[i.VERTEX=1]="VERTEX",i[i.FRAGMENT=2]="FRAGMENT",i[i.COMPUTE=4]="COMPUTE",i))(Bs||{});function D0({groups:i}){const e=[];for(let n=0;n<i.length;n++){const s=i[n];e[s.group]||(e[s.group]=[]),s.isUniform?e[s.group].push({binding:s.binding,visibility:Bs.VERTEX|Bs.FRAGMENT,buffer:{type:"uniform"}}):s.type==="sampler"?e[s.group].push({binding:s.binding,visibility:Bs.FRAGMENT,sampler:{type:"filtering"}}):s.type==="texture_2d"&&e[s.group].push({binding:s.binding,visibility:Bs.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function O0({groups:i}){const e=[];for(let n=0;n<i.length;n++){const s=i[n];e[s.group]||(e[s.group]={}),e[s.group][s.name]=s.binding}return e}function G0(i,e){const n=new Set,s=new Set,l=[...i.structs,...e.structs].filter(c=>n.has(c.name)?!1:(n.add(c.name),!0)),a=[...i.groups,...e.groups].filter(c=>{const h=`${c.name}-${c.binding}`;return s.has(h)?!1:(s.add(h),!0)});return{structs:l,groups:a}}const bs=Object.create(null);class Il{constructor(e){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:n,vertex:s,layout:l,gpuLayout:a,name:c}=e;if(this.name=c,this.fragment=n,this.vertex=s,n.source===s.source){const h=Bu(n.source);this.structsAndGroups=h}else{const h=Bu(s.source),f=Bu(n.source);this.structsAndGroups=G0(h,f)}this.layout=l??O0(this.structsAndGroups),this.gpuLayout=a??D0(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:n}=this,s=e.source+n.source+e.entryPoint+n.entryPoint;this._layoutKey=fc(s,"program")}get attributeData(){return this._attributeData??(this._attributeData=z0(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,bs[this._cacheKey]=null}static from(e){const n=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return bs[n]||(bs[n]=new Il(e),bs[n]._cacheKey=n),bs[n]}}const Xp=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],U0=Xp.reduce((i,e)=>(i[e]=!0,i),{});function j0(i,e){switch(i){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const qp=class Qp{constructor(e,n){this._touched=0,this.uid=tt("uniform"),this._resourceType="uniformGroup",this._resourceId=tt("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,n={...Qp.defaultOptions,...n},this.uniformStructures=e;const s={};for(const l in e){const a=e[l];if(a.name=l,a.size=a.size??1,!U0[a.type]){const c=a.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(c){const[,h,f]=c;throw new Error(`Uniform type ${a.type} is not supported. Use type: '${h}', size: ${f} instead.`)}throw new Error(`Uniform type ${a.type} is not supported. Supported uniform types are: ${Xp.join(", ")}`)}a.value??(a.value=j0(a.type,a.size)),s[l]=a.value}this.uniforms=s,this._dirtyId=1,this.ubo=n.ubo,this.isStatic=n.isStatic,this._signature=fc(Object.keys(s).map(l=>`${l}-${e[l].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};qp.defaultOptions={ubo:!1,isStatic:!1};let Kp=qp;class Cl{constructor(e){this.resources=Object.create(null),this._dirty=!0;let n=0;for(const s in e){const l=e[s];this.setResource(l,n++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let n=0;for(const s in this.resources)e[n++]=this.resources[s]._resourceId;this._key=e.join("|")}setResource(e,n){const s=this.resources[n];e!==s&&(s&&e.off?.("change",this.onResourceChange,this),e.on?.("change",this.onResourceChange,this),this.resources[n]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e,n){const s=this.resources;for(const l in s)s[l]._gcLastUsed=e,s[l]._touched=n}destroy(){const e=this.resources;for(const n in e)e[n]?.off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const n=this.resources;for(const s in n)n[s]===e&&(n[s]=null)}else this._updateKey()}}var Ju=(i=>(i[i.WEBGL=1]="WEBGL",i[i.WEBGPU=2]="WEBGPU",i[i.BOTH=3]="BOTH",i))(Ju||{});class pc extends Tn{constructor(e){super(),this.uid=tt("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:n,glProgram:s,groups:l,resources:a,compatibleRenderers:c,groupMap:h}=e;this.gpuProgram=n,this.glProgram=s,c===void 0&&(c=0,n&&(c|=Ju.WEBGPU),s&&(c|=Ju.WEBGL)),this.compatibleRenderers=c;const f={};if(!a&&!l&&(a={}),a&&l)throw new Error("[Shader] Cannot have both resources and groups");if(!n&&l&&!h)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!n&&l&&h)for(const m in h)for(const g in h[m]){const y=h[m][g];f[y]={group:m,binding:g,name:y}}else if(n&&l&&!h){const m=n.structsAndGroups.groups;h={},m.forEach(g=>{h[g.group]=h[g.group]||{},h[g.group][g.binding]=g.name,f[g.name]=g})}else if(a){l={},h={},n&&n.structsAndGroups.groups.forEach(y=>{h[y.group]=h[y.group]||{},h[y.group][y.binding]=y.name,f[y.name]=y});let m=0;for(const g in a)f[g]||(l[99]||(l[99]=new Cl,this._ownedBindGroups.push(l[99])),f[g]={group:99,binding:m,name:g},h[99]=h[99]||{},h[99][m]=g,m++);for(const g in a){const y=g;let v=a[g];!v.source&&!v._resourceType&&(v=new Kp(v));const _=f[y];_&&(l[_.group]||(l[_.group]=new Cl,this._ownedBindGroups.push(l[_.group])),l[_.group].setResource(v,_.binding))}}this.groups=l,this._uniformBindMap=h,this.resources=this._buildResourceAccessor(l,f)}addResource(e,n,s){var l,a;(l=this._uniformBindMap)[n]||(l[n]={}),(a=this._uniformBindMap[n])[s]||(a[s]=e),this.groups[n]||(this.groups[n]=new Cl,this._ownedBindGroups.push(this.groups[n]))}_buildResourceAccessor(e,n){const s={};for(const l in n){const a=n[l];Object.defineProperty(s,a.name,{get(){return e[a.group].getResource(a.binding)},set(c){e[a.group].setResource(c,a.binding)}})}return s}destroy(e=!1){this._destroyed||(this._destroyed=!0,this.emit("destroy",this),e&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(n=>{n.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(e){const{gpu:n,gl:s,...l}=e;let a,c;return n&&(a=Il.from(n)),s&&(c=Yp.from(s)),new pc({gpuProgram:a,glProgram:c,...l})}}const ec=[];rn.handleByNamedList(Le.Environment,ec);async function W0(i){if(!i)for(let e=0;e<ec.length;e++){const n=ec[e];if(n.value.test()){await n.value.load();return}}}let Ts;function V0(){if(typeof Ts=="boolean")return Ts;try{Ts=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Ts=!1}return Ts}function Cf(i,e,n=2){const s=e&&e.length,l=s?e[0]*n:i.length;let a=Zp(i,0,l,n,!0);const c=[];if(!a||a.next===a.prev)return c;let h,f,m;if(s&&(a=q0(i,e,a,n)),i.length>80*n){h=i[0],f=i[1];let g=h,y=f;for(let v=n;v<l;v+=n){const _=i[v],k=i[v+1];_<h&&(h=_),k<f&&(f=k),_>g&&(g=_),k>y&&(y=k)}m=Math.max(g-h,y-f),m=m!==0?32767/m:0}return Vs(a,c,n,h,f,m,0),c}function Zp(i,e,n,s,l){let a;if(l===ox(i,e,n,s)>0)for(let c=e;c<n;c+=s)a=Pf(c/s|0,i[c],i[c+1],a);else for(let c=n-s;c>=e;c-=s)a=Pf(c/s|0,i[c],i[c+1],a);return a&&Ei(a,a.next)&&($s(a),a=a.next),a}function Vr(i,e){if(!i)return i;e||(e=i);let n=i,s;do if(s=!1,!n.steiner&&(Ei(n,n.next)||Ye(n.prev,n,n.next)===0)){if($s(n),n=e=n.prev,n===n.next)break;s=!0}else n=n.next;while(s||n!==e);return e}function Vs(i,e,n,s,l,a,c){if(!i)return;!c&&a&&ex(i,s,l,a);let h=i;for(;i.prev!==i.next;){const f=i.prev,m=i.next;if(a?$0(i,s,l,a):H0(i)){e.push(f.i,i.i,m.i),$s(i),i=m.next,h=m.next;continue}if(i=m,i===h){c?c===1?(i=Y0(Vr(i),e),Vs(i,e,n,s,l,a,2)):c===2&&X0(i,e,n,s,l,a):Vs(Vr(i),e,n,s,l,a,1);break}}}function H0(i){const e=i.prev,n=i,s=i.next;if(Ye(e,n,s)>=0)return!1;const l=e.x,a=n.x,c=s.x,h=e.y,f=n.y,m=s.y,g=Math.min(l,a,c),y=Math.min(h,f,m),v=Math.max(l,a,c),_=Math.max(h,f,m);let k=s.next;for(;k!==e;){if(k.x>=g&&k.x<=v&&k.y>=y&&k.y<=_&&zs(l,h,a,f,c,m,k.x,k.y)&&Ye(k.prev,k,k.next)>=0)return!1;k=k.next}return!0}function $0(i,e,n,s){const l=i.prev,a=i,c=i.next;if(Ye(l,a,c)>=0)return!1;const h=l.x,f=a.x,m=c.x,g=l.y,y=a.y,v=c.y,_=Math.min(h,f,m),k=Math.min(g,y,v),C=Math.max(h,f,m),w=Math.max(g,y,v),T=tc(_,k,e,n,s),A=tc(C,w,e,n,s);let R=i.prevZ,N=i.nextZ;for(;R&&R.z>=T&&N&&N.z<=A;){if(R.x>=_&&R.x<=C&&R.y>=k&&R.y<=w&&R!==l&&R!==c&&zs(h,g,f,y,m,v,R.x,R.y)&&Ye(R.prev,R,R.next)>=0||(R=R.prevZ,N.x>=_&&N.x<=C&&N.y>=k&&N.y<=w&&N!==l&&N!==c&&zs(h,g,f,y,m,v,N.x,N.y)&&Ye(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;R&&R.z>=T;){if(R.x>=_&&R.x<=C&&R.y>=k&&R.y<=w&&R!==l&&R!==c&&zs(h,g,f,y,m,v,R.x,R.y)&&Ye(R.prev,R,R.next)>=0)return!1;R=R.prevZ}for(;N&&N.z<=A;){if(N.x>=_&&N.x<=C&&N.y>=k&&N.y<=w&&N!==l&&N!==c&&zs(h,g,f,y,m,v,N.x,N.y)&&Ye(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function Y0(i,e){let n=i;do{const s=n.prev,l=n.next.next;!Ei(s,l)&&em(s,n,n.next,l)&&Hs(s,l)&&Hs(l,s)&&(e.push(s.i,n.i,l.i),$s(n),$s(n.next),n=i=l),n=n.next}while(n!==i);return Vr(n)}function X0(i,e,n,s,l,a){let c=i;do{let h=c.next.next;for(;h!==c.prev;){if(c.i!==h.i&&rx(c,h)){let f=tm(c,h);c=Vr(c,c.next),f=Vr(f,f.next),Vs(c,e,n,s,l,a,0),Vs(f,e,n,s,l,a,0);return}h=h.next}c=c.next}while(c!==i)}function q0(i,e,n,s){const l=[];for(let a=0,c=e.length;a<c;a++){const h=e[a]*s,f=a<c-1?e[a+1]*s:i.length,m=Zp(i,h,f,s,!1);m===m.next&&(m.steiner=!0),l.push(nx(m))}l.sort(Q0);for(let a=0;a<l.length;a++)n=K0(l[a],n);return n}function Q0(i,e){let n=i.x-e.x;if(n===0&&(n=i.y-e.y,n===0)){const s=(i.next.y-i.y)/(i.next.x-i.x),l=(e.next.y-e.y)/(e.next.x-e.x);n=s-l}return n}function K0(i,e){const n=Z0(i,e);if(!n)return e;const s=tm(n,i);return Vr(s,s.next),Vr(n,n.next)}function Z0(i,e){let n=e;const s=i.x,l=i.y;let a=-1/0,c;if(Ei(i,n))return n;do{if(Ei(i,n.next))return n.next;if(l<=n.y&&l>=n.next.y&&n.next.y!==n.y){const y=n.x+(l-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(y<=s&&y>a&&(a=y,c=n.x<n.next.x?n:n.next,y===s))return c}n=n.next}while(n!==e);if(!c)return null;const h=c,f=c.x,m=c.y;let g=1/0;n=c;do{if(s>=n.x&&n.x>=f&&s!==n.x&&Jp(l<m?s:a,l,f,m,l<m?a:s,l,n.x,n.y)){const y=Math.abs(l-n.y)/(s-n.x);Hs(n,i)&&(y<g||y===g&&(n.x>c.x||n.x===c.x&&J0(c,n)))&&(c=n,g=y)}n=n.next}while(n!==h);return c}function J0(i,e){return Ye(i.prev,i,e.prev)<0&&Ye(e.next,i,i.next)<0}function ex(i,e,n,s){let l=i;do l.z===0&&(l.z=tc(l.x,l.y,e,n,s)),l.prevZ=l.prev,l.nextZ=l.next,l=l.next;while(l!==i);l.prevZ.nextZ=null,l.prevZ=null,tx(l)}function tx(i){let e,n=1;do{let s=i,l;i=null;let a=null;for(e=0;s;){e++;let c=s,h=0;for(let m=0;m<n&&(h++,c=c.nextZ,!!c);m++);let f=n;for(;h>0||f>0&&c;)h!==0&&(f===0||!c||s.z<=c.z)?(l=s,s=s.nextZ,h--):(l=c,c=c.nextZ,f--),a?a.nextZ=l:i=l,l.prevZ=a,a=l;s=c}a.nextZ=null,n*=2}while(e>1);return i}function tc(i,e,n,s,l){return i=(i-n)*l|0,e=(e-s)*l|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function nx(i){let e=i,n=i;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==i);return n}function Jp(i,e,n,s,l,a,c,h){return(l-c)*(e-h)>=(i-c)*(a-h)&&(i-c)*(s-h)>=(n-c)*(e-h)&&(n-c)*(a-h)>=(l-c)*(s-h)}function zs(i,e,n,s,l,a,c,h){return!(i===c&&e===h)&&Jp(i,e,n,s,l,a,c,h)}function rx(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!ix(i,e)&&(Hs(i,e)&&Hs(e,i)&&sx(i,e)&&(Ye(i.prev,i,e.prev)||Ye(i,e.prev,e))||Ei(i,e)&&Ye(i.prev,i,i.next)>0&&Ye(e.prev,e,e.next)>0)}function Ye(i,e,n){return(e.y-i.y)*(n.x-e.x)-(e.x-i.x)*(n.y-e.y)}function Ei(i,e){return i.x===e.x&&i.y===e.y}function em(i,e,n,s){const l=xl(Ye(i,e,n)),a=xl(Ye(i,e,s)),c=xl(Ye(n,s,i)),h=xl(Ye(n,s,e));return!!(l!==a&&c!==h||l===0&&yl(i,n,e)||a===0&&yl(i,s,e)||c===0&&yl(n,i,s)||h===0&&yl(n,e,s))}function yl(i,e,n){return e.x<=Math.max(i.x,n.x)&&e.x>=Math.min(i.x,n.x)&&e.y<=Math.max(i.y,n.y)&&e.y>=Math.min(i.y,n.y)}function xl(i){return i>0?1:i<0?-1:0}function ix(i,e){let n=i;do{if(n.i!==i.i&&n.next.i!==i.i&&n.i!==e.i&&n.next.i!==e.i&&em(n,n.next,i,e))return!0;n=n.next}while(n!==i);return!1}function Hs(i,e){return Ye(i.prev,i,i.next)<0?Ye(i,e,i.next)>=0&&Ye(i,i.prev,e)>=0:Ye(i,e,i.prev)<0||Ye(i,i.next,e)<0}function sx(i,e){let n=i,s=!1;const l=(i.x+e.x)/2,a=(i.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&l<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(s=!s),n=n.next;while(n!==i);return s}function tm(i,e){const n=nc(i.i,i.x,i.y),s=nc(e.i,e.x,e.y),l=i.next,a=e.prev;return i.next=e,e.prev=i,n.next=l,l.prev=n,s.next=n,n.prev=s,a.next=s,s.prev=a,s}function Pf(i,e,n,s){const l=nc(i,e,n);return s?(l.next=s.next,l.prev=s,s.next.prev=l,s.next=l):(l.prev=l,l.next=l),l}function $s(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function nc(i,e,n){return{i,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function ox(i,e,n,s){let l=0;for(let a=e,c=n-s;a<n;a+=s)l+=(i[c]-i[a])*(i[a+1]+i[c+1]),c=a;return l}const lx=Cf.default||Cf;var nm=(i=>(i[i.NONE=0]="NONE",i[i.COLOR=16384]="COLOR",i[i.STENCIL=1024]="STENCIL",i[i.DEPTH=256]="DEPTH",i[i.COLOR_DEPTH=16640]="COLOR_DEPTH",i[i.COLOR_STENCIL=17408]="COLOR_STENCIL",i[i.DEPTH_STENCIL=1280]="DEPTH_STENCIL",i[i.ALL=17664]="ALL",i))(nm||{});class ax{constructor(e){this.items=[],this._name=e}emit(e,n,s,l,a,c,h,f){const{name:m,items:g}=this;for(let y=0,v=g.length;y<v;y++)g[y][m](e,n,s,l,a,c,h,f);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&this.items.splice(n,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const ux=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],rm=class im extends Tn{constructor(e){super(),this.tick=0,this.uid=tt("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const n=[...ux,...this.config.runners??[]];this._addRunners(...n),this._unsafeEvalCheck()}async init(e={}){const n=e.skipExtensionImports===!0?!0:e.manageImports===!1;await W0(n),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const s in this._systemsHash)e={...this._systemsHash[s].constructor.defaultOptions,...e};e={...im.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let s=0;s<this.runners.init.items.length;s++)await this.runners.init.items[s].init(e);this._initOptions=e}render(e,n){this.tick++;let s=e;if(s instanceof Be&&(s={container:s},n&&(Ie(Je,"passing a second argument is deprecated, please use render options instead"),s.target=n.renderTexture)),s.target||(s.target=this.view.renderTarget),s.target===this.view.renderTarget&&(this._lastObjectRendered=s.container,s.clearColor??(s.clearColor=this.background.colorRgba),s.clear??(s.clear=this.background.clearBeforeRender)),s.clearColor){const l=Array.isArray(s.clearColor)&&s.clearColor.length===4;s.clearColor=l?s.clearColor:ot.shared.setValue(s.clearColor).toArray()}s.transform||(s.container.updateLocalTransform(),s.transform=s.container.localTransform),s.container.visible&&(s.container.enableRenderGroup(),this.runners.prerender.emit(s),this.runners.renderStart.emit(s),this.runners.render.emit(s),this.runners.renderEnd.emit(s),this.runners.postrender.emit(s))}resize(e,n,s){const l=this.view.resolution;this.view.resize(e,n,s),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),s!==void 0&&s!==l&&this.runners.resolutionChange.emit(s)}clear(e={}){const n=this;e.target||(e.target=n.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=nm.ALL);const{clear:s,clearColor:l,target:a}=e;ot.shared.setValue(l??this.background.colorRgba),n.renderTarget.clear(a,s,ot.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(n=>{this.runners[n]=new ax(n)})}_addSystems(e){let n;for(n in e){const s=e[n];this._addSystem(s.value,s.name)}}_addSystem(e,n){const s=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=s,this._systemsHash[n]=s;for(const l in this.runners)this.runners[l].add(s);return this}_addPipes(e,n){const s=n.reduce((l,a)=>(l[a.name]=a.value,l),{});e.forEach(l=>{const a=l.value,c=l.name,h=s[c];this.renderPipes[c]=new a(this,h?new h:null),this.runners.destroy.add(this.renderPipes[c])})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),(e===!0||typeof e=="object"&&e.releaseGlobalResources)&&qs.release(),Object.values(this.runners).forEach(n=>{n.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!V0())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};rm.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let sm=rm,_l;function cx(i){return _l!==void 0||(_l=(()=>{const e={stencil:!0,failIfMajorPerformanceCaveat:i??sm.defaultOptions.failIfMajorPerformanceCaveat};try{if(!Ht.get().getWebGLRenderingContext())return!1;let s=Ht.get().createCanvas().getContext("webgl",e);const l=!!s?.getContextAttributes()?.stencil;if(s){const a=s.getExtension("WEBGL_lose_context");a&&a.loseContext()}return s=null,l}catch{return!1}})()),_l}let vl;async function hx(i={}){return vl!==void 0||(vl=await(async()=>{const e=Ht.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(i)).requestDevice(),!0}catch{return!1}})()),vl}const Mf=["webgl","webgpu","canvas"];async function dx(i){let e=[];i.preference?(e.push(i.preference),Mf.forEach(a=>{a!==i.preference&&e.push(a)})):e=Mf.slice();let n,s={};for(let a=0;a<e.length;a++){const c=e[a];if(c==="webgpu"&&await hx()){const{WebGPURenderer:h}=await Pl(async()=>{const{WebGPURenderer:f}=await import("./WebGPURenderer-BcYJrDxL.js");return{WebGPURenderer:f}},__vite__mapDeps([3,2,4]));n=h,s={...i,...i.webgpu};break}else if(c==="webgl"&&cx(i.failIfMajorPerformanceCaveat??sm.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:h}=await Pl(async()=>{const{WebGLRenderer:f}=await import("./WebGLRenderer-BVE0x1AO.js");return{WebGLRenderer:f}},__vite__mapDeps([5,2,4]));n=h,s={...i,...i.webgl};break}else if(c==="canvas")throw s={...i},new Error("CanvasRenderer is not yet implemented")}if(delete s.webgpu,delete s.webgl,!n)throw new Error("No available renderer for the current environment");const l=new n;return await l.init(s),l}const om="8.15.0";class lm{static init(){globalThis.__PIXI_APP_INIT__?.(this,om)}static destroy(){}}lm.extension=Le.Application;class fx{constructor(e){this._renderer=e}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,om)}destroy(){this._renderer=null}}fx.extension={type:[Le.WebGLSystem,Le.WebGPUSystem],name:"initHook",priority:-10};const am=class rc{constructor(...e){this.stage=new Be,e[0]!==void 0&&Ie(Je,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.stage||(this.stage=new Be),this.renderer=await dx(e),rc._plugins.forEach(n=>{n.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return Ie(Je,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,n=!1){const s=rc._plugins.slice(0);s.reverse(),s.forEach(l=>{l.destroy.call(this)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(e),this.renderer=null}};am._plugins=[];let um=am;rn.handleByList(Le.Application,um._plugins);rn.add(lm);class px{constructor(e=0,n=0,s=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=e,this.resetTtl=s,this.size=0,this.ttl=n}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(e){if(this.has(e)){const n=this.items[e];delete this.items[e],this.size--,n.prev!==null&&(n.prev.next=n.next),n.next!==null&&(n.next.prev=n.prev),this.first===n&&(this.first=n.next),this.last===n&&(this.last=n.prev)}return this}entries(e=this.keys()){const n=new Array(e.length);for(let s=0;s<e.length;s++){const l=e[s];n[s]=[l,this.get(l)]}return n}evict(e=!1){if(e||this.size>0){const n=this.first;delete this.items[n.key],--this.size===0?(this.first=null,this.last=null):(this.first=n.next,this.first.prev=null)}return this}expiresAt(e){let n;return this.has(e)&&(n=this.items[e].expiry),n}get(e){const n=this.items[e];if(n!==void 0){if(this.ttl>0&&n.expiry<=Date.now()){this.delete(e);return}return this.moveToEnd(n),n.value}}has(e){return e in this.items}moveToEnd(e){this.last!==e&&(e.prev!==null&&(e.prev.next=e.next),e.next!==null&&(e.next.prev=e.prev),this.first===e&&(this.first=e.next),e.prev=this.last,e.next=null,this.last!==null&&(this.last.next=e),this.last=e,this.first===null&&(this.first=e))}keys(){const e=new Array(this.size);let n=this.first,s=0;for(;n!==null;)e[s++]=n.key,n=n.next;return e}setWithEvicted(e,n,s=this.resetTtl){let l=null;if(this.has(e))this.set(e,n,!0,s);else{this.max>0&&this.size===this.max&&(l={...this.first},this.evict(!0));let a=this.items[e]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:n};++this.size===1?this.first=a:this.last.next=a,this.last=a}return l}set(e,n,s=!1,l=this.resetTtl){let a=this.items[e];return s||a!==void 0?(a.value=n,s===!1&&l&&(a.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.moveToEnd(a)):(this.max>0&&this.size===this.max&&this.evict(!0),a=this.items[e]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:n},++this.size===1?this.first=a:this.last.next=a,this.last=a),this}values(e=this.keys()){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=this.get(e[s]);return n}}function mx(i=1e3,e=0,n=!1){if(isNaN(i)||i<0)throw new TypeError("Invalid max value");if(isNaN(e)||e<0)throw new TypeError("Invalid ttl value");if(typeof n!="boolean")throw new TypeError("Invalid resetTtl value");return new px(i,e,n)}const gx=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function cm(i){const e=typeof i.fontSize=="number"?`${i.fontSize}px`:i.fontSize;let n=i.fontFamily;Array.isArray(i.fontFamily)||(n=i.fontFamily.split(","));for(let s=n.length-1;s>=0;s--){let l=n[s].trim();!/([\"\'])[^\'\"]+\1/.test(l)&&!gx.includes(l)&&(l=`"${l}"`),n[s]=l}return`${i.fontStyle} ${i.fontVariant} ${i.fontWeight} ${e} ${n.join(",")}`}const zu={willReadFrequently:!0},_n=class he{static get experimentalLetterSpacingSupported(){let e=he._experimentalLetterSpacingSupported;if(e===void 0){const n=Ht.get().getCanvasRenderingContext2D().prototype;e=he._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return e}constructor(e,n,s,l,a,c,h,f,m){this.text=e,this.style=n,this.width=s,this.height=l,this.lines=a,this.lineWidths=c,this.lineHeight=h,this.maxLineWidth=f,this.fontProperties=m}static measureText(e=" ",n,s=he._canvas,l=n.wordWrap){const a=`${e}-${n.styleKey}-wordWrap-${l}`;if(he._measurementCache.has(a))return he._measurementCache.get(a);const c=cm(n),h=he.measureFont(c);h.fontSize===0&&(h.fontSize=n.fontSize,h.ascent=n.fontSize);const f=he.__context;f.font=c;const g=(l?he._wordWrap(e,n,s):e).split(/(?:\r\n|\r|\n)/),y=new Array(g.length);let v=0;for(let A=0;A<g.length;A++){const R=he._measureText(g[A],n.letterSpacing,f);y[A]=R,v=Math.max(v,R)}const _=n._stroke?.width||0;let k=v+_;n.dropShadow&&(k+=n.dropShadow.distance);const C=n.lineHeight||h.fontSize;let w=Math.max(C,h.fontSize+_)+(g.length-1)*(C+n.leading);n.dropShadow&&(w+=n.dropShadow.distance);const T=new he(e,n,k,w,g,y,C+n.leading,v,h);return he._measurementCache.set(a,T),T}static _measureText(e,n,s){let l=!1;he.experimentalLetterSpacingSupported&&(he.experimentalLetterSpacing?(s.letterSpacing=`${n}px`,s.textLetterSpacing=`${n}px`,l=!0):(s.letterSpacing="0px",s.textLetterSpacing="0px"));const a=s.measureText(e);let c=a.width;const h=-a.actualBoundingBoxLeft;let m=a.actualBoundingBoxRight-h;if(c>0)if(l)c-=n,m-=n;else{const g=(he.graphemeSegmenter(e).length-1)*n;c+=g,m+=g}return Math.max(c,m)}static _wordWrap(e,n,s=he._canvas){const l=s.getContext("2d",zu);let a=0,c="",h="";const f=Object.create(null),{letterSpacing:m,whiteSpace:g}=n,y=he._collapseSpaces(g),v=he._collapseNewlines(g);let _=!y;const k=n.wordWrapWidth+m,C=he._tokenize(e);for(let w=0;w<C.length;w++){let T=C[w];if(he._isNewline(T)){if(!v){h+=he._addLine(c),_=!y,c="",a=0;continue}T=" "}if(y){const R=he.isBreakingSpace(T),N=he.isBreakingSpace(c[c.length-1]);if(R&&N)continue}const A=he._getFromCache(T,m,f,l);if(A>k)if(c!==""&&(h+=he._addLine(c),c="",a=0),he.canBreakWords(T,n.breakWords)){const R=he.wordWrapSplit(T);for(let N=0;N<R.length;N++){let H=R[N],O=H,G=1;for(;R[N+G];){const te=R[N+G];if(!he.canBreakChars(O,te,T,N,n.breakWords))H+=te;else break;O=te,G++}N+=G-1;const ae=he._getFromCache(H,m,f,l);ae+a>k&&(h+=he._addLine(c),_=!1,c="",a=0),c+=H,a+=ae}}else{c.length>0&&(h+=he._addLine(c),c="",a=0);const R=w===C.length-1;h+=he._addLine(T,!R),_=!1,c="",a=0}else A+a>k&&(_=!1,h+=he._addLine(c),c="",a=0),(c.length>0||!he.isBreakingSpace(T)||_)&&(c+=T,a+=A)}return h+=he._addLine(c,!1),h}static _addLine(e,n=!0){return e=he._trimRight(e),e=n?`${e}
`:e,e}static _getFromCache(e,n,s,l){let a=s[e];return typeof a!="number"&&(a=he._measureText(e,n,l)+n,s[e]=a),a}static _collapseSpaces(e){return e==="normal"||e==="pre-line"}static _collapseNewlines(e){return e==="normal"}static _trimRight(e){if(typeof e!="string")return"";for(let n=e.length-1;n>=0;n--){const s=e[n];if(!he.isBreakingSpace(s))break;e=e.slice(0,-1)}return e}static _isNewline(e){return typeof e!="string"?!1:he._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,n){return typeof e!="string"?!1:he._breakingSpaces.includes(e.charCodeAt(0))}static _tokenize(e){const n=[];let s="";if(typeof e!="string")return n;for(let l=0;l<e.length;l++){const a=e[l],c=e[l+1];if(he.isBreakingSpace(a,c)||he._isNewline(a)){s!==""&&(n.push(s),s=""),a==="\r"&&c===`
`?(n.push(`\r
`),l++):n.push(a);continue}s+=a}return s!==""&&n.push(s),n}static canBreakWords(e,n){return n}static canBreakChars(e,n,s,l,a){return!0}static wordWrapSplit(e){return he.graphemeSegmenter(e)}static measureFont(e){if(he._fonts[e])return he._fonts[e];const n=he._context;n.font=e;const s=n.measureText(he.METRICS_STRING+he.BASELINE_SYMBOL),l={ascent:s.actualBoundingBoxAscent,descent:s.actualBoundingBoxDescent,fontSize:s.actualBoundingBoxAscent+s.actualBoundingBoxDescent};return he._fonts[e]=l,l}static clearMetrics(e=""){e?delete he._fonts[e]:he._fonts={}}static get _canvas(){if(!he.__canvas){let e;try{const n=new OffscreenCanvas(0,0);if(n.getContext("2d",zu)?.measureText)return he.__canvas=n,n;e=Ht.get().createCanvas()}catch{e=Ht.get().createCanvas()}e.width=e.height=10,he.__canvas=e}return he.__canvas}static get _context(){return he.__context||(he.__context=he._canvas.getContext("2d",zu)),he.__context}};_n.METRICS_STRING="|q";_n.BASELINE_SYMBOL="M";_n.BASELINE_MULTIPLIER=1.4;_n.HEIGHT_MULTIPLIER=2;_n.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const i=new Intl.Segmenter;return e=>{const n=i.segment(e),s=[];let l=0;for(const a of n)s[l++]=a.segment;return s}}return i=>[...i]})();_n.experimentalLetterSpacing=!1;_n._fonts={};_n._newlines=[10,13];_n._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];_n._measurementCache=mx(1e3);let Pi=_n;const bf=[{offset:0,color:"white"},{offset:1,color:"black"}],mc=class ic{constructor(...e){this.uid=tt("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let n=yx(e);n={...n.type==="radial"?ic.defaultRadialOptions:ic.defaultLinearOptions,...pp(n)},this._textureSize=n.textureSize,this._wrapMode=n.wrapMode,n.type==="radial"?(this.center=n.center,this.outerCenter=n.outerCenter??this.center,this.innerRadius=n.innerRadius,this.outerRadius=n.outerRadius,this.scale=n.scale,this.rotation=n.rotation):(this.start=n.start,this.end=n.end),this.textureSpace=n.textureSpace,this.type=n.type,n.colorStops.forEach(l=>{this.addColorStop(l.offset,l.color)})}addColorStop(e,n){return this.colorStops.push({offset:e,color:ot.shared.setValue(n).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:e,y:n}=this.start,{x:s,y:l}=this.end,a=s-e,c=l-n;const h=a<0||c<0;if(this._wrapMode==="clamp-to-edge"){if(a<0){const w=e;e=s,s=w,a*=-1}if(c<0){const w=n;n=l,l=w,c*=-1}}const f=this.colorStops.length?this.colorStops:bf,m=this._textureSize,{canvas:g,context:y}=Af(m,1),v=h?y.createLinearGradient(this._textureSize,0,0,0):y.createLinearGradient(0,0,this._textureSize,0);Tf(v,f),y.fillStyle=v,y.fillRect(0,0,m,1),this.texture=new ze({source:new bl({resource:g,addressMode:this._wrapMode})});const _=Math.sqrt(a*a+c*c),k=Math.atan2(c,a),C=new be;C.scale(_/m,1),C.rotate(k),C.translate(e,n),this.textureSpace==="local"&&C.scale(m,m),this.transform=C}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const e=this.colorStops.length?this.colorStops:bf,n=this._textureSize,{canvas:s,context:l}=Af(n,n),{x:a,y:c}=this.center,{x:h,y:f}=this.outerCenter,m=this.innerRadius,g=this.outerRadius,y=h-g,v=f-g,_=n/(g*2),k=(a-y)*_,C=(c-v)*_,w=l.createRadialGradient(k,C,m*_,(h-y)*_,(f-v)*_,g*_);Tf(w,e),l.fillStyle=e[e.length-1].color,l.fillRect(0,0,n,n),l.fillStyle=w,l.translate(k,C),l.rotate(this.rotation),l.scale(1,this.scale),l.translate(-k,-C),l.fillRect(0,0,n,n),this.texture=new ze({source:new bl({resource:s,addressMode:this._wrapMode})});const T=new be;T.scale(1/_,1/_),T.translate(y,v),this.textureSpace==="local"&&T.scale(n,n),this.transform=T}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};mc.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};mc.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let Yn=mc;function Tf(i,e){for(let n=0;n<e.length;n++){const s=e[n];i.addColorStop(s.offset,s.color)}}function Af(i,e){const n=Ht.get().createCanvas(i,e),s=n.getContext("2d");return{canvas:n,context:s}}function yx(i){let e=i[0]??{};return(typeof e=="number"||i[1])&&(Ie("8.5.2","use options object instead"),e={type:"linear",start:{x:i[0],y:i[1]},end:{x:i[2],y:i[3]},textureSpace:i[4],textureSize:i[5]??Yn.defaultLinearOptions.textureSize}),e}const Ef={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class Nl{constructor(e,n){this.uid=tt("fillPattern"),this._tick=0,this.transform=new be,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),n&&(e.source.style.addressModeU=Ef[n].addressModeU,e.source.style.addressModeV=Ef[n].addressModeV)}setTransform(e){const n=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/n.frame.width,1/n.frame.height),this._tick++}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture=e,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var Du,Rf;function xx(){if(Rf)return Du;Rf=1,Du=n;var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function n(a){var c=[];return a.replace(e,function(h,f,m){var g=f.toLowerCase();for(m=l(m),g=="m"&&m.length>2&&(c.push([f].concat(m.splice(0,2))),g="l",f=f=="m"?"l":"L");;){if(m.length==i[g])return m.unshift(f),c.push(m);if(m.length<i[g])throw new Error("malformed path data");c.push([f].concat(m.splice(0,i[g])))}}),c}var s=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function l(a){var c=a.match(s);return c?c.map(Number):[]}return Du}var _x=xx();const vx=El(_x);function wx(i,e){const n=vx(i),s=[];let l=null,a=0,c=0;for(let h=0;h<n.length;h++){const f=n[h],m=f[0],g=f;switch(m){case"M":a=g[1],c=g[2],e.moveTo(a,c);break;case"m":a+=g[1],c+=g[2],e.moveTo(a,c);break;case"H":a=g[1],e.lineTo(a,c);break;case"h":a+=g[1],e.lineTo(a,c);break;case"V":c=g[1],e.lineTo(a,c);break;case"v":c+=g[1],e.lineTo(a,c);break;case"L":a=g[1],c=g[2],e.lineTo(a,c);break;case"l":a+=g[1],c+=g[2],e.lineTo(a,c);break;case"C":a=g[5],c=g[6],e.bezierCurveTo(g[1],g[2],g[3],g[4],a,c);break;case"c":e.bezierCurveTo(a+g[1],c+g[2],a+g[3],c+g[4],a+g[5],c+g[6]),a+=g[5],c+=g[6];break;case"S":a=g[3],c=g[4],e.bezierCurveToShort(g[1],g[2],a,c);break;case"s":e.bezierCurveToShort(a+g[1],c+g[2],a+g[3],c+g[4]),a+=g[3],c+=g[4];break;case"Q":a=g[3],c=g[4],e.quadraticCurveTo(g[1],g[2],a,c);break;case"q":e.quadraticCurveTo(a+g[1],c+g[2],a+g[3],c+g[4]),a+=g[3],c+=g[4];break;case"T":a=g[1],c=g[2],e.quadraticCurveToShort(a,c);break;case"t":a+=g[1],c+=g[2],e.quadraticCurveToShort(a,c);break;case"A":a=g[6],c=g[7],e.arcToSvg(g[1],g[2],g[3],g[4],g[5],a,c);break;case"a":a+=g[6],c+=g[7],e.arcToSvg(g[1],g[2],g[3],g[4],g[5],a,c);break;case"Z":case"z":e.closePath(),s.length>0&&(l=s.pop(),l?(a=l.startX,c=l.startY):(a=0,c=0)),l=null;break;default:Mt(`Unknown SVG path command: ${m}`)}m!=="Z"&&m!=="z"&&l===null&&(l={startX:a,startY:c},s.push(l))}return e}class Ll{constructor(e=0,n=0,s=0){this.type="circle",this.x=e,this.y=n,this.radius=s}clone(){return new Ll(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const s=this.radius*this.radius;let l=this.x-e,a=this.y-n;return l*=l,a*=a,l+a<=s}strokeContains(e,n,s,l=.5){if(this.radius===0)return!1;const a=this.x-e,c=this.y-n,h=this.radius,f=(1-l)*s,m=Math.sqrt(a*a+c*c);return m<=h+f&&m>h-(s-f)}getBounds(e){return e||(e=new et),e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class gc{constructor(e=0,n=0,s=0,l=0){this.type="ellipse",this.x=e,this.y=n,this.halfWidth=s,this.halfHeight=l}clone(){return new gc(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,n){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let s=(e-this.x)/this.halfWidth,l=(n-this.y)/this.halfHeight;return s*=s,l*=l,s+l<=1}strokeContains(e,n,s,l=.5){const{halfWidth:a,halfHeight:c}=this;if(a<=0||c<=0)return!1;const h=s*(1-l),f=s-h,m=a-f,g=c-f,y=a+h,v=c+h,_=e-this.x,k=n-this.y,C=_*_/(m*m)+k*k/(g*g),w=_*_/(y*y)+k*k/(v*v);return C>1&&w<=1}getBounds(e){return e||(e=new et),e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function Sx(i,e,n,s,l,a){const c=i-n,h=e-s,f=l-n,m=a-s,g=c*f+h*m,y=f*f+m*m;let v=-1;y!==0&&(v=g/y);let _,k;v<0?(_=n,k=s):v>1?(_=l,k=a):(_=n+v*f,k=s+v*m);const C=i-_,w=e-k;return C*C+w*w}let kx,Cx;class Os{constructor(...e){this.type="polygon";let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const s=[];for(let l=0,a=n.length;l<a;l++)s.push(n[l].x,n[l].y);n=s}this.points=n,this.closePath=!0}isClockwise(){let e=0;const n=this.points,s=n.length;for(let l=0;l<s;l+=2){const a=n[l],c=n[l+1],h=n[(l+2)%s],f=n[(l+3)%s];e+=(h-a)*(f+c)}return e<0}containsPolygon(e){const n=this.getBounds(kx),s=e.getBounds(Cx);if(!n.containsRect(s))return!1;const l=e.points;for(let a=0;a<l.length;a+=2){const c=l[a],h=l[a+1];if(!this.contains(c,h))return!1}return!0}clone(){const e=this.points.slice(),n=new Os(e);return n.closePath=this.closePath,n}contains(e,n){let s=!1;const l=this.points.length/2;for(let a=0,c=l-1;a<l;c=a++){const h=this.points[a*2],f=this.points[a*2+1],m=this.points[c*2],g=this.points[c*2+1];f>n!=g>n&&e<(m-h)*((n-f)/(g-f))+h&&(s=!s)}return s}strokeContains(e,n,s,l=.5){const a=s*s,c=a*(1-l),h=a-c,{points:f}=this,m=f.length-(this.closePath?0:2);for(let g=0;g<m;g+=2){const y=f[g],v=f[g+1],_=f[(g+2)%f.length],k=f[(g+3)%f.length],C=Sx(e,n,y,v,_,k),w=Math.sign((_-y)*(n-v)-(k-v)*(e-y));if(C<=(w<0?h:c))return!0}return!1}getBounds(e){e||(e=new et);const n=this.points;let s=1/0,l=-1/0,a=1/0,c=-1/0;for(let h=0,f=n.length;h<f;h+=2){const m=n[h],g=n[h+1];s=m<s?m:s,l=m>l?m:l,a=g<a?g:a,c=g>c?g:c}return e.x=s,e.width=l-s,e.y=a,e.height=c-a,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return Ie("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return Ie("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const wl=(i,e,n,s,l,a,c)=>{const h=i-n,f=e-s,m=Math.sqrt(h*h+f*f);return m>=l-a&&m<=l+c};class yc{constructor(e=0,n=0,s=0,l=0,a=20){this.type="roundedRectangle",this.x=e,this.y=n,this.width=s,this.height=l,this.radius=a}getBounds(e){return e||(e=new et),e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new yc(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const s=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+s&&n<=this.y+this.height-s||e>=this.x+s&&e<=this.x+this.width-s)return!0;let l=e-(this.x+s),a=n-(this.y+s);const c=s*s;if(l*l+a*a<=c||(l=e-(this.x+this.width-s),l*l+a*a<=c)||(a=n-(this.y+this.height-s),l*l+a*a<=c)||(l=e-(this.x+s),l*l+a*a<=c))return!0}return!1}strokeContains(e,n,s,l=.5){const{x:a,y:c,width:h,height:f,radius:m}=this,g=s*(1-l),y=s-g,v=a+m,_=c+m,k=h-m*2,C=f-m*2,w=a+h,T=c+f;return(e>=a-g&&e<=a+y||e>=w-y&&e<=w+g)&&n>=_&&n<=_+C||(n>=c-g&&n<=c+y||n>=T-y&&n<=T+g)&&e>=v&&e<=v+k?!0:e<v&&n<_&&wl(e,n,v,_,m,y,g)||e>w-m&&n<_&&wl(e,n,w-m,_,m,y,g)||e>w-m&&n>T-m&&wl(e,n,w-m,T-m,m,y,g)||e<v&&n>T-m&&wl(e,n,v,T-m,m,y,g)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const hm={};function Px(i,e,n){let s=2166136261;for(let l=0;l<e;l++)s^=i[l].uid,s=Math.imul(s,16777619),s>>>=0;return hm[s]||Mx(i,e,s,n)}function Mx(i,e,n,s){const l={};let a=0;for(let h=0;h<s;h++){const f=h<e?i[h]:ze.EMPTY.source;l[a++]=f.source,l[a++]=f.style}const c=new Cl(l);return hm[n]=c,c}class If{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function Nf(i,e){const n=i.byteLength/8|0,s=new Float64Array(i,0,n);new Float64Array(e,0,n).set(s);const a=i.byteLength-n*8;if(a>0){const c=new Uint8Array(i,n*8,a);new Uint8Array(e,n*8,a).set(c)}}const bx={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var Tx=(i=>(i[i.DISABLED=0]="DISABLED",i[i.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",i[i.MASK_ACTIVE=2]="MASK_ACTIVE",i[i.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",i[i.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",i[i.NONE=5]="NONE",i))(Tx||{});function Lf(i,e){return e.alphaMode==="no-premultiply-alpha"&&bx[i]||i}const Ax=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Ex(i){let e="";for(let n=0;n<i;++n)n>0&&(e+=`
else `),n<i-1&&(e+=`if(test == ${n}.0){}`);return e}function Rx(i,e){if(i===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const s=Ax.replace(/%forloop%/gi,Ex(i));if(e.shaderSource(n,s),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))i=i/2|0;else break}}finally{e.deleteShader(n)}return i}let Si=null;function Ix(){if(Si)return Si;const i=Hp();return Si=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),Si=Rx(Si,i),i.getExtension("WEBGL_lose_context")?.loseContext(),Si}class Nx{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const n=this.textures[e];this.textures[e]=null,this.ids[n.uid]=null}this.count=0}}class Lx{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new Nx,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const Gs=[];let Tl=0;qs.register({clear:()=>{if(Gs.length>0)for(const i of Gs)i&&i.destroy();Gs.length=0,Tl=0}});function Ff(){return Tl>0?Gs[--Tl]:new Lx}function Bf(i){Gs[Tl++]=i}let As=0;const dm=class fm{constructor(e){this.uid=tt("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],e={...fm.defaultOptions,...e},e.maxTextures||(Ie("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),e.maxTextures=Ix());const{maxTextures:n,attributesInitialSize:s,indicesInitialSize:l}=e;this.attributeBuffer=new If(s*4),this.indexBuffer=new Uint16Array(l),this.maxTextures=n}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)Bf(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,n){const s=e._batch.textures.ids[n._source.uid];return!s&&s!==0?!1:(e._textureId=s,e.texture=n,!0)}updateElement(e){this.dirty=!0;const n=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,n.float32View,n.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,n.float32View,n.uint32View,e._attributeStart,e._textureId)}break(e){const n=this._elements;if(!n[this.elementStart])return;let s=Ff(),l=s.textures;l.clear();const a=n[this.elementStart];let c=Lf(a.blendMode,a.texture._source),h=a.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const f=this.attributeBuffer.float32View,m=this.attributeBuffer.uint32View,g=this.indexBuffer;let y=this._batchIndexSize,v=this._batchIndexStart,_="startBatch";const k=this.maxTextures;for(let C=this.elementStart;C<this.elementSize;++C){const w=n[C];n[C]=null;const A=w.texture._source,R=Lf(w.blendMode,A),N=c!==R||h!==w.topology;if(A._batchTick===As&&!N){w._textureId=A._textureBindLocation,y+=w.indexSize,w.packAsQuad?(this.packQuadAttributes(w,f,m,w._attributeStart,w._textureId),this.packQuadIndex(g,w._indexStart,w._attributeStart/this.vertexSize)):(this.packAttributes(w,f,m,w._attributeStart,w._textureId),this.packIndex(w,g,w._indexStart,w._attributeStart/this.vertexSize)),w._batch=s;continue}A._batchTick=As,(l.count>=k||N)&&(this._finishBatch(s,v,y-v,l,c,h,e,_),_="renderBatch",v=y,c=R,h=w.topology,s=Ff(),l=s.textures,l.clear(),++As),w._textureId=A._textureBindLocation=l.count,l.ids[A.uid]=l.count,l.textures[l.count++]=A,w._batch=s,y+=w.indexSize,w.packAsQuad?(this.packQuadAttributes(w,f,m,w._attributeStart,w._textureId),this.packQuadIndex(g,w._indexStart,w._attributeStart/this.vertexSize)):(this.packAttributes(w,f,m,w._attributeStart,w._textureId),this.packIndex(w,g,w._indexStart,w._attributeStart/this.vertexSize))}l.count>0&&(this._finishBatch(s,v,y-v,l,c,h,e,_),v=y,++As),this.elementStart=this.elementSize,this._batchIndexStart=v,this._batchIndexSize=y}_finishBatch(e,n,s,l,a,c,h,f){e.gpuBindGroup=null,e.bindGroup=null,e.action=f,e.batcher=this,e.textures=l,e.blendMode=a,e.topology=c,e.start=n,e.size=s,++As,this.batches[this.batchIndex++]=e,h.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const n=Math.max(e,this.attributeBuffer.size*2),s=new If(n);Nf(this.attributeBuffer.rawBinaryData,s.rawBinaryData),this.attributeBuffer=s}_resizeIndexBuffer(e){const n=this.indexBuffer;let s=Math.max(e,n.length*1.5);s+=s%2;const l=s>65535?new Uint32Array(s):new Uint16Array(s);if(l.BYTES_PER_ELEMENT!==n.BYTES_PER_ELEMENT)for(let a=0;a<n.length;a++)l[a]=n[a];else Nf(n.buffer,l.buffer);this.indexBuffer=l}packQuadIndex(e,n,s){e[n]=s+0,e[n+1]=s+1,e[n+2]=s+2,e[n+3]=s+0,e[n+4]=s+2,e[n+5]=s+3}packIndex(e,n,s,l){const a=e.indices,c=e.indexSize,h=e.indexOffset,f=e.attributeOffset;for(let m=0;m<c;m++)n[s++]=l+a[m+h]-f}destroy(e={}){if(this.batches!==null){for(let n=0;n<this.batchIndex;n++)Bf(this.batches[n]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,e.shader&&(this.shader?.destroy(),this.shader=null);for(let n=0;n<this._elements.length;n++)this._elements[n]&&(this._elements[n]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};dm.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let Fx=dm;var Ft=(i=>(i[i.MAP_READ=1]="MAP_READ",i[i.MAP_WRITE=2]="MAP_WRITE",i[i.COPY_SRC=4]="COPY_SRC",i[i.COPY_DST=8]="COPY_DST",i[i.INDEX=16]="INDEX",i[i.VERTEX=32]="VERTEX",i[i.UNIFORM=64]="UNIFORM",i[i.STORAGE=128]="STORAGE",i[i.INDIRECT=256]="INDIRECT",i[i.QUERY_RESOLVE=512]="QUERY_RESOLVE",i[i.STATIC=1024]="STATIC",i))(Ft||{});class Ys extends Tn{constructor(e){let{data:n,size:s}=e;const{usage:l,label:a,shrinkToFit:c}=e;super(),this._gpuData=Object.create(null),this._gcLastUsed=-1,this.autoGarbageCollect=!0,this.uid=tt("buffer"),this._resourceType="buffer",this._resourceId=tt("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,n instanceof Array&&(n=new Float32Array(n)),this._data=n,s??(s=n?.byteLength);const h=!!n;this.descriptor={size:s,usage:l,mappedAtCreation:h,label:a},this.shrinkToFit=c??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Ft.STATIC)}set static(e){e?this.descriptor.usage|=Ft.STATIC:this.descriptor.usage&=~Ft.STATIC}setDataWithSize(e,n,s){if(this._updateID++,this._updateSize=n*e.BYTES_PER_ELEMENT,this._data===e){s&&this.emit("update",this);return}const l=this._data;if(this._data=e,this._dataInt32=null,!l||l.length!==e.length){!this.shrinkToFit&&l&&e.byteLength<l.byteLength?s&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=tt("resource"),this.emit("change",this));return}s&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}unload(){this.emit("unload",this);for(const e in this._gpuData)this._gpuData[e]?.destroy();this._gpuData=Object.create(null)}destroy(){this.destroyed=!0,this.unload(),this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function pm(i,e){if(!(i instanceof Ys)){let n=e?Ft.INDEX:Ft.VERTEX;i instanceof Array&&(e?(i=new Uint32Array(i),n=Ft.INDEX|Ft.COPY_DST):(i=new Float32Array(i),n=Ft.VERTEX|Ft.COPY_DST)),i=new Ys({data:i,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:n})}return i}function Bx(i,e,n){const s=i.getAttribute(e);if(!s)return n.minX=0,n.minY=0,n.maxX=0,n.maxY=0,n;const l=s.buffer.data;let a=1/0,c=1/0,h=-1/0,f=-1/0;const m=l.BYTES_PER_ELEMENT,g=(s.offset||0)/m,y=(s.stride||8)/m;for(let v=g;v<l.length;v+=y){const _=l[v],k=l[v+1];_>h&&(h=_),k>f&&(f=k),_<a&&(a=_),k<c&&(c=k)}return n.minX=a,n.minY=c,n.maxX=h,n.maxY=f,n}function zx(i){return(i instanceof Ys||Array.isArray(i)||i.BYTES_PER_ELEMENT)&&(i={buffer:i}),i.buffer=pm(i.buffer,!1),i}class Dx extends Tn{constructor(e={}){super(),this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this.uid=tt("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new yn,this._boundsDirty=!0;const{attributes:n,indexBuffer:s,topology:l}=e;if(this.buffers=[],this.attributes={},n)for(const a in n)this.addAttribute(a,n[a]);this.instanceCount=e.instanceCount??1,s&&this.addIndex(s),this.topology=l||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const n=this.attributes[e];return n.buffer.data.length/(n.stride/4||n.size)}return 0}addAttribute(e,n){const s=zx(n);this.buffers.indexOf(s.buffer)===-1&&(this.buffers.push(s.buffer),s.buffer.on("update",this.onBufferUpdate,this),s.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=s}addIndex(e){this.indexBuffer=pm(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,Bx(this,"aPosition",this._bounds)):this._bounds}unload(){this.emit("unload",this);for(const e in this._gpuData)this._gpuData[e]?.destroy();this._gpuData=Object.create(null)}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(n=>n.destroy()),this.unload(),this.indexBuffer?.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const Ox=new Float32Array(1),Gx=new Uint32Array(1);class Ux extends Dx{constructor(){const n=new Ys({data:Ox,label:"attribute-batch-buffer",usage:Ft.VERTEX|Ft.COPY_DST,shrinkToFit:!1}),s=new Ys({data:Gx,label:"index-batch-buffer",usage:Ft.INDEX|Ft.COPY_DST,shrinkToFit:!1}),l=24;super({attributes:{aPosition:{buffer:n,format:"float32x2",stride:l,offset:0},aUV:{buffer:n,format:"float32x2",stride:l,offset:8},aColor:{buffer:n,format:"unorm8x4",stride:l,offset:16},aTextureIdAndRound:{buffer:n,format:"uint16x2",stride:l,offset:20}},indexBuffer:s})}}function zf(i,e,n){if(i)for(const s in i){const l=s.toLocaleLowerCase(),a=e[l];if(a){let c=i[s];s==="header"&&(c=c.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),n&&a.push(`//----${n}----//`),a.push(c)}else Mt(`${s} placement hook does not exist in shader`)}}const jx=/\{\{(.*?)\}\}/g;function Df(i){const e={};return(i.match(jx)?.map(s=>s.replace(/[{()}]/g,""))??[]).forEach(s=>{e[s]=[]}),e}function Of(i,e){let n;const s=/@in\s+([^;]+);/g;for(;(n=s.exec(i))!==null;)e.push(n[1])}function Gf(i,e,n=!1){const s=[];Of(e,s),i.forEach(h=>{h.header&&Of(h.header,s)});const l=s;n&&l.sort();const a=l.map((h,f)=>`       @location(${f}) ${h},`).join(`
`);let c=e.replace(/@in\s+[^;]+;\s*/g,"");return c=c.replace("{{in}}",`
${a}
`),c}function Uf(i,e){let n;const s=/@out\s+([^;]+);/g;for(;(n=s.exec(i))!==null;)e.push(n[1])}function Wx(i){const n=/\b(\w+)\s*:/g.exec(i);return n?n[1]:""}function Vx(i){const e=/@.*?\s+/g;return i.replace(e,"")}function Hx(i,e){const n=[];Uf(e,n),i.forEach(f=>{f.header&&Uf(f.header,n)});let s=0;const l=n.sort().map(f=>f.indexOf("builtin")>-1?f:`@location(${s++}) ${f}`).join(`,
`),a=n.sort().map(f=>`       var ${Vx(f)};`).join(`
`),c=`return VSOutput(
            ${n.sort().map(f=>` ${Wx(f)}`).join(`,
`)});`;let h=e.replace(/@out\s+[^;]+;\s*/g,"");return h=h.replace("{{struct}}",`
${l}
`),h=h.replace("{{start}}",`
${a}
`),h=h.replace("{{return}}",`
${c}
`),h}function jf(i,e){let n=i;for(const s in e){const l=e[s];l.join(`
`).length?n=n.replace(`{{${s}}}`,`//-----${s} START-----//
${l.join(`
`)}
//----${s} FINISH----//`):n=n.replace(`{{${s}}}`,"")}return n}const xr=Object.create(null),Ou=new Map;let $x=0;function Yx({template:i,bits:e}){const n=mm(i,e);if(xr[n])return xr[n];const{vertex:s,fragment:l}=qx(i,e);return xr[n]=gm(s,l,e),xr[n]}function Xx({template:i,bits:e}){const n=mm(i,e);return xr[n]||(xr[n]=gm(i.vertex,i.fragment,e)),xr[n]}function qx(i,e){const n=e.map(c=>c.vertex).filter(c=>!!c),s=e.map(c=>c.fragment).filter(c=>!!c);let l=Gf(n,i.vertex,!0);l=Hx(n,l);const a=Gf(s,i.fragment,!0);return{vertex:l,fragment:a}}function mm(i,e){return e.map(n=>(Ou.has(n)||Ou.set(n,$x++),Ou.get(n))).sort((n,s)=>n-s).join("-")+i.vertex+i.fragment}function gm(i,e,n){const s=Df(i),l=Df(e);return n.forEach(a=>{zf(a.vertex,s,a.name),zf(a.fragment,l,a.name)}),{vertex:jf(i,s),fragment:jf(e,l)}}const Qx=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,Kx=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,Zx=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,Jx=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,e_={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},t_={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function n_({bits:i,name:e}){const n=Yx({template:{fragment:Kx,vertex:Qx},bits:[e_,...i]});return Il.from({name:e,vertex:{source:n.vertex,entryPoint:"main"},fragment:{source:n.fragment,entryPoint:"main"}})}function r_({bits:i,name:e}){return new Yp({name:e,...Xx({template:{vertex:Zx,fragment:Jx},bits:[t_,...i]})})}const i_={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},s_={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},Gu={};function o_(i){const e=[];if(i===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let n=0;for(let s=0;s<i;s++)e.push(`@group(1) @binding(${n++}) var textureSource${s+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${n++}) var textureSampler${s+1}: sampler;`)}return e.join(`
`)}function l_(i){const e=[];if(i===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let n=0;n<i;n++)n===i-1?e.push("  default:{"):e.push(`  case ${n}:{`),e.push(`      outColor = textureSampleGrad(textureSource${n+1}, textureSampler${n+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function a_(i){return Gu[i]||(Gu[i]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${o_(i)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${l_(i)}
            `}}),Gu[i]}const Uu={};function u_(i){const e=[];for(let n=0;n<i;n++)n>0&&e.push("else"),n<i-1&&e.push(`if(vTextureId < ${n}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${n}], vUV);`),e.push("}");return e.join(`
`)}function c_(i){return Uu[i]||(Uu[i]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${i}];

            `,main:`

                ${u_(i)}
            `}}),Uu[i]}const h_={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},d_={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Wf={};function f_(i){let e=Wf[i];if(e)return e;const n=new Int32Array(i);for(let s=0;s<i;s++)n[s]=s;return e=Wf[i]=new Kp({uTextures:{value:n,type:"i32",size:i}},{isStatic:!0}),e}class Vf extends pc{constructor(e){const n=r_({name:"batch",bits:[s_,c_(e),d_]}),s=n_({name:"batch",bits:[i_,a_(e),h_]});super({glProgram:n,gpuProgram:s,resources:{batchSamplers:f_(e)}}),this.maxTextures=e}}let Es=null;const ym=class xm extends Fx{constructor(e){super(e),this.geometry=new Ux,this.name=xm.extension.name,this.vertexSize=6,Es??(Es=new Vf(e.maxTextures)),this.shader=Es}packAttributes(e,n,s,l,a){const c=a<<16|e.roundPixels&65535,h=e.transform,f=h.a,m=h.b,g=h.c,y=h.d,v=h.tx,_=h.ty,{positions:k,uvs:C}=e,w=e.color,T=e.attributeOffset,A=T+e.attributeSize;for(let R=T;R<A;R++){const N=R*2,H=k[N],O=k[N+1];n[l++]=f*H+g*O+v,n[l++]=y*O+m*H+_,n[l++]=C[N],n[l++]=C[N+1],s[l++]=w,s[l++]=c}}packQuadAttributes(e,n,s,l,a){const c=e.texture,h=e.transform,f=h.a,m=h.b,g=h.c,y=h.d,v=h.tx,_=h.ty,k=e.bounds,C=k.maxX,w=k.minX,T=k.maxY,A=k.minY,R=c.uvs,N=e.color,H=a<<16|e.roundPixels&65535;n[l+0]=f*w+g*A+v,n[l+1]=y*A+m*w+_,n[l+2]=R.x0,n[l+3]=R.y0,s[l+4]=N,s[l+5]=H,n[l+6]=f*C+g*A+v,n[l+7]=y*A+m*C+_,n[l+8]=R.x1,n[l+9]=R.y1,s[l+10]=N,s[l+11]=H,n[l+12]=f*C+g*T+v,n[l+13]=y*T+m*C+_,n[l+14]=R.x2,n[l+15]=R.y2,s[l+16]=N,s[l+17]=H,n[l+18]=f*w+g*T+v,n[l+19]=y*T+m*w+_,n[l+20]=R.x3,n[l+21]=R.y3,s[l+22]=N,s[l+23]=H}_updateMaxTextures(e){this.shader.maxTextures!==e&&(Es=new Vf(e),this.shader=Es)}destroy(){this.shader=null,super.destroy()}};ym.extension={type:[Le.Batcher],name:"default"};let p_=ym;class m_{constructor(e){this.items=Object.create(null);const{renderer:n,type:s,onUnload:l,priority:a,name:c}=e;this._renderer=n,n.gc.addResourceHash(this,"items",s,a??0),this._onUnload=l,this.name=c}add(e){return this.items[e.uid]?!1:(this.items[e.uid]=e,e.once("unload",this.remove,this),e._gcLastUsed=this._renderer.gc.now,!0)}remove(e,...n){if(!this.items[e.uid])return;const s=e._gpuData[this._renderer.uid];s&&(this._onUnload?.(e,...n),s.destroy(),e._gpuData[this._renderer.uid]=null,this.items[e.uid]=null)}removeAll(...e){Object.values(this.items).forEach(n=>n&&this.remove(n,...e))}destroy(...e){this.removeAll(...e),this.items=Object.create(null),this._renderer=null,this._onUnload=null}}function g_(i,e,n,s,l,a,c,h=null){let f=0;n*=e,l*=a;const m=h.a,g=h.b,y=h.c,v=h.d,_=h.tx,k=h.ty;for(;f<c;){const C=i[n],w=i[n+1];s[l]=m*C+y*w+_,s[l+1]=g*C+v*w+k,l+=a,n+=e,f++}}function y_(i,e,n,s){let l=0;for(e*=n;l<s;)i[e]=0,i[e+1]=0,e+=n,l++}function _m(i,e,n,s,l){const a=e.a,c=e.b,h=e.c,f=e.d,m=e.tx,g=e.ty;n||(n=0),s||(s=2),l||(l=i.length/s-n);let y=n*s;for(let v=0;v<l;v++){const _=i[y],k=i[y+1];i[y]=a*_+h*k+m,i[y+1]=c*_+f*k+g,y+=s}}const x_=new be;class vm{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,n=e>>16|e&65280|(e&255)<<16,s=this.renderable;return s?Cp(n,s.groupColor)+(this.alpha*s.groupAlpha*255<<24):n+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||x_}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData,e.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const Xs={extension:{type:Le.ShapeBuilder,name:"circle"},build(i,e){let n,s,l,a,c,h;if(i.type==="circle"){const N=i;if(c=h=N.radius,c<=0)return!1;n=N.x,s=N.y,l=a=0}else if(i.type==="ellipse"){const N=i;if(c=N.halfWidth,h=N.halfHeight,c<=0||h<=0)return!1;n=N.x,s=N.y,l=a=0}else{const N=i,H=N.width/2,O=N.height/2;n=N.x+H,s=N.y+O,c=h=Math.max(0,Math.min(N.radius,Math.min(H,O))),l=H-c,a=O-h}if(l<0||a<0)return!1;const f=Math.ceil(2.3*Math.sqrt(c+h)),m=f*8+(l?4:0)+(a?4:0);if(m===0)return!1;if(f===0)return e[0]=e[6]=n+l,e[1]=e[3]=s+a,e[2]=e[4]=n-l,e[5]=e[7]=s-a,!0;let g=0,y=f*4+(l?2:0)+2,v=y,_=m,k=l+c,C=a,w=n+k,T=n-k,A=s+C;if(e[g++]=w,e[g++]=A,e[--y]=A,e[--y]=T,a){const N=s-C;e[v++]=T,e[v++]=N,e[--_]=N,e[--_]=w}for(let N=1;N<f;N++){const H=Math.PI/2*(N/f),O=l+Math.cos(H)*c,G=a+Math.sin(H)*h,ae=n+O,te=n-O,Z=s+G,ne=s-G;e[g++]=ae,e[g++]=Z,e[--y]=Z,e[--y]=te,e[v++]=te,e[v++]=ne,e[--_]=ne,e[--_]=ae}k=l,C=a+h,w=n+k,T=n-k,A=s+C;const R=s-C;return e[g++]=w,e[g++]=A,e[--_]=R,e[--_]=w,l&&(e[g++]=T,e[g++]=A,e[--_]=R,e[--_]=T),!0},triangulate(i,e,n,s,l,a){if(i.length===0)return;let c=0,h=0;for(let g=0;g<i.length;g+=2)c+=i[g],h+=i[g+1];c/=i.length/2,h/=i.length/2;let f=s;e[f*n]=c,e[f*n+1]=h;const m=f++;for(let g=0;g<i.length;g+=2)e[f*n]=i[g],e[f*n+1]=i[g+1],g>0&&(l[a++]=f,l[a++]=m,l[a++]=f-1),f++;l[a++]=m+1,l[a++]=m,l[a++]=f-1}},__={...Xs,extension:{...Xs.extension,name:"ellipse"}},v_={...Xs,extension:{...Xs.extension,name:"roundedRectangle"}},wm=1e-4,Hf=1e-4;function w_(i){const e=i.length;if(e<6)return 1;let n=0;for(let s=0,l=i[e-2],a=i[e-1];s<e;s+=2){const c=i[s],h=i[s+1];n+=(c-l)*(h+a),l=c,a=h}return n<0?-1:1}function $f(i,e,n,s,l,a,c,h){const f=i-n*l,m=e-s*l,g=i+n*a,y=e+s*a;let v,_;c?(v=s,_=-n):(v=-s,_=n);const k=f+v,C=m+_,w=g+v,T=y+_;return h.push(k,C),h.push(w,T),2}function zr(i,e,n,s,l,a,c,h){const f=n-i,m=s-e;let g=Math.atan2(f,m),y=Math.atan2(l-i,a-e);h&&g<y?g+=Math.PI*2:!h&&g>y&&(y+=Math.PI*2);let v=g;const _=y-g,k=Math.abs(_),C=Math.sqrt(f*f+m*m),w=(15*k*Math.sqrt(C)/Math.PI>>0)+1,T=_/w;if(v+=T,h){c.push(i,e),c.push(n,s);for(let A=1,R=v;A<w;A++,R+=T)c.push(i,e),c.push(i+Math.sin(R)*C,e+Math.cos(R)*C);c.push(i,e),c.push(l,a)}else{c.push(n,s),c.push(i,e);for(let A=1,R=v;A<w;A++,R+=T)c.push(i+Math.sin(R)*C,e+Math.cos(R)*C),c.push(i,e);c.push(l,a),c.push(i,e)}return w*2}function S_(i,e,n,s,l,a){const c=wm;if(i.length===0)return;const h=e;let f=h.alignment;if(e.alignment!==.5){let Y=w_(i);f=(f-.5)*Y+.5}const m=new St(i[0],i[1]),g=new St(i[i.length-2],i[i.length-1]),y=s,v=Math.abs(m.x-g.x)<c&&Math.abs(m.y-g.y)<c;if(y){i=i.slice(),v&&(i.pop(),i.pop(),g.set(i[i.length-2],i[i.length-1]));const Y=(m.x+g.x)*.5,J=(g.y+m.y)*.5;i.unshift(Y,J),i.push(Y,J)}const _=l,k=i.length/2;let C=i.length;const w=_.length/2,T=h.width/2,A=T*T,R=h.miterLimit*h.miterLimit;let N=i[0],H=i[1],O=i[2],G=i[3],ae=0,te=0,Z=-(H-G),ne=N-O,ve=0,oe=0,ke=Math.sqrt(Z*Z+ne*ne);Z/=ke,ne/=ke,Z*=T,ne*=T;const Ee=f,$=(1-Ee)*2,q=Ee*2;y||(h.cap==="round"?C+=zr(N-Z*($-q)*.5,H-ne*($-q)*.5,N-Z*$,H-ne*$,N+Z*q,H+ne*q,_,!0)+2:h.cap==="square"&&(C+=$f(N,H,Z,ne,$,q,!0,_))),_.push(N-Z*$,H-ne*$),_.push(N+Z*q,H+ne*q);for(let Y=1;Y<k-1;++Y){N=i[(Y-1)*2],H=i[(Y-1)*2+1],O=i[Y*2],G=i[Y*2+1],ae=i[(Y+1)*2],te=i[(Y+1)*2+1],Z=-(H-G),ne=N-O,ke=Math.sqrt(Z*Z+ne*ne),Z/=ke,ne/=ke,Z*=T,ne*=T,ve=-(G-te),oe=O-ae,ke=Math.sqrt(ve*ve+oe*oe),ve/=ke,oe/=ke,ve*=T,oe*=T;const J=O-N,b=H-G,z=O-ae,pe=te-G,_e=J*z+b*pe,Q=b*z-pe*J,de=Q<0;if(Math.abs(Q)<.001*Math.abs(_e)){_.push(O-Z*$,G-ne*$),_.push(O+Z*q,G+ne*q),_e>=0&&(h.join==="round"?C+=zr(O,G,O-Z*$,G-ne*$,O-ve*$,G-oe*$,_,!1)+4:C+=2,_.push(O-ve*q,G-oe*q),_.push(O+ve*$,G+oe*$));continue}const me=(-Z+N)*(-ne+G)-(-Z+O)*(-ne+H),Se=(-ve+ae)*(-oe+G)-(-ve+O)*(-oe+te),Pe=(J*Se-z*me)/Q,Ne=(pe*me-b*Se)/Q,bt=(Pe-O)*(Pe-O)+(Ne-G)*(Ne-G),ft=O+(Pe-O)*$,Xe=G+(Ne-G)*$,Bt=O-(Pe-O)*q,$t=G-(Ne-G)*q,Xn=Math.min(J*J+b*b,z*z+pe*pe),sn=de?$:q,_r=Xn+sn*sn*A;bt<=_r?h.join==="bevel"||bt/A>R?(de?(_.push(ft,Xe),_.push(O+Z*q,G+ne*q),_.push(ft,Xe),_.push(O+ve*q,G+oe*q)):(_.push(O-Z*$,G-ne*$),_.push(Bt,$t),_.push(O-ve*$,G-oe*$),_.push(Bt,$t)),C+=2):h.join==="round"?de?(_.push(ft,Xe),_.push(O+Z*q,G+ne*q),C+=zr(O,G,O+Z*q,G+ne*q,O+ve*q,G+oe*q,_,!0)+4,_.push(ft,Xe),_.push(O+ve*q,G+oe*q)):(_.push(O-Z*$,G-ne*$),_.push(Bt,$t),C+=zr(O,G,O-Z*$,G-ne*$,O-ve*$,G-oe*$,_,!1)+4,_.push(O-ve*$,G-oe*$),_.push(Bt,$t)):(_.push(ft,Xe),_.push(Bt,$t)):(_.push(O-Z*$,G-ne*$),_.push(O+Z*q,G+ne*q),h.join==="round"?de?C+=zr(O,G,O+Z*q,G+ne*q,O+ve*q,G+oe*q,_,!0)+2:C+=zr(O,G,O-Z*$,G-ne*$,O-ve*$,G-oe*$,_,!1)+2:h.join==="miter"&&bt/A<=R&&(de?(_.push(Bt,$t),_.push(Bt,$t)):(_.push(ft,Xe),_.push(ft,Xe)),C+=2),_.push(O-ve*$,G-oe*$),_.push(O+ve*q,G+oe*q),C+=2)}N=i[(k-2)*2],H=i[(k-2)*2+1],O=i[(k-1)*2],G=i[(k-1)*2+1],Z=-(H-G),ne=N-O,ke=Math.sqrt(Z*Z+ne*ne),Z/=ke,ne/=ke,Z*=T,ne*=T,_.push(O-Z*$,G-ne*$),_.push(O+Z*q,G+ne*q),y||(h.cap==="round"?C+=zr(O-Z*($-q)*.5,G-ne*($-q)*.5,O-Z*$,G-ne*$,O+Z*q,G+ne*q,_,!1)+2:h.cap==="square"&&(C+=$f(O,G,Z,ne,$,q,!1,_)));const K=Hf*Hf;for(let Y=w;Y<C+w-2;++Y)N=_[Y*2],H=_[Y*2+1],O=_[(Y+1)*2],G=_[(Y+1)*2+1],ae=_[(Y+2)*2],te=_[(Y+2)*2+1],!(Math.abs(N*(G-te)+O*(te-H)+ae*(H-G))<K)&&a.push(Y,Y+1,Y+2)}function k_(i,e,n,s){const l=wm;if(i.length===0)return;const a=i[0],c=i[1],h=i[i.length-2],f=i[i.length-1],m=e||Math.abs(a-h)<l&&Math.abs(c-f)<l,g=n,y=i.length/2,v=g.length/2;for(let _=0;_<y;_++)g.push(i[_*2]),g.push(i[_*2+1]);for(let _=0;_<y-1;_++)s.push(v+_,v+_+1);m&&s.push(v+y-1,v)}function Sm(i,e,n,s,l,a,c){const h=lx(i,e,2);if(!h)return;for(let m=0;m<h.length;m+=3)a[c++]=h[m]+l,a[c++]=h[m+1]+l,a[c++]=h[m+2]+l;let f=l*s;for(let m=0;m<i.length;m+=2)n[f]=i[m],n[f+1]=i[m+1],f+=s}const C_=[],P_={extension:{type:Le.ShapeBuilder,name:"polygon"},build(i,e){for(let n=0;n<i.points.length;n++)e[n]=i.points[n];return!0},triangulate(i,e,n,s,l,a){Sm(i,C_,e,n,s,l,a)}},M_={extension:{type:Le.ShapeBuilder,name:"rectangle"},build(i,e){const n=i,s=n.x,l=n.y,a=n.width,c=n.height;return a>0&&c>0?(e[0]=s,e[1]=l,e[2]=s+a,e[3]=l,e[4]=s+a,e[5]=l+c,e[6]=s,e[7]=l+c,!0):!1},triangulate(i,e,n,s,l,a){let c=0;s*=n,e[s+c]=i[0],e[s+c+1]=i[1],c+=n,e[s+c]=i[2],e[s+c+1]=i[3],c+=n,e[s+c]=i[6],e[s+c+1]=i[7],c+=n,e[s+c]=i[4],e[s+c+1]=i[5],c+=n;const h=s/n;l[a++]=h,l[a++]=h+1,l[a++]=h+2,l[a++]=h+1,l[a++]=h+3,l[a++]=h+2}},b_={extension:{type:Le.ShapeBuilder,name:"triangle"},build(i,e){return e[0]=i.x,e[1]=i.y,e[2]=i.x2,e[3]=i.y2,e[4]=i.x3,e[5]=i.y3,!0},triangulate(i,e,n,s,l,a){let c=0;s*=n,e[s+c]=i[0],e[s+c+1]=i[1],c+=n,e[s+c]=i[2],e[s+c+1]=i[3],c+=n,e[s+c]=i[4],e[s+c+1]=i[5];const h=s/n;l[a++]=h,l[a++]=h+1,l[a++]=h+2}},T_=new be,A_=new et;function E_(i,e,n,s){const l=e.matrix?i.copyFrom(e.matrix).invert():i.identity();if(e.textureSpace==="local"){const c=n.getBounds(A_);e.width&&c.pad(e.width);const{x:h,y:f}=c,m=1/c.width,g=1/c.height,y=-h*m,v=-f*g,_=l.a,k=l.b,C=l.c,w=l.d;l.a*=m,l.b*=m,l.c*=g,l.d*=g,l.tx=y*_+v*C+l.tx,l.ty=y*k+v*w+l.ty}else l.translate(e.texture.frame.x,e.texture.frame.y),l.scale(1/e.texture.source.width,1/e.texture.source.height);const a=e.texture.source.style;return!(e.fill instanceof Yn)&&a.addressMode==="clamp-to-edge"&&(a.addressMode="repeat",a.update()),s&&l.append(T_.copyFrom(s).invert()),l}const Fl={};rn.handleByMap(Le.ShapeBuilder,Fl);rn.add(M_,P_,b_,Xs,__,v_);const R_=new et,I_=new be;function N_(i,e){const{geometryData:n,batches:s}=e;s.length=0,n.indices.length=0,n.vertices.length=0,n.uvs.length=0;for(let l=0;l<i.instructions.length;l++){const a=i.instructions[l];if(a.action==="texture")L_(a.data,s,n);else if(a.action==="fill"||a.action==="stroke"){const c=a.action==="stroke",h=a.data.path.shapePath,f=a.data.style,m=a.data.hole;c&&m&&Yf(m.shapePath,f,!0,s,n),m&&(h.shapePrimitives[h.shapePrimitives.length-1].holes=m.shapePath.shapePrimitives),Yf(h,f,c,s,n)}}}function L_(i,e,n){const s=[],l=Fl.rectangle,a=R_;a.x=i.dx,a.y=i.dy,a.width=i.dw,a.height=i.dh;const c=i.transform;if(!l.build(a,s))return;const{vertices:h,uvs:f,indices:m}=n,g=m.length,y=h.length/2;c&&_m(s,c),l.triangulate(s,h,2,y,m,g);const v=i.image,_=v.uvs;f.push(_.x0,_.y0,_.x1,_.y1,_.x3,_.y3,_.x2,_.y2);const k=nn.get(vm);k.indexOffset=g,k.indexSize=m.length-g,k.attributeOffset=y,k.attributeSize=h.length/2-y,k.baseColor=i.style,k.alpha=i.alpha,k.texture=v,k.geometryData=n,e.push(k)}function Yf(i,e,n,s,l){const{vertices:a,uvs:c,indices:h}=l;i.shapePrimitives.forEach(({shape:f,transform:m,holes:g})=>{const y=[],v=Fl[f.type];if(!v.build(f,y))return;const _=h.length,k=a.length/2;let C="triangle-list";if(m&&_m(y,m),n){const R=f.closePath??!0,N=e;N.pixelLine?(k_(y,R,a,h),C="line-list"):S_(y,N,!1,R,a,h)}else if(g){const R=[],N=y.slice();F_(g).forEach(O=>{R.push(N.length/2),N.push(...O)}),Sm(N,R,a,2,k,h,_)}else v.triangulate(y,a,2,k,h,_);const w=c.length/2,T=e.texture;if(T!==ze.WHITE){const R=E_(I_,e,f,m);g_(a,2,k,c,w,2,a.length/2-k,R)}else y_(c,w,2,a.length/2-k);const A=nn.get(vm);A.indexOffset=_,A.indexSize=h.length-_,A.attributeOffset=k,A.attributeSize=a.length/2-k,A.baseColor=e.color,A.alpha=e.alpha,A.texture=T,A.geometryData=l,A.topology=C,s.push(A)})}function F_(i){const e=[];for(let n=0;n<i.length;n++){const s=i[n].shape,l=[];Fl[s.type].build(s,l)&&e.push(l)}return e}class B_{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}reset(){this.batches&&this.batches.forEach(e=>{nn.return(e)}),this.graphicsData&&nn.return(this.graphicsData),this.isBatchable=!1,this.context=null,this.batches.length=0,this.geometryData.indices.length=0,this.geometryData.vertices.length=0,this.geometryData.uvs.length=0,this.graphicsData=null}destroy(){this.reset(),this.batches=null,this.geometryData=null}}class z_{constructor(){this.instructions=new Tp}init(e){const n=e.maxTextures;this.batcher?this.batcher._updateMaxTextures(n):this.batcher=new p_({maxTextures:n}),this.instructions.reset()}get geometry(){return Ie(Ey,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const xc=class sc{constructor(e){this._renderer=e,this._managedContexts=new m_({renderer:e,type:"resource",name:"graphicsContext"})}init(e){sc.defaultOptions.bezierSmoothness=e?.bezierSmoothness??sc.defaultOptions.bezierSmoothness}getContextRenderData(e){return e._gpuData[this._renderer.uid].graphicsData||this._initContextRenderData(e)}updateGpuContext(e){const n=!!e._gpuData[this._renderer.uid],s=e._gpuData[this._renderer.uid]||this._initContext(e);if(e.dirty||!n){n&&s.reset(),N_(e,s);const l=e.batchMode;e.customShader||l==="no-batch"?s.isBatchable=!1:l==="auto"?s.isBatchable=s.geometryData.vertices.length<400:s.isBatchable=!0,e.dirty=!1}return s}getGpuContext(e){return e._gpuData[this._renderer.uid]||this._initContext(e)}_initContextRenderData(e){const n=nn.get(z_,{maxTextures:this._renderer.limits.maxBatchableTextures}),s=e._gpuData[this._renderer.uid],{batches:l,geometryData:a}=s;s.graphicsData=n;const c=a.vertices.length,h=a.indices.length;for(let y=0;y<l.length;y++)l[y].applyTransform=!1;const f=n.batcher;f.ensureAttributeBuffer(c),f.ensureIndexBuffer(h),f.begin();for(let y=0;y<l.length;y++){const v=l[y];f.add(v)}f.finish(n.instructions);const m=f.geometry;m.indexBuffer.setDataWithSize(f.indexBuffer,f.indexSize,!0),m.buffers[0].setDataWithSize(f.attributeBuffer.float32View,f.attributeSize,!0);const g=f.batches;for(let y=0;y<g.length;y++){const v=g[y];v.bindGroup=Px(v.textures.textures,v.textures.count,this._renderer.limits.maxBatchableTextures)}return n}_initContext(e){const n=new B_;return n.context=e,e._gpuData[this._renderer.uid]=n,this._managedContexts.add(e),n}destroy(){this._managedContexts.destroy(),this._renderer=null}};xc.extension={type:[Le.WebGLSystem,Le.WebGPUSystem,Le.CanvasSystem],name:"graphicsContext"};xc.defaultOptions={bezierSmoothness:.5};let km=xc;const D_=8,Sl=11920929e-14,O_=1;function Cm(i,e,n,s,l,a,c,h,f,m){const y=Math.min(.99,Math.max(0,m??km.defaultOptions.bezierSmoothness));let v=(O_-y)/1;return v*=v,G_(e,n,s,l,a,c,h,f,i,v),i}function G_(i,e,n,s,l,a,c,h,f,m){oc(i,e,n,s,l,a,c,h,f,m,0),f.push(c,h)}function oc(i,e,n,s,l,a,c,h,f,m,g){if(g>D_)return;const y=(i+n)/2,v=(e+s)/2,_=(n+l)/2,k=(s+a)/2,C=(l+c)/2,w=(a+h)/2,T=(y+_)/2,A=(v+k)/2,R=(_+C)/2,N=(k+w)/2,H=(T+R)/2,O=(A+N)/2;if(g>0){let G=c-i,ae=h-e;const te=Math.abs((n-c)*ae-(s-h)*G),Z=Math.abs((l-c)*ae-(a-h)*G);if(te>Sl&&Z>Sl){if((te+Z)*(te+Z)<=m*(G*G+ae*ae)){f.push(H,O);return}}else if(te>Sl){if(te*te<=m*(G*G+ae*ae)){f.push(H,O);return}}else if(Z>Sl){if(Z*Z<=m*(G*G+ae*ae)){f.push(H,O);return}}else if(G=H-(i+c)/2,ae=O-(e+h)/2,G*G+ae*ae<=m){f.push(H,O);return}}oc(i,e,y,v,T,A,H,O,f,m,g+1),oc(H,O,R,N,C,w,c,h,f,m,g+1)}const U_=8,j_=11920929e-14,W_=1;function V_(i,e,n,s,l,a,c,h){const m=Math.min(.99,Math.max(0,h??km.defaultOptions.bezierSmoothness));let g=(W_-m)/1;return g*=g,H_(e,n,s,l,a,c,i,g),i}function H_(i,e,n,s,l,a,c,h){lc(c,i,e,n,s,l,a,h,0),c.push(l,a)}function lc(i,e,n,s,l,a,c,h,f){if(f>U_)return;const m=(e+s)/2,g=(n+l)/2,y=(s+a)/2,v=(l+c)/2,_=(m+y)/2,k=(g+v)/2;let C=a-e,w=c-n;const T=Math.abs((s-a)*w-(l-c)*C);if(T>j_){if(T*T<=h*(C*C+w*w)){i.push(_,k);return}}else if(C=_-(e+a)/2,w=k-(n+c)/2,C*C+w*w<=h){i.push(_,k);return}lc(i,e,n,m,g,_,k,h,f+1),lc(i,_,k,y,v,a,c,h,f+1)}function Pm(i,e,n,s,l,a,c,h){let f=Math.abs(l-a);(!c&&l>a||c&&a>l)&&(f=2*Math.PI-f),h||(h=Math.max(6,Math.floor(6*Math.pow(s,1/3)*(f/Math.PI)))),h=Math.max(h,3);let m=f/h,g=l;m*=c?-1:1;for(let y=0;y<h+1;y++){const v=Math.cos(g),_=Math.sin(g),k=e+v*s,C=n+_*s;i.push(k,C),g+=m}}function $_(i,e,n,s,l,a){const c=i[i.length-2],f=i[i.length-1]-n,m=c-e,g=l-n,y=s-e,v=Math.abs(f*y-m*g);if(v<1e-8||a===0){(i[i.length-2]!==e||i[i.length-1]!==n)&&i.push(e,n);return}const _=f*f+m*m,k=g*g+y*y,C=f*g+m*y,w=a*Math.sqrt(_)/v,T=a*Math.sqrt(k)/v,A=w*C/_,R=T*C/k,N=w*y+T*m,H=w*g+T*f,O=m*(T+A),G=f*(T+A),ae=y*(w+R),te=g*(w+R),Z=Math.atan2(G-H,O-N),ne=Math.atan2(te-H,ae-N);Pm(i,N+e,H+n,a,Z,ne,m*g>y*f)}const Us=Math.PI*2,ju={centerX:0,centerY:0,ang1:0,ang2:0},Wu=({x:i,y:e},n,s,l,a,c,h,f)=>{i*=n,e*=s;const m=l*i-a*e,g=a*i+l*e;return f.x=m+c,f.y=g+h,f};function Y_(i,e){const n=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),s=e===1.5707963267948966?.551915024494:n,l=Math.cos(i),a=Math.sin(i),c=Math.cos(i+e),h=Math.sin(i+e);return[{x:l-a*s,y:a+l*s},{x:c+h*s,y:h-c*s},{x:c,y:h}]}const Xf=(i,e,n,s)=>{const l=i*s-e*n<0?-1:1;let a=i*n+e*s;return a>1&&(a=1),a<-1&&(a=-1),l*Math.acos(a)},X_=(i,e,n,s,l,a,c,h,f,m,g,y,v)=>{const _=Math.pow(l,2),k=Math.pow(a,2),C=Math.pow(g,2),w=Math.pow(y,2);let T=_*k-_*w-k*C;T<0&&(T=0),T/=_*w+k*C,T=Math.sqrt(T)*(c===h?-1:1);const A=T*l/a*y,R=T*-a/l*g,N=m*A-f*R+(i+n)/2,H=f*A+m*R+(e+s)/2,O=(g-A)/l,G=(y-R)/a,ae=(-g-A)/l,te=(-y-R)/a,Z=Xf(1,0,O,G);let ne=Xf(O,G,ae,te);h===0&&ne>0&&(ne-=Us),h===1&&ne<0&&(ne+=Us),v.centerX=N,v.centerY=H,v.ang1=Z,v.ang2=ne};function q_(i,e,n,s,l,a,c,h=0,f=0,m=0){if(a===0||c===0)return;const g=Math.sin(h*Us/360),y=Math.cos(h*Us/360),v=y*(e-s)/2+g*(n-l)/2,_=-g*(e-s)/2+y*(n-l)/2;if(v===0&&_===0)return;a=Math.abs(a),c=Math.abs(c);const k=Math.pow(v,2)/Math.pow(a,2)+Math.pow(_,2)/Math.pow(c,2);k>1&&(a*=Math.sqrt(k),c*=Math.sqrt(k)),X_(e,n,s,l,a,c,f,m,g,y,v,_,ju);let{ang1:C,ang2:w}=ju;const{centerX:T,centerY:A}=ju;let R=Math.abs(w)/(Us/4);Math.abs(1-R)<1e-7&&(R=1);const N=Math.max(Math.ceil(R),1);w/=N;let H=i[i.length-2],O=i[i.length-1];const G={x:0,y:0};for(let ae=0;ae<N;ae++){const te=Y_(C,w),{x:Z,y:ne}=Wu(te[0],a,c,y,g,T,A,G),{x:ve,y:oe}=Wu(te[1],a,c,y,g,T,A,G),{x:ke,y:Ee}=Wu(te[2],a,c,y,g,T,A,G);Cm(i,H,O,Z,ne,ve,oe,ke,Ee),H=ke,O=Ee,C+=w}}function Q_(i,e,n){const s=(c,h)=>{const f=h.x-c.x,m=h.y-c.y,g=Math.sqrt(f*f+m*m),y=f/g,v=m/g;return{len:g,nx:y,ny:v}},l=(c,h)=>{c===0?i.moveTo(h.x,h.y):i.lineTo(h.x,h.y)};let a=e[e.length-1];for(let c=0;c<e.length;c++){const h=e[c%e.length],f=h.radius??n;if(f<=0){l(c,h),a=h;continue}const m=e[(c+1)%e.length],g=s(h,a),y=s(h,m);if(g.len<1e-4||y.len<1e-4){l(c,h),a=h;continue}let v=Math.asin(g.nx*y.ny-g.ny*y.nx),_=1,k=!1;g.nx*y.nx-g.ny*-y.ny<0?v<0?v=Math.PI+v:(v=Math.PI-v,_=-1,k=!0):v>0&&(_=-1,k=!0);const C=v/2;let w,T=Math.abs(Math.cos(C)*f/Math.sin(C));T>Math.min(g.len/2,y.len/2)?(T=Math.min(g.len/2,y.len/2),w=Math.abs(T*Math.sin(C)/Math.cos(C))):w=f;const A=h.x+y.nx*T+-y.ny*w*_,R=h.y+y.ny*T+y.nx*w*_,N=Math.atan2(g.ny,g.nx)+Math.PI/2*_,H=Math.atan2(y.ny,y.nx)-Math.PI/2*_;c===0&&i.moveTo(A+Math.cos(N)*w,R+Math.sin(N)*w),i.arc(A,R,w,N,H,k),a=h}}function K_(i,e,n,s){const l=(h,f)=>Math.sqrt((h.x-f.x)**2+(h.y-f.y)**2),a=(h,f,m)=>({x:h.x+(f.x-h.x)*m,y:h.y+(f.y-h.y)*m}),c=e.length;for(let h=0;h<c;h++){const f=e[(h+1)%c],m=f.radius??n;if(m<=0){h===0?i.moveTo(f.x,f.y):i.lineTo(f.x,f.y);continue}const g=e[h],y=e[(h+2)%c],v=l(g,f);let _;if(v<1e-4)_=f;else{const w=Math.min(v/2,m);_=a(f,g,w/v)}const k=l(y,f);let C;if(k<1e-4)C=f;else{const w=Math.min(k/2,m);C=a(f,y,w/k)}h===0?i.moveTo(_.x,_.y):i.lineTo(_.x,_.y),i.quadraticCurveTo(f.x,f.y,C.x,C.y,s)}}const Z_=new et;class J_{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new yn,this._graphicsPath2D=e,this.signed=e.checkForHoles}moveTo(e,n){return this.startPoly(e,n),this}lineTo(e,n){this._ensurePoly();const s=this._currentPoly.points,l=s[s.length-2],a=s[s.length-1];return(l!==e||a!==n)&&s.push(e,n),this}arc(e,n,s,l,a,c){this._ensurePoly(!1);const h=this._currentPoly.points;return Pm(h,e,n,s,l,a,c),this}arcTo(e,n,s,l,a){this._ensurePoly();const c=this._currentPoly.points;return $_(c,e,n,s,l,a),this}arcToSvg(e,n,s,l,a,c,h){const f=this._currentPoly.points;return q_(f,this._currentPoly.lastX,this._currentPoly.lastY,c,h,e,n,s,l,a),this}bezierCurveTo(e,n,s,l,a,c,h){this._ensurePoly();const f=this._currentPoly;return Cm(this._currentPoly.points,f.lastX,f.lastY,e,n,s,l,a,c,h),this}quadraticCurveTo(e,n,s,l,a){this._ensurePoly();const c=this._currentPoly;return V_(this._currentPoly.points,c.lastX,c.lastY,e,n,s,l,a),this}closePath(){return this.endPoly(!0),this}addPath(e,n){this.endPoly(),n&&!n.isIdentity()&&(e=e.clone(!0),e.transform(n));const s=this.shapePrimitives,l=s.length;for(let a=0;a<e.instructions.length;a++){const c=e.instructions[a];this[c.action](...c.data)}if(e.checkForHoles&&s.length-l>1){let a=null;for(let c=l;c<s.length;c++){const h=s[c];if(h.shape.type==="polygon"){const f=h.shape,m=a?.shape;m&&m.containsPolygon(f)?(a.holes||(a.holes=[]),a.holes.push(h),s.copyWithin(c,c+1),s.length--,c--):a=h}}}return this}finish(e=!1){this.endPoly(e)}rect(e,n,s,l,a){return this.drawShape(new et(e,n,s,l),a),this}circle(e,n,s,l){return this.drawShape(new Ll(e,n,s),l),this}poly(e,n,s){const l=new Os(e);return l.closePath=n,this.drawShape(l,s),this}regularPoly(e,n,s,l,a=0,c){l=Math.max(l|0,3);const h=-1*Math.PI/2+a,f=Math.PI*2/l,m=[];for(let g=0;g<l;g++){const y=h-g*f;m.push(e+s*Math.cos(y),n+s*Math.sin(y))}return this.poly(m,!0,c),this}roundPoly(e,n,s,l,a,c=0,h){if(l=Math.max(l|0,3),a<=0)return this.regularPoly(e,n,s,l,c);const f=s*Math.sin(Math.PI/l)-.001;a=Math.min(a,f);const m=-1*Math.PI/2+c,g=Math.PI*2/l,y=(l-2)*Math.PI/l/2;for(let v=0;v<l;v++){const _=v*g+m,k=e+s*Math.cos(_),C=n+s*Math.sin(_),w=_+Math.PI+y,T=_-Math.PI-y,A=k+a*Math.cos(w),R=C+a*Math.sin(w),N=k+a*Math.cos(T),H=C+a*Math.sin(T);v===0?this.moveTo(A,R):this.lineTo(A,R),this.quadraticCurveTo(k,C,N,H,h)}return this.closePath()}roundShape(e,n,s=!1,l){return e.length<3?this:(s?K_(this,e,n,l):Q_(this,e,n),this.closePath())}filletRect(e,n,s,l,a){if(a===0)return this.rect(e,n,s,l);const c=Math.min(s,l)/2,h=Math.min(c,Math.max(-c,a)),f=e+s,m=n+l,g=h<0?-h:0,y=Math.abs(h);return this.moveTo(e,n+y).arcTo(e+g,n+g,e+y,n,y).lineTo(f-y,n).arcTo(f-g,n+g,f,n+y,y).lineTo(f,m-y).arcTo(f-g,m-g,e+s-y,m,y).lineTo(e+y,m).arcTo(e+g,m-g,e,m-y,y).closePath()}chamferRect(e,n,s,l,a,c){if(a<=0)return this.rect(e,n,s,l);const h=Math.min(a,Math.min(s,l)/2),f=e+s,m=n+l,g=[e+h,n,f-h,n,f,n+h,f,m-h,f-h,m,e+h,m,e,m-h,e,n+h];for(let y=g.length-1;y>=2;y-=2)g[y]===g[y-2]&&g[y-1]===g[y-3]&&g.splice(y-1,2);return this.poly(g,!0,c)}ellipse(e,n,s,l,a){return this.drawShape(new gc(e,n,s,l),a),this}roundRect(e,n,s,l,a,c){return this.drawShape(new yc(e,n,s,l,a),c),this}drawShape(e,n){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:n}),this}startPoly(e,n){let s=this._currentPoly;return s&&this.endPoly(),s=new Os,s.points.push(e,n),this._currentPoly=s,this}endPoly(e=!1){const n=this._currentPoly;return n&&n.points.length>2&&(n.closePath=e,this.shapePrimitives.push({shape:n})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new Os,e)){const n=this.shapePrimitives[this.shapePrimitives.length-1];if(n){let s=n.shape.x,l=n.shape.y;if(n.transform&&!n.transform.isIdentity()){const a=n.transform,c=s;s=a.a*s+a.c*l+a.tx,l=a.b*c+a.d*l+a.ty}this._currentPoly.points.push(s,l)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let n=0;n<e.instructions.length;n++){const s=e.instructions[n];this[s.action](...s.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const n=this.shapePrimitives;for(let s=0;s<n.length;s++){const l=n[s],a=l.shape.getBounds(Z_);l.transform?e.addRect(a,l.transform):e.addRect(a)}return e}}class $n{constructor(e,n=!1){this.instructions=[],this.uid=tt("graphicsPath"),this._dirty=!0,this.checkForHoles=n,typeof e=="string"?wx(e,this):this.instructions=e?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new J_(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,n){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,n]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,n,s,l,a){const c=this.instructions[this.instructions.length-1],h=this.getLastPoint(St.shared);let f=0,m=0;if(!c||c.action!=="bezierCurveTo")f=h.x,m=h.y;else{f=c.data[2],m=c.data[3];const g=h.x,y=h.y;f=g+(g-f),m=y+(y-m)}return this.instructions.push({action:"bezierCurveTo",data:[f,m,e,n,s,l,a]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,n,s){const l=this.instructions[this.instructions.length-1],a=this.getLastPoint(St.shared);let c=0,h=0;if(!l||l.action!=="quadraticCurveTo")c=a.x,h=a.y;else{c=l.data[0],h=l.data[1];const f=a.x,m=a.y;c=f+(f-c),h=m+(m-h)}return this.instructions.push({action:"quadraticCurveTo",data:[c,h,e,n,s]}),this._dirty=!0,this}rect(e,n,s,l,a){return this.instructions.push({action:"rect",data:[e,n,s,l,a]}),this._dirty=!0,this}circle(e,n,s,l){return this.instructions.push({action:"circle",data:[e,n,s,l]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,n,s,l,a,c,h){a||(a=l/2);const f=-1*Math.PI/2+c,m=s*2,g=Math.PI*2/m,y=[];for(let v=0;v<m;v++){const _=v%2?a:l,k=v*g+f;y.push(e+_*Math.cos(k),n+_*Math.sin(k))}return this.poly(y,!0,h),this}clone(e=!1){const n=new $n;if(n.checkForHoles=this.checkForHoles,!e)n.instructions=this.instructions.slice();else for(let s=0;s<this.instructions.length;s++){const l=this.instructions[s];n.instructions.push({action:l.action,data:l.data.slice()})}return n}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const n=e.a,s=e.b,l=e.c,a=e.d,c=e.tx,h=e.ty;let f=0,m=0,g=0,y=0,v=0,_=0,k=0,C=0;for(let w=0;w<this.instructions.length;w++){const T=this.instructions[w],A=T.data;switch(T.action){case"moveTo":case"lineTo":f=A[0],m=A[1],A[0]=n*f+l*m+c,A[1]=s*f+a*m+h;break;case"bezierCurveTo":g=A[0],y=A[1],v=A[2],_=A[3],f=A[4],m=A[5],A[0]=n*g+l*y+c,A[1]=s*g+a*y+h,A[2]=n*v+l*_+c,A[3]=s*v+a*_+h,A[4]=n*f+l*m+c,A[5]=s*f+a*m+h;break;case"quadraticCurveTo":g=A[0],y=A[1],f=A[2],m=A[3],A[0]=n*g+l*y+c,A[1]=s*g+a*y+h,A[2]=n*f+l*m+c,A[3]=s*f+a*m+h;break;case"arcToSvg":f=A[5],m=A[6],k=A[0],C=A[1],A[0]=n*k+l*C,A[1]=s*k+a*C,A[5]=n*f+l*m+c,A[6]=s*f+a*m+h;break;case"circle":A[4]=Rs(A[3],e);break;case"rect":A[4]=Rs(A[4],e);break;case"ellipse":A[8]=Rs(A[8],e);break;case"roundRect":A[5]=Rs(A[5],e);break;case"addPath":A[0].transform(e);break;case"poly":A[2]=Rs(A[2],e);break;default:Mt("unknown transform action",T.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let n=this.instructions.length-1,s=this.instructions[n];if(!s)return e.x=0,e.y=0,e;for(;s.action==="closePath";){if(n--,n<0)return e.x=0,e.y=0,e;s=this.instructions[n]}switch(s.action){case"moveTo":case"lineTo":e.x=s.data[0],e.y=s.data[1];break;case"quadraticCurveTo":e.x=s.data[2],e.y=s.data[3];break;case"bezierCurveTo":e.x=s.data[4],e.y=s.data[5];break;case"arc":case"arcToSvg":e.x=s.data[5],e.y=s.data[6];break;case"addPath":s.data[0].getLastPoint(e);break}return e}}function Rs(i,e){return i?i.prepend(e):e.clone()}function Ze(i,e,n){const s=i.getAttribute(e);return s?Number(s):n}function e1(i,e){const n=i.querySelectorAll("defs");for(let s=0;s<n.length;s++){const l=n[s];for(let a=0;a<l.children.length;a++){const c=l.children[a];switch(c.nodeName.toLowerCase()){case"lineargradient":e.defs[c.id]=t1(c);break;case"radialgradient":e.defs[c.id]=n1();break}}}}function t1(i){const e=Ze(i,"x1",0),n=Ze(i,"y1",0),s=Ze(i,"x2",1),l=Ze(i,"y2",0),a=i.getAttribute("gradientUnits")||"objectBoundingBox",c=new Yn(e,n,s,l,a==="objectBoundingBox"?"local":"global");for(let h=0;h<i.children.length;h++){const f=i.children[h],m=Ze(f,"offset",0),g=ot.shared.setValue(f.getAttribute("stop-color")).toNumber();c.addColorStop(m,g)}return c}function n1(i){return Mt("[SVG Parser] Radial gradients are not yet supported"),new Yn(0,0,1,0)}function qf(i){const e=i.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return e?e[1]:""}const Qf={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function Mm(i,e){const n=i.getAttribute("style"),s={},l={},a={strokeStyle:s,fillStyle:l,useFill:!1,useStroke:!1};for(const c in Qf){const h=i.getAttribute(c);h&&Kf(e,a,c,h.trim())}if(n){const c=n.split(";");for(let h=0;h<c.length;h++){const f=c[h].trim(),[m,g]=f.split(":");Qf[m]&&Kf(e,a,m,g.trim())}}return{strokeStyle:a.useStroke?s:null,fillStyle:a.useFill?l:null,useFill:a.useFill,useStroke:a.useStroke}}function Kf(i,e,n,s){switch(n){case"stroke":if(s!=="none"){if(s.startsWith("url(")){const l=qf(s);e.strokeStyle.fill=i.defs[l]}else e.strokeStyle.color=ot.shared.setValue(s).toNumber();e.useStroke=!0}break;case"stroke-width":e.strokeStyle.width=Number(s);break;case"fill":if(s!=="none"){if(s.startsWith("url(")){const l=qf(s);e.fillStyle.fill=i.defs[l]}else e.fillStyle.color=ot.shared.setValue(s).toNumber();e.useFill=!0}break;case"fill-opacity":e.fillStyle.alpha=Number(s);break;case"stroke-opacity":e.strokeStyle.alpha=Number(s);break;case"opacity":e.fillStyle.alpha=Number(s),e.strokeStyle.alpha=Number(s);break}}function r1(i){if(i.length<=2)return!0;const e=i.map(h=>h.area).sort((h,f)=>f-h),[n,s]=e,l=e[e.length-1],a=n/s,c=s/l;return!(a>3&&c<2)}function i1(i){return i.split(/(?=[Mm])/).filter(s=>s.trim().length>0)}function s1(i){const e=i.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!e||e.length<4)return 0;const n=e.map(Number),s=[],l=[];for(let g=0;g<n.length;g+=2)g+1<n.length&&(s.push(n[g]),l.push(n[g+1]));if(s.length===0||l.length===0)return 0;const a=Math.min(...s),c=Math.max(...s),h=Math.min(...l),f=Math.max(...l);return(c-a)*(f-h)}function Zf(i,e){const n=new $n(i,!1);for(const s of n.instructions)e.instructions.push(s)}function o1(i,e){if(typeof i=="string"){const c=document.createElement("div");c.innerHTML=i.trim(),i=c.querySelector("svg")}const n={context:e,defs:{},path:new $n};e1(i,n);const s=i.children,{fillStyle:l,strokeStyle:a}=Mm(i,n);for(let c=0;c<s.length;c++){const h=s[c];h.nodeName.toLowerCase()!=="defs"&&bm(h,n,l,a)}return e}function bm(i,e,n,s){const l=i.children,{fillStyle:a,strokeStyle:c}=Mm(i,e);a&&n?n={...n,...a}:a&&(n=a),c&&s?s={...s,...c}:c&&(s=c);const h=!n&&!s;h&&(n={color:0});let f,m,g,y,v,_,k,C,w,T,A,R,N,H,O,G,ae;switch(i.nodeName.toLowerCase()){case"path":{H=i.getAttribute("d");const te=i.getAttribute("fill-rule"),Z=i1(H),ne=te==="evenodd",ve=Z.length>1;if(ne&&ve){const ke=Z.map($=>({path:$,area:s1($)}));if(ke.sort(($,q)=>q.area-$.area),Z.length>3||!r1(ke))for(let $=0;$<ke.length;$++){const q=ke[$],K=$===0;e.context.beginPath();const Y=new $n(void 0,!0);Zf(q.path,Y),e.context.path(Y),K?(n&&e.context.fill(n),s&&e.context.stroke(s)):e.context.cut()}else for(let $=0;$<ke.length;$++){const q=ke[$],K=$%2===1;e.context.beginPath();const Y=new $n(void 0,!0);Zf(q.path,Y),e.context.path(Y),K?e.context.cut():(n&&e.context.fill(n),s&&e.context.stroke(s))}}else{const ke=te?te==="evenodd":!0;O=new $n(H,ke),e.context.path(O),n&&e.context.fill(n),s&&e.context.stroke(s)}break}case"circle":k=Ze(i,"cx",0),C=Ze(i,"cy",0),w=Ze(i,"r",0),e.context.ellipse(k,C,w,w),n&&e.context.fill(n),s&&e.context.stroke(s);break;case"rect":f=Ze(i,"x",0),m=Ze(i,"y",0),G=Ze(i,"width",0),ae=Ze(i,"height",0),T=Ze(i,"rx",0),A=Ze(i,"ry",0),T||A?e.context.roundRect(f,m,G,ae,T||A):e.context.rect(f,m,G,ae),n&&e.context.fill(n),s&&e.context.stroke(s);break;case"ellipse":k=Ze(i,"cx",0),C=Ze(i,"cy",0),T=Ze(i,"rx",0),A=Ze(i,"ry",0),e.context.beginPath(),e.context.ellipse(k,C,T,A),n&&e.context.fill(n),s&&e.context.stroke(s);break;case"line":g=Ze(i,"x1",0),y=Ze(i,"y1",0),v=Ze(i,"x2",0),_=Ze(i,"y2",0),e.context.beginPath(),e.context.moveTo(g,y),e.context.lineTo(v,_),s&&e.context.stroke(s);break;case"polygon":N=i.getAttribute("points"),R=N.match(/-?\d+/g).map(te=>parseInt(te,10)),e.context.poly(R,!0),n&&e.context.fill(n),s&&e.context.stroke(s);break;case"polyline":N=i.getAttribute("points"),R=N.match(/-?\d+/g).map(te=>parseInt(te,10)),e.context.poly(R,!1),s&&e.context.stroke(s);break;case"g":case"svg":break;default:{Mt(`[SVG parser] <${i.nodeName}> elements unsupported`);break}}h&&(n=null);for(let te=0;te<l.length;te++)bm(l[te],e,n,s)}function l1(i){return ot.isColorLike(i)}function Jf(i){return i instanceof Nl}function ep(i){return i instanceof Yn}function a1(i){return i instanceof ze}function u1(i,e,n){const s=ot.shared.setValue(e??0);return i.color=s.toNumber(),i.alpha=s.alpha===1?n.alpha:s.alpha,i.texture=ze.WHITE,{...n,...i}}function c1(i,e,n){return i.texture=e,{...n,...i}}function tp(i,e,n){return i.fill=e,i.color=16777215,i.texture=e.texture,i.matrix=e.transform,{...n,...i}}function np(i,e,n){return e.buildGradient(),i.fill=e,i.color=16777215,i.texture=e.texture,i.matrix=e.transform,i.textureSpace=e.textureSpace,{...n,...i}}function h1(i,e){const n={...e,...i},s=ot.shared.setValue(n.color);return n.alpha*=s.alpha,n.color=s.toNumber(),n}function Wr(i,e){if(i==null)return null;const n={},s=i;return l1(i)?u1(n,i,e):a1(i)?c1(n,i,e):Jf(i)?tp(n,i,e):ep(i)?np(n,i,e):s.fill&&Jf(s.fill)?tp(s,s.fill,e):s.fill&&ep(s.fill)?np(s,s.fill,e):h1(s,e)}function Al(i,e){const{width:n,alignment:s,miterLimit:l,cap:a,join:c,pixelLine:h,...f}=e,m=Wr(i,f);return m?{width:n,alignment:s,miterLimit:l,cap:a,join:c,pixelLine:h,...m}:null}const d1=new St,rp=new be,_c=class bn extends Tn{constructor(){super(...arguments),this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this.uid=tt("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this.destroyed=!1,this._activePath=new $n,this._transform=new be,this._fillStyle={...bn.defaultFillStyle},this._strokeStyle={...bn.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new yn,this._boundsDirty=!0}clone(){const e=new bn;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=Wr(e,bn.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=Al(e,bn.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=Wr(e,bn.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=Wr(e,bn.defaultStrokeStyle),this}texture(e,n,s,l,a,c){return this.instructions.push({action:"texture",data:{image:e,dx:s||0,dy:l||0,dw:a||e.frame.width,dh:c||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:n?ot.shared.setValue(n).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new $n,this}fill(e,n){let s;const l=this.instructions[this.instructions.length-1];return this._tick===0&&l?.action==="stroke"?s=l.data.path:s=this._activePath.clone(),s?(e!=null&&(n!==void 0&&typeof e=="number"&&(Ie(Je,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:n}),this._fillStyle=Wr(e,bn.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:s}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:n}=this._activePath.getLastPoint(St.shared);this._activePath.clear(),this._activePath.moveTo(e,n)}stroke(e){let n;const s=this.instructions[this.instructions.length-1];return this._tick===0&&s?.action==="fill"?n=s.data.path:n=this._activePath.clone(),n?(e!=null&&(this._strokeStyle=Al(e,bn.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const n=this.instructions[this.instructions.length-1-e],s=this._activePath.clone();if(n&&(n.action==="stroke"||n.action==="fill"))if(n.data.hole)n.data.hole.addPath(s);else{n.data.hole=s;break}}return this._initNextPathLocation(),this}arc(e,n,s,l,a,c){this._tick++;const h=this._transform;return this._activePath.arc(h.a*e+h.c*n+h.tx,h.b*e+h.d*n+h.ty,s,l,a,c),this}arcTo(e,n,s,l,a){this._tick++;const c=this._transform;return this._activePath.arcTo(c.a*e+c.c*n+c.tx,c.b*e+c.d*n+c.ty,c.a*s+c.c*l+c.tx,c.b*s+c.d*l+c.ty,a),this}arcToSvg(e,n,s,l,a,c,h){this._tick++;const f=this._transform;return this._activePath.arcToSvg(e,n,s,l,a,f.a*c+f.c*h+f.tx,f.b*c+f.d*h+f.ty),this}bezierCurveTo(e,n,s,l,a,c,h){this._tick++;const f=this._transform;return this._activePath.bezierCurveTo(f.a*e+f.c*n+f.tx,f.b*e+f.d*n+f.ty,f.a*s+f.c*l+f.tx,f.b*s+f.d*l+f.ty,f.a*a+f.c*c+f.tx,f.b*a+f.d*c+f.ty,h),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(e,n,s,l){return this._tick++,this._activePath.ellipse(e,n,s,l,this._transform.clone()),this}circle(e,n,s){return this._tick++,this._activePath.circle(e,n,s,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,n){this._tick++;const s=this._transform;return this._activePath.lineTo(s.a*e+s.c*n+s.tx,s.b*e+s.d*n+s.ty),this}moveTo(e,n){this._tick++;const s=this._transform,l=this._activePath.instructions,a=s.a*e+s.c*n+s.tx,c=s.b*e+s.d*n+s.ty;return l.length===1&&l[0].action==="moveTo"?(l[0].data[0]=a,l[0].data[1]=c,this):(this._activePath.moveTo(a,c),this)}quadraticCurveTo(e,n,s,l,a){this._tick++;const c=this._transform;return this._activePath.quadraticCurveTo(c.a*e+c.c*n+c.tx,c.b*e+c.d*n+c.ty,c.a*s+c.c*l+c.tx,c.b*s+c.d*l+c.ty,a),this}rect(e,n,s,l){return this._tick++,this._activePath.rect(e,n,s,l,this._transform.clone()),this}roundRect(e,n,s,l,a){return this._tick++,this._activePath.roundRect(e,n,s,l,a,this._transform.clone()),this}poly(e,n){return this._tick++,this._activePath.poly(e,n,this._transform.clone()),this}regularPoly(e,n,s,l,a=0,c){return this._tick++,this._activePath.regularPoly(e,n,s,l,a,c),this}roundPoly(e,n,s,l,a,c){return this._tick++,this._activePath.roundPoly(e,n,s,l,a,c),this}roundShape(e,n,s,l){return this._tick++,this._activePath.roundShape(e,n,s,l),this}filletRect(e,n,s,l,a){return this._tick++,this._activePath.filletRect(e,n,s,l,a),this}chamferRect(e,n,s,l,a,c){return this._tick++,this._activePath.chamferRect(e,n,s,l,a,c),this}star(e,n,s,l,a=0,c=0){return this._tick++,this._activePath.star(e,n,s,l,a,c,this._transform.clone()),this}svg(e){return this._tick++,o1(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,n=e){return this._transform.scale(e,n),this}setTransform(e,n,s,l,a,c){return e instanceof be?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,n,s,l,a,c),this)}transform(e,n,s,l,a,c){return e instanceof be?(this._transform.append(e),this):(rp.set(e,n,s,l,a,c),this._transform.append(rp),this)}translate(e,n=e){return this._transform.translate(e,n),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const e=this._bounds;e.clear();for(let n=0;n<this.instructions.length;n++){const s=this.instructions[n],l=s.action;if(l==="fill"){const a=s.data;e.addBounds(a.path.bounds)}else if(l==="texture"){const a=s.data;e.addFrame(a.dx,a.dy,a.dx+a.dw,a.dy+a.dh,a.transform)}if(l==="stroke"){const a=s.data,c=a.style.alignment,h=a.style.width*(1-c),f=a.path.bounds;e.addFrame(f.minX-h,f.minY-h,f.maxX+h,f.maxY+h)}}return e}containsPoint(e){if(!this.bounds.containsPoint(e.x,e.y))return!1;const n=this.instructions;let s=!1;for(let l=0;l<n.length;l++){const a=n[l],c=a.data,h=c.path;if(!a.action||!h)continue;const f=c.style,m=h.shapePath.shapePrimitives;for(let g=0;g<m.length;g++){const y=m[g].shape;if(!f||!y)continue;const v=m[g].transform,_=v?v.applyInverse(e,d1):e;if(a.action==="fill")s=y.contains(_.x,_.y);else{const C=f;s=y.strokeContains(_.x,_.y,C.width,C.alignment)}const k=c.hole;if(k){const C=k.shapePath?.shapePrimitives;if(C)for(let w=0;w<C.length;w++)C[w].shape.contains(_.x,_.y)&&(s=!1)}if(s)return!0}}return s}unload(){this.emit("unload",this);for(const e in this._gpuData)this._gpuData[e]?.destroy();this._gpuData=Object.create(null)}destroy(e=!1){if(this.destroyed)return;if(this.destroyed=!0,this._stateStack.length=0,this._transform=null,this.unload(),this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e?.texture){const s=typeof e=="boolean"?e:e?.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(s)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(s))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};_c.defaultFillStyle={color:16777215,alpha:1,texture:ze.WHITE,matrix:null,fill:null,textureSpace:"local"};_c.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:ze.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let gn=_c;const vc=class Mi extends Tn{constructor(e={}){super(),this.uid=tt("textStyle"),this._tick=0,f1(e);const n={...Mi.defaultTextStyle,...e};for(const s in n){const l=s;this[l]=n[s]}this.update(),this._tick=0}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.update())}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.update())}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(e!==null&&typeof e=="object"?this._dropShadow=this._createProxy({...Mi.defaultDropShadow,...e}):this._dropShadow=e?this._createProxy({...Mi.defaultDropShadow}):null,this.update())}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.update())}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(typeof e=="string"?this._fontSize=parseInt(e,10):this._fontSize=e,this.update())}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e.toLowerCase(),this.update())}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.update())}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.update())}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.update())}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.update())}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.update())}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.update())}get filters(){return this._filters}set filters(e){this._filters!==e&&(this._filters=Object.freeze(e),this.update())}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.update())}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.update())}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.update())}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.update())}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.update())}get fill(){return this._originalFill}set fill(e){e!==this._originalFill&&(this._originalFill=e,this._isFillStyle(e)&&(this._originalFill=this._createProxy({...gn.defaultFillStyle,...e},()=>{this._fill=Wr({...this._originalFill},gn.defaultFillStyle)})),this._fill=Wr(e===0?"black":e,gn.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(e){e!==this._originalStroke&&(this._originalStroke=e,this._isFillStyle(e)&&(this._originalStroke=this._createProxy({...gn.defaultStrokeStyle,...e},()=>{this._stroke=Al({...this._originalStroke},gn.defaultStrokeStyle)})),this._stroke=Al(e,gn.defaultStrokeStyle),this.update())}update(){this._tick++,this.emit("update",this)}reset(){const e=Mi.defaultTextStyle;for(const n in e)this[n]=e[n]}get styleKey(){return`${this.uid}-${this._tick}`}clone(){return new Mi({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let e=0;if(this._filters)for(let n=0;n<this._filters.length;n++)e+=this._filters[n].padding;return Math.max(this._padding,e)}destroy(e=!1){if(this.removeAllListeners(),typeof e=="boolean"?e:e?.texture){const s=typeof e=="boolean"?e:e?.textureSource;this._fill?.texture&&this._fill.texture.destroy(s),this._originalFill?.texture&&this._originalFill.texture.destroy(s),this._stroke?.texture&&this._stroke.texture.destroy(s),this._originalStroke?.texture&&this._originalStroke.texture.destroy(s)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(e,n){return new Proxy(e,{set:(s,l,a)=>(s[l]===a||(s[l]=a,n?.(l,a),this.update()),!0)})}_isFillStyle(e){return(e??null)!==null&&!(ot.isColorLike(e)||e instanceof Yn||e instanceof Nl)}};vc.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};vc.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Tm=vc;function f1(i){const e=i;if(typeof e.dropShadow=="boolean"&&e.dropShadow){const n=Tm.defaultDropShadow;i.dropShadow={alpha:e.dropShadowAlpha??n.alpha,angle:e.dropShadowAngle??n.angle,blur:e.dropShadowBlur??n.blur,color:e.dropShadowColor??n.color,distance:e.dropShadowDistance??n.distance}}if(e.strokeThickness!==void 0){Ie(Je,"strokeThickness is now a part of stroke");const n=e.stroke;let s={};if(ot.isColorLike(n))s.color=n;else if(n instanceof Yn||n instanceof Nl)s.fill=n;else if(Object.hasOwnProperty.call(n,"color")||Object.hasOwnProperty.call(n,"fill"))s=n;else throw new Error("Invalid stroke value.");i.stroke={...s,width:e.strokeThickness}}if(Array.isArray(e.fillGradientStops)){if(Ie(Je,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(e.fill)||e.fill.length===0)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");e.fill.length!==e.fillGradientStops.length&&Mt("The number of fill colors must match the number of fill gradient stops.");const n=new Yn({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),s=e.fillGradientStops.slice(),l=e.fill.map(a=>ot.shared.setValue(a).toNumber());s.forEach((a,c)=>{n.addColorStop(a,l[c])}),i.fill={fill:n}}}class p1{constructor(e){this._canvasPool=Object.create(null),this.canvasOptions=e||{},this.enableFullScreen=!1}_createCanvasAndContext(e,n){const s=Ht.get().createCanvas();s.width=e,s.height=n;const l=s.getContext("2d");return{canvas:s,context:l}}getOptimalCanvasAndContext(e,n,s=1){e=Math.ceil(e*s-1e-6),n=Math.ceil(n*s-1e-6),e=Ti(e),n=Ti(n);const l=(e<<17)+(n<<1);this._canvasPool[l]||(this._canvasPool[l]=[]);let a=this._canvasPool[l].pop();return a||(a=this._createCanvasAndContext(e,n)),a}returnCanvasAndContext(e){const n=e.canvas,{width:s,height:l}=n,a=(s<<17)+(l<<1);e.context.resetTransform(),e.context.clearRect(0,0,s,l),this._canvasPool[a].push(e)}clear(){this._canvasPool={}}}const ac=new p1;qs.register(ac);const ip=1e5;function sp(i,e,n,s=0){if(i.texture===ze.WHITE&&!i.fill)return ot.shared.setValue(i.color).setAlpha(i.alpha??1).toHexa();if(i.fill){if(i.fill instanceof Nl){const l=i.fill,a=e.createPattern(l.texture.source.resource,"repeat"),c=l.transform.copyTo(be.shared);return c.scale(l.texture.frame.width,l.texture.frame.height),a.setTransform(c),a}else if(i.fill instanceof Yn){const l=i.fill,a=l.type==="linear",c=l.textureSpace==="local";let h=1,f=1;c&&n&&(h=n.width+s,f=n.height+s);let m,g=!1;if(a){const{start:y,end:v}=l;m=e.createLinearGradient(y.x*h,y.y*f,v.x*h,v.y*f),g=Math.abs(v.x-y.x)<Math.abs((v.y-y.y)*.1)}else{const{center:y,innerRadius:v,outerCenter:_,outerRadius:k}=l;m=e.createRadialGradient(y.x*h,y.y*f,v*h,_.x*h,_.y*f,k*h)}if(g&&c&&n){const y=n.lineHeight/f;for(let v=0;v<n.lines.length;v++){const _=(v*n.lineHeight+s/2)/f;l.colorStops.forEach(k=>{const C=_+k.offset*y;m.addColorStop(Math.floor(C*ip)/ip,ot.shared.setValue(k.color).toHex())})}}else l.colorStops.forEach(y=>{m.addColorStop(y.offset,ot.shared.setValue(y.color).toHex())});return m}}else{const l=e.createPattern(i.texture.source.resource,"repeat"),a=i.matrix.copyTo(be.shared);return a.scale(i.texture.frame.width,i.texture.frame.height),l.setTransform(a),l}return Mt("FillStyle not recognised",i),"red"}class Ke extends dc{constructor(e){e instanceof gn&&(e={context:e});const{context:n,roundPixels:s,...l}=e||{};super({label:"Graphics",...l}),this.renderPipeId="graphics",n?this.context=n:(this.context=this._ownedContext=new gn,this.context.autoGarbageCollect=this.autoGarbageCollect),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=s??!1}set context(e){e!==this._context&&(this._context&&(this._context.off("update",this.onViewUpdate,this),this._context.off("unload",this.unload,this)),this._context=e,this._context.on("update",this.onViewUpdate,this),this._context.on("unload",this.unload,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(e){return this._context.containsPoint(e)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||e?.context===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_onTouch(e){this._gcLastUsed=e,this._context._gcLastUsed=e}_callContextMethod(e,n){return this.context[e](...n),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new Ke(this._context.clone()):(this._ownedContext=null,new Ke(this._context))}lineStyle(e,n,s){Ie(Je,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const l={};return e&&(l.width=e),n&&(l.color=n),s&&(l.alpha=s),this.context.strokeStyle=l,this}beginFill(e,n){Ie(Je,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const s={};return e!==void 0&&(s.color=e),n!==void 0&&(s.alpha=n),this.context.fillStyle=s,this}endFill(){Ie(Je,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==gn.defaultStrokeStyle.width||e.color!==gn.defaultStrokeStyle.color||e.alpha!==gn.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return Ie(Je,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return Ie(Je,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return Ie(Je,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return Ie(Je,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return Ie(Je,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return Ie(Je,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}class m1 extends dc{constructor(e,n){const{text:s,resolution:l,style:a,anchor:c,width:h,height:f,roundPixels:m,...g}=e;super({...g}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=n,this.text=s??"",this.style=a,this.resolution=l??null,this.allowChildren=!1,this._anchor=new yt({_onUpdate:()=>{this.onViewUpdate()}}),c&&(this.anchor=c),this.roundPixels=m??!1,h!==void 0&&(this.width=h),f!==void 0&&(this.height=f)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}set text(e){e=e.toString(),this._text!==e&&(this._text=e,this.onViewUpdate())}get text(){return this._text}set resolution(e){this._autoResolution=e===null,this._resolution=e,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(e){e||(e={}),this._style?.off("update",this.onViewUpdate,this),e instanceof this._styleClass?this._style=e:this._style=new this._styleClass(e),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(e){this._setWidth(e,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(e){this._setHeight(e,this.bounds.height)}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this.bounds.width,e.height=Math.abs(this.scale.y)*this.bounds.height,e}setSize(e,n){typeof e=="object"?(n=e.height??e.width,e=e.width):n??(n=e),e!==void 0&&this._setWidth(e,this.bounds.width),n!==void 0&&this._setHeight(n,this.bounds.height)}containsPoint(e){const n=this.bounds.width,s=this.bounds.height,l=-n*this.anchor.x;let a=0;return e.x>=l&&e.x<=l+n&&(a=-s*this.anchor.y,e.y>=a&&e.y<=a+s)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}destroy(e=!1){super.destroy(e),this.owner=null,this._bounds=null,this._anchor=null,(typeof e=="boolean"?e:e?.style)&&this._style.destroy(e),this._style=null,this._text=null}get styleKey(){return`${this._text}:${this._style.styleKey}:${this._resolution}`}}function g1(i,e){let n=i[0]??{};return(typeof n=="string"||i[1])&&(Ie(Je,`use new ${e}({ text: "hi!", style }) instead`),n={text:n,style:i[1]}),n}let Dr=null,Vn=null;function y1(i,e){Dr||(Dr=Ht.get().createCanvas(256,128),Vn=Dr.getContext("2d",{willReadFrequently:!0}),Vn.globalCompositeOperation="copy",Vn.globalAlpha=1),(Dr.width<i||Dr.height<e)&&(Dr.width=Ti(i),Dr.height=Ti(e))}function op(i,e,n){for(let s=0,l=4*n*e;s<e;++s,l+=4)if(i[l+3]!==0)return!1;return!0}function lp(i,e,n,s,l){const a=4*e;for(let c=s,h=s*a+4*n;c<=l;++c,h+=a)if(i[h+3]!==0)return!1;return!0}function x1(...i){let e=i[0];e.canvas||(e={canvas:i[0],resolution:i[1]});const{canvas:n}=e,s=Math.min(e.resolution??1,1),l=e.width??n.width,a=e.height??n.height;let c=e.output;if(y1(l,a),!Vn)throw new TypeError("Failed to get canvas 2D context");Vn.drawImage(n,0,0,l,a,0,0,l*s,a*s);const f=Vn.getImageData(0,0,l,a).data;let m=0,g=0,y=l-1,v=a-1;for(;g<a&&op(f,l,g);)++g;if(g===a)return et.EMPTY;for(;op(f,l,v);)--v;for(;lp(f,l,m,g,v);)++m;for(;lp(f,l,y,g,v);)--y;return++y,++v,Vn.globalCompositeOperation="source-over",Vn.strokeRect(m,g,y-m,v-g),Vn.globalCompositeOperation="copy",c??(c=new et),c.set(m/s,g/s,(y-m)/s,(v-g)/s),c}const ap=new et;class _1{getCanvasAndContext(e){const{text:n,style:s,resolution:l=1}=e,a=s._getFinalPadding(),c=Pi.measureText(n||" ",s),h=Math.ceil(Math.ceil(Math.max(1,c.width)+a*2)*l),f=Math.ceil(Math.ceil(Math.max(1,c.height)+a*2)*l),m=ac.getOptimalCanvasAndContext(h,f);this._renderTextToCanvas(n,s,a,l,m);const g=s.trim?x1({canvas:m.canvas,width:h,height:f,resolution:1,output:ap}):ap.set(0,0,h,f);return{canvasAndContext:m,frame:g}}returnCanvasAndContext(e){ac.returnCanvasAndContext(e)}_renderTextToCanvas(e,n,s,l,a){const{canvas:c,context:h}=a,f=cm(n),m=Pi.measureText(e||" ",n),g=m.lines,y=m.lineHeight,v=m.lineWidths,_=m.maxLineWidth,k=m.fontProperties,C=c.height;if(h.resetTransform(),h.scale(l,l),h.textBaseline=n.textBaseline,n._stroke?.width){const R=n._stroke;h.lineWidth=R.width,h.miterLimit=R.miterLimit,h.lineJoin=R.join,h.lineCap=R.cap}h.font=f;let w,T;const A=n.dropShadow?2:1;for(let R=0;R<A;++R){const N=n.dropShadow&&R===0,H=N?Math.ceil(Math.max(1,C)+s*2):0,O=H*l;if(N){h.fillStyle="black",h.strokeStyle="black";const te=n.dropShadow,Z=te.color,ne=te.alpha;h.shadowColor=ot.shared.setValue(Z).setAlpha(ne).toRgbaString();const ve=te.blur*l,oe=te.distance*l;h.shadowBlur=ve,h.shadowOffsetX=Math.cos(te.angle)*oe,h.shadowOffsetY=Math.sin(te.angle)*oe+O}else{if(h.fillStyle=n._fill?sp(n._fill,h,m,s*2):null,n._stroke?.width){const te=n._stroke.width*.5+s*2;h.strokeStyle=sp(n._stroke,h,m,te)}h.shadowColor="black"}let G=(y-k.fontSize)/2;y-k.fontSize<0&&(G=0);const ae=n._stroke?.width??0;for(let te=0;te<g.length;te++)w=ae/2,T=ae/2+te*y+k.ascent+G,n.align==="right"?w+=_-v[te]:n.align==="center"&&(w+=(_-v[te])/2),n._stroke?.width&&this._drawLetterSpacing(g[te],n,a,w+s,T+s-H,!0),n._fill!==void 0&&this._drawLetterSpacing(g[te],n,a,w+s,T+s-H)}}_drawLetterSpacing(e,n,s,l,a,c=!1){const{context:h}=s,f=n.letterSpacing;let m=!1;if(Pi.experimentalLetterSpacingSupported&&(Pi.experimentalLetterSpacing?(h.letterSpacing=`${f}px`,h.textLetterSpacing=`${f}px`,m=!0):(h.letterSpacing="0px",h.textLetterSpacing="0px")),f===0||m){c?h.strokeText(e,l,a):h.fillText(e,l,a);return}let g=l;const y=Pi.graphemeSegmenter(e);let v=h.measureText(e).width,_=0;for(let k=0;k<y.length;++k){const C=y[k];c?h.strokeText(C,g,a):h.fillText(C,g,a);let w="";for(let T=k+1;T<y.length;++T)w+=y[T];_=h.measureText(w).width,g+=v-_+f,v=_}}}const up=new _1;class Is extends m1{constructor(...e){const n=g1(e,"Text");super(n,Tm),this.renderPipeId="text",n.textureStyle&&(this.textureStyle=n.textureStyle instanceof Ml?n.textureStyle:new Ml(n.textureStyle))}updateBounds(){const e=this._bounds,n=this._anchor;let s=0,l=0;if(this._style.trim){const{frame:a,canvasAndContext:c}=up.getCanvasAndContext({text:this.text,style:this._style,resolution:1});up.returnCanvasAndContext(c),s=a.width,l=a.height}else{const a=Pi.measureText(this._text,this._style);s=a.width,l=a.height}e.minX=-n._x*s,e.maxX=e.minX+s,e.minY=-n._y*l,e.maxY=e.minY+l}}rn.add(vy,wy);const ht=(i,e,n)=>Math.max(e,Math.min(n,i)),v1=(i,e,n)=>i+(e-i)*n,Ns={easy:{truckSpeed:2.4,spawnRate:.012,blockRate:.1},medium:{truckSpeed:3.2,spawnRate:.016,blockRate:.16},hard:{truckSpeed:4.2,spawnRate:.022,blockRate:.22},hardcore:{truckSpeed:5.4,spawnRate:.03,blockRate:.28}},w1={easy:.6,medium:.4,hard:.3,hardcore:.2},S1={easy:1,medium:1.18,hard:1.38,hardcore:1.65},yr=()=>performance.now();async function k1(i,{onState:e,onEvent:n}={}){const s=new um;await s.init({resizeTo:i,antialias:!0,backgroundAlpha:0,autoDensity:!0,resolution:Math.min(window.devicePixelRatio||1,2)});let l=!1;i.innerHTML="",i.appendChild(s.canvas),i.style.touchAction="manipulation",i.style.userSelect="none",i.style.webkitUserSelect="none";let a=null,c=null,h=null,f=!1;const m=()=>{if(!f)try{a=a||new(window.AudioContext||window.webkitAudioContext),a.state==="suspended"&&a.resume?.(),f=a.state!=="suspended"}catch{f=!1}},g=(E=440,F=.12,D="sine",W=.06)=>{if(!f||!a)return;const fe=a.currentTime,xe=a.createOscillator(),De=a.createGain();xe.type=D,xe.frequency.setValueAtTime(E,fe),De.gain.setValueAtTime(W,fe),De.gain.exponentialRampToValueAtTime(1e-4,fe+F),xe.connect(De).connect(a.destination),xe.start(fe),xe.stop(fe+F)},y=()=>{!f||!a||(g(110,.18,"sawtooth",.1),setTimeout(()=>g(70,.22,"square",.08),40))},v=()=>{!f||!a||(g(523,.1,"triangle",.06),setTimeout(()=>g(659,.1,"triangle",.06),90),setTimeout(()=>g(784,.14,"triangle",.07),180))},_=()=>{if(m(),!f||!a||c)return;const E=a.createOscillator(),F=a.createGain();E.type="sine",E.frequency.setValueAtTime(130,a.currentTime),F.gain.setValueAtTime(0,a.currentTime),F.gain.linearRampToValueAtTime(.032,a.currentTime+.25),E.connect(F).connect(a.destination),E.start(),c=E,h=F},k=()=>{if(!c||!a)return;const E=a.currentTime;try{h?.gain?.cancelScheduledValues(E),h?.gain?.setValueAtTime(h.gain.value,E),h?.gain?.linearRampToValueAtTime(1e-4,E+.25),c.stop(E+.26)}catch{}c=null,h=null},C=new Be,w=new Be,T=new Ke;w.mask=T;const A=new Be;w.addChild(A);const R=new Be,N=new Be;N.sortableChildren=!0;const H=new Be,O=new Be;H.zIndex=2,O.zIndex=3,N.addChild(H,O);const G=new Be,ae=new Be,te=new Be,Z=new Be;s.stage.addChild(C),s.stage.addChild(w),s.stage.addChild(Z),A.addChild(R),A.addChild(G),A.addChild(N),A.addChild(ae),A.addChild(te);let ne=100,ve="easy",oe="idle";const ke=4,Ee=12;let $=92,q=36,K=18,Y=22,J=0,b=0,z=0,pe=1,_e=ne+ne*pe,Q=!0,de=-1;const me=[],Se=[],Pe=[];let Ne=!1,bt=0,ft=0,Xe=!1;const Bt=()=>w1[ve]??.4,$t=()=>S1[ve]??1,Xn=()=>{const E=[];for(let F=1;F<=Ee-2;F++)E.push(F);return E},sn=E=>E>=1&&E<=Ee-2,_r=()=>{const E={easy:1,medium:2,hard:3,hardcore:4}[ve]??2,F=s.renderer?.height||720;return ht(Math.round(E*(F/720)),1,5)},Hr=()=>(Ns[ve]??Ns.easy).spawnRate*.85,An=()=>{const E=s.renderer?.height||720;return ht(Math.floor(E*.18),120,190)},En=()=>({easy:210,medium:250,hard:290,hardcore:330}[ve]??250)+z*18,$r=()=>({easy:1400,medium:1800,hard:2200,hardcore:2600})[ve]??1800,on=E=>Y+$*E+$/2,zt=()=>{const E=s.renderer.height;return ht(Math.floor(E*.55),q+80,E-K-80)},Ri=(E,F)=>E.x<F.x+F.w&&E.x+E.w>F.x&&E.y<F.y+F.h&&E.y+E.h>F.y,Ii=E=>{const D=Math.max(0,Ee-ke);return-ht(E-2,0,D)*$},qn=E=>{A.x=Ii(E)},Yr=()=>!l&&!Ne&&!Xe&&!ee.visible&&oe!=="crashed"&&oe!=="jumping"&&yr()>=ft,pt=E=>{const F={state:oe,canGo:Yr(),multiplier:pe,potential:_e,message:E};e?.(F),n?.({type:"state",...F}),n?.({type:"lane",lane:z}),n?.({type:"mult",mult:pe,potential:_e})},Rn=(E,F)=>{oe=E,pt(F)},In=(E,F,D=16756768)=>{const W=new Ke;W.circle(0,0,5).fill({color:D,alpha:1}),W.x=E,W.y=F,te.addChild(W);let fe=18;const xe=()=>{fe-=1,W.alpha=ht(fe/18,0,1),W.scale.set(1+(18-fe)*.06),fe<=0&&(s.ticker.remove(xe),te.removeChild(W),W.destroy())};s.ticker.add(xe)},Te=new Be,Dt=new Ke,Nn=new Ke,vn=new Ke;Te.addChild(Dt,Nn,vn),ae.addChild(Te);let Ot=null;const Xr=()=>{Dt.clear(),Nn.clear(),vn.clear(),Dt.roundRect(-16,-16,32,32,10).fill({color:16777215,alpha:1}),Dt.roundRect(-18,-18,36,36,12).stroke({color:987414,width:3,alpha:.9}),Dt.circle(-6,-18,5).fill({color:16726832,alpha:1}),Dt.circle(2,-20,5).fill({color:16726832,alpha:1}),Nn.moveTo(16,-2).lineTo(26,2).lineTo(16,6).closePath().fill({color:16756768,alpha:1}).stroke({color:987414,width:2,alpha:.9}),vn.circle(6,-6,4).fill({color:987414,alpha:1}),vn.circle(7,-7,1.8).fill({color:16777215,alpha:1})},Ni=()=>{Dt.clear(),Nn.clear(),vn.clear(),vn.removeChildren(),Dt.roundRect(-16,-16,32,32,10).fill({color:14147046,alpha:1}),Dt.roundRect(-18,-18,36,36,12).stroke({color:987414,width:3,alpha:.9}),Dt.circle(-8,6,4).fill({color:10134450,alpha:.9}),Nn.roundRect(10,-1,14,8,4).fill({color:16756768,alpha:1}).stroke({color:987414,width:2,alpha:.9}),Nn.roundRect(18,6,6,6,3).fill({color:16726832,alpha:.95});const E=new Ke;E.moveTo(-2,-10).lineTo(6,-2),E.moveTo(6,-10).lineTo(-2,-2),E.stroke({color:987414,width:3,alpha:1});const F=new Ke;F.moveTo(10,-10).lineTo(18,-2),F.moveTo(18,-10).lineTo(10,-2),F.stroke({color:987414,width:3,alpha:1}),vn.addChild(E,F)},Li=()=>{Ot&&s.ticker.remove(Ot),Ni();const E=Te.rotation||0,F=Te.y,D=Math.PI/2;let W=0;Ot=()=>{W+=1;const fe=ht(W/20,0,1),xe=1-Math.pow(1-fe,3);Te.rotation=E+(D-E)*xe,Te.scale.set(1+.05*Math.sin(fe*Math.PI*4),1-.25*xe),Te.y=F+7*xe-Math.sin(fe*Math.PI)*6,fe>=1&&(s.ticker.remove(Ot),Ot=null,Te.scale.set(1,.78),Te.y=F+7)},s.ticker.add(Ot)},vr=()=>{Ot&&s.ticker.remove(Ot),Ot=null,Te.rotation=0,Te.scale.set(1),vn.removeChildren(),Xr()},ee={root:new Be,dim:new Ke,card:new Be,cardBg:new Ke,accent:new Ke,title:new Is("",{fill:16777215,fontFamily:"system-ui",fontSize:22,fontWeight:"900"}),body:new Is("",{fill:15331063,fontFamily:"system-ui",fontSize:14,fontWeight:"600",wordWrap:!0,wordWrapWidth:300}),badge:new Is("",{fill:16763194,fontFamily:"system-ui",fontSize:16,fontWeight:"900"}),closeBtn:new Be,visible:!1,anim:null,onDismiss:null,cardW:420,cardH:240},Ln=()=>{const E=s.renderer.width,F=s.renderer.height,D=ht(Math.floor(E*.92),280,460),W=ht(Math.floor(F*.46),210,320);return{W:E,H:F,cardW:D,cardH:W}},qr=(E="win")=>{const{cardW:F,cardH:D,W}=Ln();ee.cardW=F,ee.cardH=D;const fe=E==="win"?3528703:16731469;ee.cardBg.clear(),ee.cardBg.roundRect(-F/2,-D/2,F,D,18).fill({color:1119256,alpha:.96}),ee.cardBg.stroke({color:987414,width:3,alpha:.9}),ee.accent.clear(),ee.accent.roundRect(-F/2,-D/2,F,10,18).fill({color:fe,alpha:1}),ee.title.style.fontSize=ht(Math.floor(W*.055),18,24),ee.badge.style.fontSize=ht(Math.floor(W*.042),14,18),ee.body.style.fontSize=ht(Math.floor(W*.034),12,15),ee.body.style.wordWrapWidth=Math.min(360,Math.floor(F*.78)),ee.title.anchor.set(.5,0),ee.badge.anchor.set(.5,0),ee.body.anchor.set(.5,0),ee.title.y=-D*.34,ee.badge.y=-D*.2,ee.body.y=-D*.04,ee.closeBtn.x=F/2-24,ee.closeBtn.y=-D/2+24},Fi=()=>{const{W:E,H:F}=Ln();ee.dim.clear(),ee.dim.rect(0,0,E,F).fill({color:0,alpha:.35}),ee.card.x=Math.floor(E/2),ee.card.y=Math.floor(F/2),ee.root.hitArea=new et(0,0,E,F)},Bi=()=>{ee.root.visible=!1,ee.visible=!1},zi=(E,{title:F,badge:D,body:W},fe)=>{ee.title.text=F,ee.badge.text=D||"",ee.body.text=W||"",ee.onDismiss=fe||null,qr(E),ee.root.visible=!0,ee.visible=!0,ee.anim&&s.ticker.remove(ee.anim),ee.card.scale.set(.85),ee.card.alpha=0;let xe=0;ee.anim=()=>{xe+=1;const De=ht(xe/14,0,1),Fe=1-Math.pow(1-De,3);ee.card.scale.set(.85+.15*Fe),ee.card.alpha=Fe,De>=1&&(s.ticker.remove(ee.anim),ee.anim=null)},s.ticker.add(ee.anim)},Qs=()=>{ee.root.removeChildren(),ee.card.removeChildren(),ee.closeBtn.removeChildren();const E=new Ke;E.circle(0,0,14).fill({color:2830137,alpha:.95}),E.stroke({color:987414,width:3,alpha:.9}),E.stroke({color:16777215,width:2,alpha:.1});const F=new Is("",{fill:15331063,fontFamily:"system-ui",fontSize:14,fontWeight:"900"});F.anchor.set(.5),ee.closeBtn.addChild(E,F),ee.closeBtn.eventMode="static",ee.closeBtn.cursor="pointer",ee.closeBtn.hitArea=new Ll(0,0,18),ee.closeBtn.on("pointerdown",D=>{if(D.stopPropagation?.(),!ee.visible)return;const W=ee.onDismiss;ee.onDismiss=null,Bi(),W?.()}),ee.card.addChild(ee.cardBg,ee.accent,ee.title,ee.badge,ee.body,ee.closeBtn),ee.root.addChild(ee.dim,ee.card),ee.root.visible=!1,ee.root.eventMode="static",ee.root.cursor="default",ee.root.on("pointerdown",D=>D.stopPropagation?.()),Z.addChild(ee.root),qr("win"),Fi()},Di=(E=34,F=86)=>{const D=new Be,W=new Ke;return W.roundRect(-E/2,-F/2,E,F,8).fill({color:16756768,alpha:1}),W.stroke({color:987414,width:3,alpha:.9}),W.roundRect(-E/2+5,-F/2+6,E-10,F*.24,6).fill({color:2063103,alpha:.85}),W.rect(-E/2+5,-2,E-10,10).fill({color:2830137,alpha:.25}),W.circle(-E/2+6,-F/2+16,5).fill({color:987414,alpha:1}),W.circle(E/2-6,-F/2+16,5).fill({color:987414,alpha:1}),W.circle(-E/2+6,F/2-16,5).fill({color:987414,alpha:1}),W.circle(E/2-6,F/2-16,5).fill({color:987414,alpha:1}),D.addChild(W),D._hitW=E,D._hitH=F,D._kind="truck",D},Ks=(E=32,F=62)=>{const D=new Be,W=new Ke;return W.roundRect(-E/2,-F/2,E,F,10).fill({color:3528703,alpha:1}),W.stroke({color:987414,width:3,alpha:.9}),W.roundRect(-E/2+5,-F/2+7,E-10,F*.22,8).fill({color:15331063,alpha:.5}),W.rect(-E/2+6,-4,E-12,8).fill({color:16777215,alpha:.22}),W.circle(-E/2+6,-F/2+14,4).fill({color:987414,alpha:1}),W.circle(E/2-6,-F/2+14,4).fill({color:987414,alpha:1}),W.circle(-E/2+6,F/2-14,4).fill({color:987414,alpha:1}),W.circle(E/2-6,F/2-14,4).fill({color:987414,alpha:1}),D.addChild(W),D._hitW=E,D._hitH=F,D._kind="car",D},wr=(E=76,F=18)=>{const D=new Be,W=new Ke;W.roundRect(-E/2,-F/2,E,F,6).fill({color:3094086,alpha:1}),W.stroke({color:16769702,width:3,alpha:.9});for(let fe=-E/2+10;fe<E/2;fe+=14)W.rect(fe,-F/2+3,8,F-6).fill({color:16756768,alpha:.8});return D.addChild(W),D._hitW=E,D._hitH=F,D},Oi=(E,F)=>{const D=new Be,W=new Ke;W.circle(0,0,28).fill({color:16763194,alpha:1}),W.stroke({color:987414,width:4,alpha:.9}),W.circle(0,0,18).stroke({color:987414,width:2,alpha:.2}),D.addChild(W),D.x=E,D.y=F,G.addChild(D)},Sr=(E,F,D)=>{const W=new Be,fe=new Ke;fe.circle(0,0,26).fill({color:2830137,alpha:.95}),fe.stroke({color:987414,width:4,alpha:.9}),fe.stroke({color:16777215,width:2,alpha:.12});const xe=new Is(`${D}x`,{fill:15331063,fontFamily:"system-ui",fontSize:14,fontWeight:"900"});xe.anchor.set(.5),W.addChild(fe,xe),W.x=E,W.y=F,G.addChild(W)},Gi=()=>{Pe.length=0;const E=[1,4.11,4.64,5.39,6.5,8.36,12.08],F=$t();for(let D=0;D<Ee;D++){let W;D<E.length?W=E[D]:W=E[E.length-1]+(D-(E.length-1))*2.1,D===0?W=1:W=W*F,Pe.push(parseFloat(W.toFixed(2)))}},Qn=()=>{R.removeChildren(),G.removeChildren();const E=s.renderer.width,F=s.renderer.height;J=E-Y*2,b=F-q-K,$=Math.floor(J/ke),C.removeChildren();const D=new Ke;D.rect(0,0,E,F).fill({color:3882821,alpha:1}),C.addChild(D);for(let fe=0;fe<Ee;fe++){const xe=Y+fe*$,De=new Ke;if(De.rect(xe,q,$,b).fill({color:fe%2?3422271:3027513,alpha:1}),R.addChild(De),fe!==0){const Fe=new Ke;Fe.stroke({color:15331063,width:2,alpha:.35});const lt=xe;for(let Xt=q+8;Xt<q+b-8;Xt+=18)Fe.moveTo(lt,Xt),Fe.lineTo(lt,Xt+10);R.addChild(Fe)}}const W=zt();Oi(on(0),W);for(let fe=0;fe<Ee;fe++)Sr(on(fe),W,(Pe[fe]??1).toFixed(2));T.clear(),T.rect(Y,0,J,F).fill({color:16777215,alpha:1})},Qr=()=>{for(const E of me)O.removeChild(E.view),E.view.destroy({children:!0});me.length=0},wn=()=>{for(const E of Se)H.removeChild(E.view),E.view.destroy({children:!0});Se.length=0},Kr=E=>me.filter(F=>F.laneIdx===E),Ui=E=>{const F=Ns[ve]??Ns.easy;return E==="car"?F.truckSpeed*(1.05+Math.random()*.7):F.truckSpeed*(.7+Math.random()*.6)},Bl=E=>E==="car"?Ks(32,62):Di(34,86),zl=E=>{const F=Se.find(W=>W.laneIdx===E);return F?F.y-F.view._hitH/2-6:null},ln=(E,{kind:F=null,spawnY:D=null,forceHit:W=!1}={})=>{if(!sn(E)&&!W)return;if(!W){const an=_r();if(Kr(E).length>=an)return}const fe=F??(Math.random()<.72?"car":"truck"),xe=Bl(fe),De=on(E),Fe=W?zt()-170:D??q-140;O.addChild(xe);const lt=Ui(fe),Xt={view:xe,kind:fe,laneIdx:E,x:De,y:Fe,baseSpeed:lt,speed:lt,desiredSpeed:lt,driftPhase:Math.random()*Math.PI*2};me.push(Xt),xe.x=De,xe.y=Fe},ji=()=>{Qr();const E=An(),F=q-110;for(const D of Xn()){const W=_r();for(let fe=0;fe<W;fe++){const xe=F+fe*E+Math.random()*(E*.18);if(xe>q+b+80)break;ln(D,{kind:Math.random()<.74?"car":"truck",spawnY:xe})}}},Zs=()=>{const E=An();for(const F of Xn()){const D=Kr(F);if(D.length===0)continue;D.sort((xe,De)=>De.y-xe.y);const W=zl(F),fe=W!=null?W+E:null;for(let xe=0;xe<D.length;xe++){const De=xe===0?{y:fe??D[xe].y+999999,speed:fe!=null?0:D[xe].speed}:D[xe-1],Fe=D[xe],lt=Math.sin(yr()/900+Fe.driftPhase)*.05,Xt=Fe.baseSpeed*(1+lt),an=De.y-Fe.y;let Ce=Xt;if(an<E&&(Ce=Math.min(Ce,De.speed*.78),Ce=Math.max(Ce,.18)),W!=null){const $i=Fe.view._hitH/2,so=Fe.y+$i,Cr=W-so;Cr<=0?(Fe.y=W-$i-.5,Ce=0):Cr<20?Ce=Math.min(Ce,.28):Cr<60&&(Ce=Math.min(Ce,.65))}Fe.desiredSpeed=Ce}for(let xe=0;xe<D.length-1;xe++){const De=D[xe],Fe=D[xe+1];De.y-Fe.y<E&&(Fe.y=De.y-E)}}},Dl=E=>{const F=wr(Math.floor($*.78),18),D=on(E)+(Math.random()*10-5),W=ht(zt()-110+Math.random()*18,q+36,q+b-140);H.addChild(F),Se.push({view:F,laneIdx:E,x:D,y:W}),F.x=D,F.y=W},Js=()=>{const E=Bt();if(Q=Math.random()<E,Q){de=-1;return}de=ht(Math.floor(1+Math.random()*Math.max(1,Ee-2)),1,Ee-2)},Kn=()=>{z=0,pe=Pe[0]??1,Zr()},Zr=()=>{_e=ne+ne*pe},eo=()=>{pe=Pe[z]??pe,Zr()},Ol=E=>{if(!Q)return;const F=zt();for(let D=me.length-1;D>=0;D--){const W=me[D];W.laneIdx===E&&Math.abs(W.y-F)<95&&(O.removeChild(W.view),W.view.destroy({children:!0}),me.splice(D,1))}},Gl=()=>{if(!sn(z))return!1;const E=zt(),F={x:Te.x-16,y:Te.y-16,w:32,h:32};for(const D of me){if(D.laneIdx!==z)continue;const W={x:D.view.x-D.view._hitW/2,y:D.view.y-D.view._hitH/2,w:D.view._hitW,h:D.view._hitH};if(Math.abs(D.y-E)<60&&Ri(F,W))return!0}return!1},We=()=>{oe="crashed",Xe=!1,_e=0,y(),Li(),Ne=!0,pt("Crashed! Close the modal () to restart."),zi("crash",{title:"CRASHED!",badge:"0 pts",body:"Tap  to restart from the beginning."},()=>{l||(wn(),Kn(),z=0,vr(),Te.x=on(0),Te.y=zt(),qn(0),Ne=!1,Rn("idle","Press GO to try again."))}),In(Te.x,Te.y,16731469),n?.({type:"lost"})},to=()=>{oe="won",Xe=!1,v(),pt(`You reached the end! Reward = ${_e.toFixed(0)} pts`),zi("win",{title:"YOU WIN!",badge:`${_e.toFixed(0)} pts`,body:"Tap  to play again."},()=>{l||(Bi(),Vi())}),In(Te.x,Te.y,3528703),n?.({type:"won",finalMult:pe,reward:_e})},Wi=(E,F)=>{const D=Te.x,W=on(E),fe=A.x,xe=Ii(E);Ne=!0,oe="jumping",pt("Jumping");let De=0;const Fe=12,lt=()=>{De+=1;const Xt=De/Fe,an=1-Math.pow(1-Xt,2);Te.x=D+(W-D)*an,Te.y=zt()-Math.sin(an*Math.PI)*10,A.x=fe+(xe-fe)*an,De>=Fe&&(s.ticker.remove(lt),Te.x=W,Te.y=zt(),A.x=xe,Ne=!1,oe="running",pt("Ready."),F?.())};s.ticker.add(lt)},no=()=>{if(l||(m(),_(),Ne)||Xe||ee.visible||yr()<ft||oe==="won"||oe==="crashed"||(oe==="idle"&&(wn(),Kn(),Js(),bt=yr(),Xe=!1,ft=yr()+En(),oe="running",pt("Run started. Press GO to move lane-by-lane.")),oe!=="running")||z>=Ee-1)return;const E=z,F=z+1;Ol(F),Wi(F,()=>{if(Dl(E),z=F,eo(),In(Te.x,Te.y,16756768),ft=yr()+En(),!Q&&z===de&&sn(z)&&(ln(z,{kind:"truck",forceHit:!0}),pt("Danger lane")),Gl())return We();if(z===Ee-1){if(yr()-bt<$r()){Xe=!0,pt("Reached the end  final clearance");return}to()}else pt("Safe. Press GO again.")})},kr=()=>no(),Ul=()=>pt("No cashout in this mode  reach the end to win."),Vi=()=>{wn(),Kn(),Xe=!1,bt=0,ft=0,z=0,vr(),Te.x=on(0),Te.y=zt(),qn(0),Rn("idle","Press GO to start.")},Jr=E=>{ve=Ns[E]?E:"easy",Gi(),Qn(),wn(),Kn(),z=0;for(const F of me)F.baseSpeed=Ui(F.kind),F.speed=F.baseSpeed,F.desiredSpeed=F.baseSpeed;ji(),qn(0),oe!=="running"&&pt("Ready. Press GO to start.")},Yt=E=>{ne=ht(Number(E)||0,1,999999),Zr(),oe!=="running"&&pt("Ready. Press GO to start.")},ro=()=>{if(l)return;if(Math.random()<Hr()){const F=Xn(),D=F[Math.floor(Math.random()*F.length)];ln(D)}Zs();for(let F=me.length-1;F>=0;F--){const D=me[F];D.speed=v1(D.speed,D.desiredSpeed,.14),D.y+=D.speed,D.view.x=D.x,D.view.y=D.y,D.y>q+b+200&&(D.y=q-170-Math.random()*(An()*2),D.baseSpeed=Ui(D.kind),D.speed=D.baseSpeed,D.desiredSpeed=D.baseSpeed,D.driftPhase=Math.random()*Math.PI*2)}if(oe==="running"&&Xe&&yr()-bt>=$r()&&to(),oe!=="running"||!sn(z))return;const E={x:Te.x-16,y:Te.y-16,w:32,h:32};for(const F of me){if(F.laneIdx!==z)continue;const D={x:F.view.x-F.view._hitW/2,y:F.view.y-F.view._hitH/2,w:F.view._hitW,h:F.view._hitH};if(Ri(E,D))return We()}},Tt=()=>{if(l)return;const E=s.renderer.width,F=s.renderer.height;q=ht(Math.floor(F*.08),30,60),K=ht(Math.floor(F*.06),14,40),Y=ht(Math.floor(E*.03),16,40),Gi(),Qn(),Fi(),ee.visible&&qr(oe==="won"?"win":"crash"),vr(),Te.x=on(0),Te.y=zt(),wn(),Kn(),ji(),Xe=!1,bt=0,ft=0,qn(0),Rn("idle","Press GO to start."),_()},io=new ResizeObserver(()=>Tt());return io.observe(i),Gi(),Xr(),Qs(),Tt(),s.ticker.add(ro),pt("Press GO to start."),{startRun:kr,collect:Ul,reset:Vi,setDifficulty:Jr,setStake:Yt,destroy:()=>{l=!0,k();try{io.disconnect()}catch{}try{s.ticker.remove(ro)}catch{}try{s.destroy(!0)}catch{}i.innerHTML=""},advance:()=>kr(),stop:()=>{Ne=!0,pt("Paused.")}}}const cp=(i,e,n)=>Math.max(e,Math.min(n,i)),hp=[{key:"easy",label:"Easy"},{key:"medium",label:"Medium"},{key:"hard",label:"Hard"},{key:"hardcore",label:"Hardcore"}],Vu="cr_pts_balance_v2";function C1(){const i=Qe.useRef(null),e=Qe.useRef(null),n=Qe.useRef(!1),s=Qe.useRef(100),[l,a]=Qe.useState(()=>{try{const Q=Number(localStorage.getItem(Vu));return Number.isFinite(Q)&&Q>=0?Q:100}catch{return 100}}),c=()=>{a(100);try{localStorage.removeItem(Vu)}catch{}};Qe.useEffect(()=>{try{localStorage.setItem(Vu,String(l))}catch{}},[l]);const[h,f]=Qe.useState(100),[m,g]=Qe.useState("easy"),[y,v]=Qe.useState("idle"),[_,k]=Qe.useState(0),[C,w]=Qe.useState(1),[T,A]=Qe.useState(0),[R,N]=Qe.useState(0),[H,O]=Qe.useState(!1),[G,ae]=Qe.useState(!1),[te,Z]=Qe.useState(1e3),ne=Qe.useMemo(()=>[100,200,500,1e3,2e3,5e3],[]),ve=Qe.useMemo(()=>[500,1e3,5e3,1e4,25e3],[]),oe=l>=h,ke=y==="running"||(y==="idle"||y==="lost"||y==="won")&&oe,Ee=y==="won"&&T>0,$=(Q,de)=>Math.round(Q+Q*(Number(de)||0));Qe.useEffect(()=>{if(!i.current)return;let Q=!1,de=null;return(async()=>{if(de=await k1(i.current,{onEvent:me=>{if(me){if(me.type==="lane"&&k(me.lane),me.type==="mult"){const Se=Number(me.mult??1);w(Se);const Pe=y==="running"?s.current:h;N($(Pe,Se))}if(me.type==="lost"&&(v("lost"),n.current=!1,A(0),N(0)),me.type==="won"){v("won"),n.current=!1;const Se=Number(me.finalMult??1),Pe=s.current,Ne=$(Pe,Se);A(Ne),N(Ne)}}}}),Q){de?.destroy?.(),de=null;return}e.current=de,de.setStake?.(h),de.setDifficulty?.(m),de.reset?.(),n.current=!1,v("idle"),k(0),w(1),N($(h,1)),A(0)})(),()=>{Q=!0;try{de?.destroy?.()}catch{}e.current=null}},[]),Qe.useEffect(()=>{e.current&&(e.current.setStake?.(h),y!=="running"&&N($(h,C)))},[h]),Qe.useEffect(()=>{e.current&&e.current.setDifficulty?.(m)},[m]);const q=Q=>{const de=cp(Number(Q)||0,0,999999999);de<=0||a(me=>me+de)},K=()=>{Z(1e3),ae(!0)},Y=()=>{const Q=e.current;Q&&oe&&(n.current||(a(de=>Math.max(0,de-h)),n.current=!0,s.current=h),A(0),v("running"),k(0),w(1),N($(s.current,1)),Q.reset?.(),Q.startRun?.())},J=()=>{const Q=e.current;if(Q){if(y!=="running"){Y();return}Q.advance?.()}},b=()=>{Ee&&(q(T),A(0),v("idle"),k(0),w(1),N($(h,1)),n.current=!1)},z=()=>{e.current&&(n.current=!1,v("idle"),k(0),w(1),A(0),N($(h,1)),e.current.reset?.())},pe=Q=>{f(cp(Number(Q)||0,50,5e5))},_e=Q=>{g(Q),O(!1)};return re.jsxs("div",{className:"cr-app",children:[re.jsxs("div",{className:"cr-phone",children:[re.jsxs("div",{className:"cr-topbar",children:[re.jsxs("div",{className:"cr-brand",children:[re.jsx("button",{className:"cr-menuBtn",onClick:()=>O(!0),type:"button","aria-label":"Open settings",children:""}),re.jsx("span",{className:"cr-dot"}),re.jsx("span",{className:"cr-brandText",children:"CHICKEN ROAD"})]}),re.jsxs("div",{className:"cr-topbarRight",children:[re.jsxs("div",{className:"cr-balance",title:"Wallet balance (points)",children:[re.jsxs("span",{className:"cr-balanceNum",children:[l.toLocaleString()," pts"]}),re.jsx("span",{className:"cr-coin",children:""})]}),re.jsx("button",{className:"cr-buyBtn",type:"button",onClick:K,title:"Buy points",children:"+ Buy"})]})]}),re.jsxs("div",{className:"cr-gameWrap",children:[re.jsxs("div",{className:"cr-gameHud",children:[re.jsxs("div",{className:"cr-hudLeft",children:[re.jsxs("div",{className:"cr-pill",children:["Lane: ",re.jsxs("b",{children:[_+1,"/12"]})]}),re.jsxs("div",{className:"cr-pill",children:["Mult: ",re.jsxs("b",{children:[C.toFixed(2),"x"]})]})]}),re.jsx("div",{className:"cr-hudRight",children:re.jsxs("div",{className:"cr-pill",children:["Reward: ",re.jsx("b",{children:R.toLocaleString()})]})})]}),re.jsx("div",{className:"cr-canvas",ref:i}),re.jsx("div",{className:"cr-tip",children:"Press GO to move "})]}),re.jsxs("div",{className:"cr-panel",children:[re.jsxs("div",{className:"cr-stakeRow",children:[re.jsxs("div",{className:"cr-stakeBox",children:[re.jsx("div",{className:"cr-stakeLabel",children:"Stake"}),re.jsx("div",{className:"cr-stakeVal",children:h})]}),re.jsx("div",{className:"cr-stakeMeta",children:re.jsxs("div",{className:"cr-pill",children:["Diff: ",re.jsx("b",{children:hp.find(Q=>Q.key===m)?.label||"Easy"})]})})]}),re.jsx("div",{className:"cr-chipRow",children:ne.map(Q=>re.jsx("button",{className:"cr-chip "+(h===Q?"is-active":""),onClick:()=>pe(Q),type:"button",disabled:y==="running",children:Q},Q))}),re.jsxs("div",{className:"cr-actions",children:[re.jsxs("button",{className:"cr-action cr-yellow "+(Ee?"":"is-disabled"),onClick:b,disabled:!Ee,type:"button",title:y!=="won"?"Collect is only available after you WIN":"",children:["COLLECT",re.jsx("br",{}),re.jsxs("span",{className:"cr-sub",children:[T.toLocaleString()," pts"]})]}),re.jsx("button",{className:"cr-action cr-green "+(ke?"":"is-disabled"),onClick:J,disabled:!ke,type:"button",title:y!=="running"&&!oe?"Not enough points to start this stake":"",children:"GO"})]}),re.jsxs("div",{className:"cr-foot",children:[y!=="running"&&!oe&&re.jsxs("span",{className:"cr-warn",children:[" Not enough points to start this stake. Reduce stake or"," ",re.jsx("button",{className:"cr-inlineLink",type:"button",onClick:K,children:"buy points"}),"."]}),y==="lost"&&re.jsx("span",{className:"cr-warn",children:" Oops! You got burned."}),y==="won"&&re.jsxs("span",{className:"cr-win",children:[" You won! Claim ",re.jsxs("b",{children:[T.toLocaleString()," pts"]})," with COLLECT."]})]}),re.jsx("div",{className:"cr-resetRow",children:re.jsx("button",{className:"cr-resetBtn",type:"button",onClick:z,children:"Reset"})})]})]}),H&&re.jsx("div",{className:"cr-drawerOverlay",onClick:()=>O(!1),children:re.jsxs("div",{className:"cr-drawer",onClick:Q=>Q.stopPropagation(),children:[re.jsxs("div",{className:"cr-drawerHead",children:[re.jsx("div",{className:"cr-drawerTitle",children:"Settings"}),re.jsx("button",{className:"cr-drawerClose",type:"button",onClick:()=>O(!1),children:""})]}),re.jsxs("div",{className:"cr-drawerSection",children:[re.jsx("div",{className:"cr-drawerLabel",children:"Difficulty"}),re.jsx("div",{className:"cr-drawerGrid",children:hp.map(Q=>re.jsx("button",{type:"button",className:"cr-drawerBtn "+(m===Q.key?"is-active":""),onClick:()=>_e(Q.key),children:Q.label},Q.key))})]}),re.jsxs("div",{className:"cr-drawerSection",children:[re.jsx("div",{className:"cr-drawerLabel",children:"Wallet"}),re.jsx("button",{type:"button",className:"cr-drawerBuy",onClick:()=>{O(!1),K()},children:"Buy Points"}),re.jsx("button",{type:"button",className:"cr-drawerDanger",onClick:()=>{c(),O(!1)},style:{marginTop:10},children:"Reset Wallet (Back to 100 pts)"}),re.jsx("div",{className:"cr-drawerNote",style:{marginTop:10},children:"Wallet is saved on this device only."})]})]})}),G&&re.jsx("div",{className:"cr-buyOverlay",onClick:()=>ae(!1),children:re.jsxs("div",{className:"cr-buyModal",onClick:Q=>Q.stopPropagation(),children:[re.jsxs("div",{className:"cr-buyHead",children:[re.jsx("div",{className:"cr-buyTitle",children:"Buy Points"}),re.jsx("button",{className:"cr-buyClose",type:"button",onClick:()=>ae(!1),children:""})]}),re.jsx("div",{className:"cr-buyPacks",children:ve.map(Q=>re.jsxs("button",{type:"button",className:"cr-packBtn",onClick:()=>{q(Q),ae(!1)},children:["+",Q.toLocaleString()," pts"]},Q))}),re.jsxs("div",{className:"cr-buyRow",children:[re.jsx("input",{className:"cr-buyInput",type:"number",min:"1",value:te,onChange:Q=>Z(Number(Q.target.value||0)),placeholder:"Custom amount"}),re.jsx("button",{className:"cr-buyConfirm",type:"button",onClick:()=>{q(te),ae(!1)},children:"Add"})]}),re.jsx("div",{className:"cr-buyHint",children:"Demo wallet only (no real payments). Useful for testing gameplay."})]})})]})}yy.createRoot(document.getElementById("root")).render(re.jsx(cy.StrictMode,{children:re.jsx(C1,{})}));export{ot as $,sm as A,Ft as B,Be as C,Ht as D,Le as E,Sp as F,Il as G,yn as H,Ap as I,pf as J,js as K,F0 as L,be as M,V0 as N,qs as O,St as P,et as Q,Ju as R,pc as S,pl as T,Qu as U,ax as V,gf as W,Ru as X,yf as Y,d0 as Z,Ml as _,Yp as a,c0 as a0,Pp as a1,om as a2,Ie as a3,Je as a4,fx as a5,Dx as a6,Rx as a7,r_ as a8,s_ as a9,d_ as aa,c_ as ab,f_ as ac,cm as ad,Pi as ae,bl as af,sp as ag,Tm as ah,mx as ai,Ci as aj,vm as ak,Lf as al,If as am,Ke as an,Ny as ao,up as ap,km as aq,Tn as b,m_ as c,Tx as d,rn as e,Nf as f,Px as g,Ys as h,Cl as i,fc as j,nm as k,Bp as l,xn as m,Kp as n,ac as o,n_ as p,i_ as q,Yy as r,h_ as s,a_ as t,tt as u,ze as v,Mt as w,Iy as x,p_ as y,nn as z};
